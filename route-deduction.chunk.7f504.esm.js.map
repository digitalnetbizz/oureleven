{"version":3,"sources":["webpack:///./components/IncomeInput/index.tsx","webpack:///./routes/deduction/index.tsx","webpack:///./stores/taxconfig.tsx","webpack:///./stores/stores.tsx"],"names":["IncomeInput","props","class","style","title","onChange","e","preventDefault","store","enabled","value","amt","inputs","document","querySelectorAll","nextFocusIndex","target","idx","i","length","getNextFocusIndex","setTimeout","element","focus","select","focusNextElement","type","checked","onBlur","currentTarget","val","parseInt","disabled","description","Deduction","deductionData","setDeductionData","useState","useEffect","temp","push","left_over","Stores","income","agi","deduction","pretax","xmlns","width","height","fill","viewBox","d","about","has_child","f529_contribution","utma_contribution","roth_ira","medical_dental_expense","college_expense","salt","mortgage_interest","business_deduction","early_withdrawal_penalty","investment_expense","charity_contribution","other_deduction","onClick","route","id","standardized_deduction","itemized_deduction","chartType","data","options","pieHole","is3D","titleTextStyle","fontName","fontSize","TaxConfig","static","taxableIncome","longtermCapgain","filingStatus","brackets","getTaxBracket","taxableIncomeMinusLongTerm","Math","max","taxWithoutLongTerm","getTaxWithBracket","longterm_brackets","getLongTermBracket","getLongTermCapGainTaxWithBracket","tax","prev_ceiling","remainder","rate","ceilng","min","longtermCapGain","bracket_array","single_filing_longterm_capgain","married_separate_filing_longterm_capgain","married_joint_filing_longterm_capgain","head_household_filing_longterm_capgain","single_filing_bracket","married_separate_filing_bracket","married_joint_filing_bracket","head_of_household_bracket","Number","MAX_VALUE","filing_status","signal","child_under17_count","dependent_count","computed","w2","rsu","f401k_match","f401k_contrib","f1099b_longterm","f1099b_shortterm","f1099misc","f1099r","f1099g","farm","f1099_div_qualified","f1099_div","f1099_int_taxfree","f1099_int","gambling_other","espp_discount","ira","hsa","fsa","utma_gain","magi","tax_advantage_income","standard_deduction","medical_dental_qualification","medical_dental_allowed","std","res","itemize","eic","child_tax_credit","enable","dependent_credit","child_dependent_care_expense","premium_tax_credit","residential_energy_credit","ev_credit","foreign_tax_credit","total_tax_credit","taxcredit","taxable_income","toFixed","tax_amount","longterm_capgain","getTaxAmount","effective_tax_rate","due"],"mappings":"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","file":"route-deduction.chunk.7f504.esm.js","sourcesContent":["import { h } from 'preact';\r\n\r\nconst IncomeInput = (props: any) => {\r\n\r\n\tconst toggle = (e: Event) => {\r\n        e.preventDefault()\r\n\t\tprops.store.enabled.value = !props.store.enabled.value\r\n\r\n        if(props.store.enabled.value === false) {\r\n            props.store.amt.value = 0\r\n        } else {\r\n            focusNextElement(e)\r\n        }\r\n\t};\r\n\r\n    function focusNextElement(e: Event) { \r\n        let inputs = document.querySelectorAll('input')\r\n        let nextFocusIndex = getNextFocusIndex(inputs, e.target as HTMLElement)\r\n        setTimeout(() => {\r\n            let element = inputs[nextFocusIndex]\r\n            element.focus()\r\n            element.select()\r\n        }, 0)\r\n        \r\n    }\r\n\r\n    function getNextFocusIndex(inputs: NodeListOf<HTMLInputElement>, target: HTMLElement) {\r\n        let idx = 0\r\n\r\n        for(let i=0; i<inputs.length; ++i) {\r\n            if(inputs[i] == target) {\r\n                // found \r\n                if(i !== inputs.length - 1) {\r\n                    idx = i+1\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        return idx\r\n    }\r\n\r\n    const updateValue = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLInputElement\r\n        if(element.value === '') {\r\n            element.value = \"0\"\r\n            props.store.enabled.value = false\r\n        } else {\r\n            let val = parseInt(element.value)\r\n            if(val > 0) {\r\n                props.store.amt.value = val\r\n            } else {\r\n                element.value = \"0\"\r\n                props.store.enabled.value = false    \r\n            }\r\n        }\r\n\t\t\r\n\t};\r\n\r\n    return (\r\n        <div class=\"mb-3 border rounded\" style=\"width:450px;padding:5px;\">\r\n            <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" style=\"width:180px;font-size:10pt;\">{props.title}</span>\r\n                <div class=\"input-group-text\">\r\n                    <input onChange={toggle} class=\"form-check-input mt-0\" type=\"checkbox\" aria-label=\"Checkbox for following text input\" checked={props.store.enabled.value}/>\r\n                </div>\r\n                <span class=\"input-group-text\">$</span>\r\n                <input onBlur={updateValue} type=\"number\" value={props.store.amt.value} aria-label=\"Amount\" class=\"form-control text-end\" disabled={props.store.enabled.value === false}></input>\r\n                <span class=\"input-group-text\">.00</span>\r\n            </div>\r\n            <label style=\"font-size:11px;padding-left:4px;\">{props.description}</label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IncomeInput;","import { h } from 'preact';\r\nimport { route } from 'preact-router';\r\nimport { useEffect, useState } from 'preact/hooks';\r\nimport IncomeInput from '../../components/IncomeInput';\r\nimport { Stores } from '../../stores/stores';\r\nimport { Chart } from \"react-google-charts\";\r\n\r\nconst Deduction = () => {\r\n\tconst [deductionData, setDeductionData] = useState([['income', 'amount']]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet temp: any = []\r\n\t\ttemp.push(['income', 'amount'])\r\n\t\t\r\n\t\tlet left_over = parseInt(Stores.income.agi.value) - parseInt(Stores.deduction.deduction.value[1])\r\n\t\tlet deduction = 0\r\n\t\tif(left_over >= 0) {\r\n\t\t\tdeduction = parseInt(Stores.deduction.deduction.value[1])\r\n\t\t} else {\r\n\t\t\tdeduction = parseInt(Stores.deduction.deduction.value[1]) + left_over\r\n\t\t\tif(deduction < 0) {\r\n\t\t\t\tdeduction = 0\r\n\t\t\t}\r\n\t\t} \r\n\t\ttemp.push(['Pretax income', parseInt(Stores.income.pretax.value)])\r\n\t\ttemp.push(['Deductions', deduction])\r\n\t\ttemp.push(['Taxable income', parseInt(Stores.income.agi.value) - deduction])\r\n\r\n\t\tsetDeductionData(temp)\r\n\r\n\t}, [Stores.deduction.deduction.value, Stores.income.agi.value]);\r\n\r\n\tconst deduction_options = {\r\n\t\ttitle: \"Income Distribution\",\r\n\t\tpieHole: 0.5,\r\n\t\tis3D: false,\r\n\t\ttitleTextStyle: {\r\n\t\t\tfontName: 'Helvetica',\r\n\t\t\tfontSize: 14,\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderChildElements = () => {\r\n\t\tif(Stores.about.has_child.value) {\r\n\t\t\treturn \t<div class=\"row align-items-start\">\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<IncomeInput store={Stores.deduction.f529_contribution} title=\"529 contribution\" \r\n\t\t\t\t\t\t\t\tdescription=\"Estimated annual 529 contribution. 529 limit is $16k per parent, per year. 529 grows tax-free for education use.\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<IncomeInput store={Stores.deduction.utma_contribution} title=\"UTMA contribution\" \r\n\t\t\t\t\t\t\t\tdescription=\"Estimated UTMA contribution to child. If joint filing, sum up both. UTMA account contribution is considered gift and limit to $16k per parent, per year.\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t} else {\r\n\t\t\treturn <div/>\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleDependentCount = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLInputElement\r\n\t\tStores.about.dependent_count.value = parseInt(element.value)\r\n\t};\r\n\r\n\tconst handleTaxFiling = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLSelectElement\r\n\t\tStores.about.filing_status.value = parseInt(element.value)\r\n\t};\r\n\r\n    return (\r\n\t\t<div style=\"padding:10px;\">\r\n\t\t\t<p style=\"height:50px;\"/> \r\n\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<h6>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-people\" viewBox=\"0 0 16 16\">\r\n\t\t\t\t\t\t<path d=\"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z\"/>\r\n\t\t\t\t\t</svg>&nbsp;\r\n                    <i>Post-tax Contribution</i></h6>\r\n\t\t\t\t\r\n\t\t\t\t{ renderChildElements() }\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.deduction.roth_ira} title=\"Roth IRA\" \r\n\t\t\t\t\t\t\tdescription=\"A Roth IRA is a way to save for retirement that gives you tax advantages. Generally, amounts in your Roth IRA (including earnings and gains) are not taxed and able to grow tax-free. The annual contribution limit for 2023 is $6,500, or $7,500 if you're age 50 or older. To qualify, MAGI less than $129,000 for a full contribution or $129,000 - $144,000 for a partial contribution. Married filing jointly: MAGI less than $204,000 for a full contribution or $204,000 - $214,000 for a partial contribution.\"/>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<h6>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-bandaid\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M14.121 1.879a3 3 0 0 0-4.242 0L8.733 3.026l4.261 4.26 1.127-1.165a3 3 0 0 0 0-4.242ZM12.293 8 8.027 3.734 3.738 8.031 8 12.293 12.293 8Zm-5.006 4.994L3.03 8.737 1.879 9.88a3 3 0 0 0 4.241 4.24l.006-.006 1.16-1.121ZM2.679 7.676l6.492-6.504a4 4 0 0 1 5.66 5.653l-1.477 1.529-5.006 5.006-1.523 1.472a4 4 0 0 1-5.653-5.66l.001-.002 1.505-1.492.001-.002Z\"/>\r\n                    <path d=\"M5.56 7.646a.5.5 0 1 1-.706.708.5.5 0 0 1 .707-.708Zm1.415-1.414a.5.5 0 1 1-.707.707.5.5 0 0 1 .707-.707ZM8.39 4.818a.5.5 0 1 1-.708.707.5.5 0 0 1 .707-.707Zm0 5.657a.5.5 0 1 1-.708.707.5.5 0 0 1 .707-.707ZM9.803 9.06a.5.5 0 1 1-.707.708.5.5 0 0 1 .707-.707Zm1.414-1.414a.5.5 0 1 1-.706.708.5.5 0 0 1 .707-.708ZM6.975 9.06a.5.5 0 1 1-.707.708.5.5 0 0 1 .707-.707ZM8.39 7.646a.5.5 0 1 1-.708.708.5.5 0 0 1 .707-.708Zm1.413-1.414a.5.5 0 1 1-.707.707.5.5 0 0 1 .707-.707Z\"/>\r\n                </svg>&nbsp;\r\n                    <i>health & education deduction</i></h6>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.medical_dental_expense} title=\"Medical/Dental Cost\" \r\n\t\t\t\t\t\t\tdescription=\"Estimated paymentfor co-pay, out-of-pocket, medical/dental insurance premium. You can deduct the amount of the total un-reimbursed allowable medical care expenses for the 2022 Tax Year that exceeds 7.5% of your Adjusted Gross Income.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.deduction.college_expense} title=\"College expense\" \r\n\t\t\t\t\t\t\tdescription=\"Estimated annual college expense. The Form 1098-T is a form provided to you and the IRS by an eligible educational institution that reports, among other things, amounts paid for qualified tuition and related expenses. The form may be useful in calculating the amount of the allowable education tax credits.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n                <hr/>\r\n\t\t\t\t<h6>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-piggy-bank\" viewBox=\"0 0 16 16\">\r\n\t\t\t\t\t\t<path d=\"M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm1.138-1.496A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.602 7.602 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962z\"/>\r\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zM2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.558 6.558 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.649 4.649 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393zm12.621-.857a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199z\"/>\r\n\t\t\t\t\t</svg>&nbsp;\r\n                    <i>investment deduction</i></h6>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.salt} title=\"State & Local Tax\" \r\n\t\t\t\t\t\t\tdescription=\"This includes tax from state/local govt such as property tax, vehicle registrations and sales tax. State and local taxes you pay are deductible if you itemize on your federal income tax return. Limit is $10k.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.mortgage_interest} title=\"Rental Mortgage interest\" \r\n\t\t\t\t\t\t\tdescription=\"Estimated interest paid on mortgage. The interest you pay on a mortgage on a home other than your main or second home may be deductible if the proceeds of the loan were used for business, investment, or other deductible purposes.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.business_deduction} title=\"Business deduction\" \r\n\t\t\t\t\t\t\tdescription=\"Estimated business income deduction. This deduction allows you to deduct up to 20% of your Qualified Business Income.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.deduction.early_withdrawal_penalty} title=\"Retirement withdrawal\" \r\n\t\t\t\t\t\t\tdescription=\"10% of total early withdrawal of funds from IRA, 401(k), or other qualified retirement.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.investment_expense} title=\"Investment expense\" \r\n\t\t\t\t\t\t\tdescription=\"Estimated investment expense. Any interest you paid on borrowed money to buy taxable investments (property, stocks, etc.).\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n    \t\t\t\t</div>\r\n\t\t\t\t</div>                \r\n                <hr/>\r\n\t\t\t\t<h6>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-currency-dollar\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z\"/>\r\n                  </svg>&nbsp;\r\n                   <i>other deduction</i></h6>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.charity_contribution} title=\"Charitable donation\" \r\n\t\t\t\t\t\t\tdescription=\"Donations made to charitable foundation. You can claim up to $500 without receipt.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.other_deduction} title=\"Other Itemized\" \r\n\t\t\t\t\t\t\tdescription=\"Estimated other uncommon itemized deduction.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>                \r\n\t\t\t\t<hr/>\r\n\r\n<button type=\"button\" class=\"btn btn-success\" onClick={() =>route('/income')}>Back: Income</button>&nbsp;\r\n<button type=\"button\" class=\"btn btn-success\" onClick={() =>route('/taxcredit')}>Next: Tax Credit</button>\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<div class=\"mb-3 border rounded\" style=\"width:450px;padding:5px;\">\r\n\t\t\t\t\t\t\t<div class=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\" style=\"width:180px;font-size:11pt;\">{Stores.deduction.deduction.value[0]}</span>\r\n\t\t\t\t\t\t\t\t<input  type=\"number\" id=\"txt_total\" value={Stores.deduction.deduction.value[1]} aria-label=\"Total\" class=\"form-control text-end\" disabled={true}></input>\r\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">.00</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<label style=\"font-size:12px;\">Standard deduction is ${Stores.deduction.standardized_deduction.value}. Itemized deduction is ${Stores.deduction.itemized_deduction.value}. {Stores.deduction.deduction.value[0]} is best for your case.</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<Chart\r\n\t\t\t\t\t\t\tchartType=\"PieChart\"\r\n\t\t\t\t\t\t\tdata={deductionData}\r\n\t\t\t\t\t\t\toptions={deduction_options}\r\n\t\t\t\t\t\t\twidth={\"450px\"}\r\n\t\t\t\t\t\t\theight={\"350px\"}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t\r\n\t);\r\n};\r\n\r\nexport default Deduction;\r\n","\r\n\r\n\r\nexport class TaxConfig {\r\n\r\n    static getTaxAmount(taxableIncome: number, longtermCapgain: number, filingStatus: number) {\r\n\r\n        let brackets = TaxConfig.getTaxBracket(filingStatus)\r\n        if(longtermCapgain > 0) {\r\n            let taxableIncomeMinusLongTerm = Math.max(taxableIncome - longtermCapgain, 0)\r\n            let taxWithoutLongTerm = TaxConfig.getTaxWithBracket(taxableIncomeMinusLongTerm, brackets)\r\n\r\n            let longterm_brackets = TaxConfig.getLongTermBracket(filingStatus)\r\n            let longtermTax = TaxConfig.getLongTermCapGainTaxWithBracket(taxableIncome, longtermCapgain, longterm_brackets)\r\n            return taxWithoutLongTerm + longtermTax\r\n\r\n        } else {\r\n            return TaxConfig.getTaxWithBracket(taxableIncome, brackets)    \r\n        }\r\n    }\r\n\r\n    static getTaxWithBracket(taxableIncome: number, brackets: number[][]) {\r\n        let tax = 0\r\n        let prev_ceiling = 0\r\n        let remainder = taxableIncome\r\n\r\n        for(let i=0; i<brackets.length; ++i) {\r\n            if(remainder <= 0) break\r\n\r\n            let rate: number = brackets[i][0]\r\n            let ceilng: number = brackets[i][1]\r\n\r\n            let amt = Math.min(ceilng - prev_ceiling, remainder)\r\n            if(i === brackets.length - 1) { // last index\r\n                amt = remainder\r\n                tax += amt * (rate / 100)\r\n                break\r\n            }\r\n            \r\n            tax += amt * (rate / 100)\r\n            remainder -= (ceilng - prev_ceiling)\r\n            prev_ceiling = ceilng\r\n        }\r\n        return tax\r\n    }\r\n\r\n    static getLongTermCapGainTaxWithBracket(taxableIncome: number, longtermCapGain: number, brackets: number[][]) {\r\n\r\n        let tax = 0\r\n        for(let i=0; i<brackets.length; ++i) {\r\n          \r\n            let rate: number = brackets[i][0]\r\n            let ceilng: number = brackets[i][1]\r\n\r\n            if(ceilng >= taxableIncome) {\r\n                tax = longtermCapGain * (rate / 100)\r\n                break\r\n            }\r\n        }\r\n        return tax\r\n    }\r\n\r\n    static getLongTermBracket(filingStatus: number) : number[][] {\r\n        let bracket_array: number[][] = []\r\n        // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        switch(filingStatus) {\r\n            case 0: bracket_array = TaxConfig.single_filing_longterm_capgain; break;\r\n            case 1: bracket_array = TaxConfig.married_separate_filing_longterm_capgain; break;\r\n            case 2: bracket_array = TaxConfig.married_joint_filing_longterm_capgain; break;\r\n            case 3: bracket_array = TaxConfig.head_household_filing_longterm_capgain; break;\r\n            default: break\r\n        }\r\n        return bracket_array\r\n    }\r\n\r\n    static getTaxBracket(filingStatus: number) : number[][] {\r\n        let bracket_array: number[][] = []\r\n        // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        switch(filingStatus) {\r\n            case 0: bracket_array = TaxConfig.single_filing_bracket; break;\r\n            case 1: bracket_array = TaxConfig.married_separate_filing_bracket; break;\r\n            case 2: bracket_array = TaxConfig.married_joint_filing_bracket; break;\r\n            case 3: bracket_array = TaxConfig.head_of_household_bracket; break;\r\n            default: break\r\n        }\r\n        return bracket_array\r\n    }\r\n\r\n    static married_joint_filing_longterm_capgain = [\r\n        [0, 83350],\r\n        [15, 517200],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static married_separate_filing_longterm_capgain = [\r\n        [0, 41675],\r\n        [15, 258600],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static single_filing_longterm_capgain = [\r\n        [0, 41675],\r\n        [15, 459750],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static head_household_filing_longterm_capgain = [\r\n        [0, 55800],\r\n        [15, 488500],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static married_joint_filing_bracket = [\r\n        [10, 20550],\r\n        [12, 83550],\r\n        [22, 178150],\r\n        [24, 340100],\r\n        [32, 431900],\r\n        [35, 647850],\r\n        [37, Number.MAX_VALUE]\r\n    ]\r\n        \r\n    static single_filing_bracket = [\r\n        [10, 10275],\r\n        [12, 41775],\r\n        [22, 89075],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 539900],\r\n        [37, Number.MAX_VALUE]\r\n    ]    \r\n\r\n    static married_separate_filing_bracket = [\r\n        [10, 10275],\r\n        [12, 41775],\r\n        [22, 89075],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 323925],\r\n        [37, Number.MAX_VALUE]\r\n    ]        \r\n\r\n    static head_of_household_bracket = [\r\n        [10, 14650],\r\n        [12, 55900],\r\n        [22, 89050],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 539900],\r\n        [37, Number.MAX_VALUE]\r\n    ]  \r\n}","import { computed, signal } from \"@preact/signals\"\r\nimport { TaxConfig } from \"./taxconfig\"\r\n\r\nexport class Stores {\r\n    static about: any = {\r\n        filing_status: signal(0), // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        child_under17_count: signal(0),// number of child dependent under 17\r\n        dependent_count: signal(0), // number of dependent over 17\r\n        has_child: computed(() => {\r\n            return this.about.child_under17_count.value > 0 || this.about.dependent_count.value > 0\r\n        })\r\n    }\r\n\r\n    static income: any = {\r\n        w2: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        rsu: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },        \r\n        f401k_match: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f401k_contrib: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099b_longterm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099b_shortterm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099misc: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        }, // misc, nec, rental\r\n        f1099r: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099g: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        farm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_div_qualified: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_div: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_int_taxfree: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_int: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        gambling_other: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        espp_discount: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        ira:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        hsa:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        fsa:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        utma_gain:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        income: computed(() => {\r\n            return parseInt(this.income.w2.amt.value) + parseInt(this.income.rsu.amt.value) + parseInt(this.income.f401k_match.amt.value) +\r\n                parseInt(this.income.f1099b_longterm.amt.value) + parseInt(this.income.f1099b_shortterm.amt.value) + parseInt(this.income.f1099_int_taxfree.amt.value) +\r\n                parseInt(this.income.f1099g.amt.value) + parseInt(this.income.f1099misc.amt.value) + parseInt(this.income.f1099r.amt.value) + \r\n                parseInt(this.income.farm.amt.value) + parseInt(this.income.f1099_int.amt.value) + parseInt(this.income.f1099_div.amt.value) + \r\n                parseInt(this.income.f1099_div_qualified.amt.value) + parseInt(this.income.gambling_other.amt.value) + parseInt(this.income.espp_discount.amt.value) +\r\n                parseInt(this.income.utma_gain.amt.value)\r\n        }),              \r\n        pretax: computed(() => {\r\n            return parseInt(this.income.fsa.amt.value) + parseInt(this.income.hsa.amt.value) +\r\n                parseInt(this.income.ira.amt.value) +  parseInt(this.income.f1099_int_taxfree.amt.value) +\r\n                parseInt(this.income.f401k_match.amt.value) + parseInt(this.income.f401k_contrib.amt.value) + \r\n                parseInt(this.income.utma_gain.amt.value)\r\n        }),\r\n        magi: computed(() => {\r\n            return this.income.agi + parseInt(this.income.f1099_int_taxfree.amt.value)\r\n        }),\r\n        agi: computed(() => {\r\n                return this.income.income - this.income.pretax\r\n        }),\r\n        tax_advantage_income: computed(() => {\r\n                return this.income.pretax + parseInt(this.income.espp_discount.amt.value) +\r\n                    parseInt(this.income.f1099_div_qualified.amt.value) + parseInt(this.income.f1099b_longterm.amt.value)\r\n        })\r\n    }\r\n\r\n    static deduction: any = {\r\n        medical_dental_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        standard_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        business_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        mortgage_interest:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        salt:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        charity_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        other_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n    \r\n        college_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        early_withdrawal_penalty:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        investment_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f529_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        utma_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        roth_ira:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },            \r\n\r\n        itemized_deduction: computed(() => {\r\n            let medical_dental_qualification = 0.075 * Stores.income.agi.value\r\n            let medical_dental_allowed = Math.max(0, parseInt(this.deduction.medical_dental_expense.amt.value) - medical_dental_qualification)\r\n            \r\n            return parseInt(this.deduction.business_deduction.amt.value) + medical_dental_allowed + \r\n                parseInt(this.deduction.mortgage_interest.amt.value) +  parseInt(this.deduction.salt.amt.value) +\r\n                parseInt(this.deduction.charity_contribution.amt.value) + parseInt(this.deduction.college_expense.amt.value) + \r\n                parseInt(this.deduction.early_withdrawal_penalty.amt.value) + parseInt(this.deduction.investment_expense.amt.value) +\r\n                parseInt(this.deduction.other_deduction.amt.value)\r\n        }),\r\n\r\n        standardized_deduction: computed(() => {\r\n            let std = 0\r\n            let filing = this.about.filing_status.value\r\n            // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n            switch(filing) {\r\n                case 0:\r\n                case 1: std = 12950; break;\r\n                case 2: std = 25900; break;\r\n                case 3: std = 19400; break;\r\n                default: std = 0; break;\r\n            }\r\n\r\n            return std\r\n        }),\r\n        deduction: computed(() => {\r\n            let res = []\r\n            let std = parseInt(this.deduction.standardized_deduction.value)\r\n            let itemize = parseInt(this.deduction.itemized_deduction.value)\r\n\r\n            if(std > itemize) {\r\n                res = ['Standard Deduction',std]\r\n            } else {\r\n                res = ['Itemized Deduction', itemize]\r\n            }\r\n            return res\r\n        })\r\n\r\n    }\r\n\r\n    static taxcredit: any = {\r\n        eic:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        child_tax_credit: {\r\n            enabled: signal(false),\r\n            amt: computed(() => {\r\n                let enable = false\r\n                if(this.about.filing_status.value === 2) {\r\n                    enable = (this.income.magi < 400000)\r\n                } else {\r\n                    enable = (this.income.magi < 200000)\r\n                }\r\n\r\n                if(enable) {\r\n                    if(this.about.child_under17_count.value === 0) {\r\n                        enable = false\r\n                    }\r\n                }\r\n\r\n                let res = 0\r\n                if(enable) {\r\n                    res = (this.about.child_under17_count.value * 2000)\r\n                }\r\n                return res\r\n            })\r\n        },  \r\n        dependent_credit:  {\r\n            enabled: signal(false),\r\n            amt: computed(() => {\r\n                let enable = false\r\n                if(this.about.filing_status.value == 2) {\r\n                    enable = (this.income.magi < 400000)\r\n                } else {\r\n                    enable = (this.income.magi < 200000)\r\n                }\r\n\r\n                if(enable) {\r\n                    if(this.about.dependent_count.value === 0) {\r\n                        enable = false\r\n                    }\r\n                }\r\n\r\n                let res = 0\r\n                if(enable) {\r\n                    res = (this.about.dependent_count.value * 500)\r\n                }\r\n                return res\r\n            })\r\n        },  \r\n        child_dependent_care_expense: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        premium_tax_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        residential_energy_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        ev_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        foreign_tax_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        total_tax_credit: computed(() => {\r\n            return parseInt(this.taxcredit.eic.amt.value) + parseInt(this.taxcredit.child_tax_credit.amt.value) + \r\n                    parseInt(this.taxcredit.dependent_credit.amt.value) + parseInt(this.taxcredit.child_dependent_care_expense.amt.value) + \r\n                    parseInt(this.taxcredit.premium_tax_credit.amt.value) + parseInt(this.taxcredit.residential_energy_credit.amt.value) + \r\n                    parseInt(this.taxcredit.ev_credit.amt.value) + parseInt(this.taxcredit.foreign_tax_credit.amt.value)\r\n\r\n        })\r\n    }\r\n\r\n    static tax : any = {\r\n        taxable_income: computed(() => {\r\n            return (Math.max(this.income.agi.value - this.deduction.deduction.value[1], 0)).toFixed(0)\r\n        }),\r\n        tax_amount: computed(() => {\r\n            let longterm_capgain = parseInt(this.income.f1099b_longterm.amt.value) + parseInt(this.income.f1099_div_qualified.amt.value)\r\n            return (TaxConfig.getTaxAmount(this.tax.taxable_income.value, longterm_capgain, Stores.about.filing_status.value)).toFixed(0)\r\n        }),\r\n        effective_tax_rate: computed(() => {\r\n            return ((this.tax.tax_amount.value / this.tax.taxable_income.value) * 100).toFixed(2)\r\n        }),\r\n        due: computed(() => {\r\n            return (this.tax.tax_amount.value - this.taxcredit.total_tax_credit.value).toFixed(0)\r\n        })\r\n    }\r\n    \r\n}\r\n"],"sourceRoot":""}