{"version":3,"sources":["webpack:///../src/index.ts","webpack:///../src/index.js","webpack:///./routes/basic/index.tsx","webpack:///./stores/taxconfig.tsx","webpack:///./stores/stores.tsx"],"names":["cycleDetected","batchDepth","error","hasError","batchedEffect","effect","batchIteration","next","_nextBatchedEffect","_flags","needsToRecompute","_callback","err","signal","evalContext","node","_node","_target","_sources","_version","_source","_prevSource","_nextSource","_prevTarget","_nextTarget","_rollbackNode","_subscribe","value","this","_value","_targets","Signal","target","_refresh","rollbackNode","sources","_unsubscribe","compute","call","_compute","_globalVersion","globalVersion","Computed","cleanupEffect","cleanup","_cleanup","prevContext","disposeEffect","endBatch","endEffect","cleanupSources","Effect","_dispose","bind","hook","hookName","hookFn","options","updater","finishUpdate","_start","_ref","data","currentSignal","useMemo","useSignal","s","v","_this","__v","__","__c","_updateFlags","_updater","base","peek","computed","createPropUpdater","dom","prop","propSignal","props","setAsProperty","ownerSVGElement","changeSignal","_update","newSignal","newProps","setAttribute","removeAttribute","currentComponent","prototype","prev","subscribe","fn","flag","valueOf","toString","Object","defineProperty","get","addDependency","set","_notify","prepareSources","OUTDATED","finish","Text","displayName","defineProperties","constructor","configurable","type","__b","old","vnode","i","signalProps","__np","setCurrentUpdater","component","setState","oldVNode","__e","renderedProps","updaters","_updaters","index","Component","shouldComponentUpdate","state","HAS_PENDING_UPDATE","getHookState","__h","currentHook","hooks","__H","length","push","__V","EMPTY","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","currentIndex","_reducer","currentValue","__N","nextValue","action","_hasScuFromHooks","prevScu","p","c","stateHooks","filter","x","every","shouldUpdate","forEach","hookItem","useEffect","callback","args","__s","argsChanged","_pendingArgs","useLayoutEffect","useRef","initialValue","current","useImperativeHandle","ref","createHandle","concat","factory","useCallback","useContext","context","provider","sub","useDebugValue","formatter","useId","root","__m","mask","flushAfterPaintEffects","afterPaintEffects","shift","invokeCleanup","invokeEffect","e","afterNextFrame","raf","done","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","setTimeout","requestAnimationFrame","comp","oldArgs","newArgs","some","arg","f","previousComponent","prevRaf","oldBeforeDiff","oldBeforeRender","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","commitQueue","cb","hasErrored","Basic","style","class","id","Stores","about","filing_status","onChange","parseInt","currentTarget","for","placeholder","child_under17_count","dependent_count","width","height","autoPlay","loop","src","xmlns","fill","viewBox","d","onClick","route","TaxConfig","static","taxableIncome","longtermCapgain","filingStatus","brackets","getTaxBracket","taxableIncomeMinusLongTerm","Math","max","taxWithoutLongTerm","getTaxWithBracket","longterm_brackets","getLongTermBracket","getLongTermCapGainTaxWithBracket","tax","prev_ceiling","remainder","rate","ceilng","amt","min","longtermCapGain","bracket_array","single_filing_longterm_capgain","married_separate_filing_longterm_capgain","married_joint_filing_longterm_capgain","head_household_filing_longterm_capgain","single_filing_bracket","married_separate_filing_bracket","married_joint_filing_bracket","head_of_household_bracket","Number","MAX_VALUE","has_child","w2","enabled","rsu","f401k_match","f401k_contrib","f1099b_longterm","f1099b_shortterm","f1099misc","f1099r","f1099g","farm","f1099_div_qualified","f1099_div","f1099_int_taxfree","f1099_int","gambling_other","espp_discount","ira","hsa","fsa","utma_gain","income","pretax","magi","agi","tax_advantage_income","medical_dental_expense","standard_deduction","business_deduction","mortgage_interest","salt","charity_contribution","other_deduction","college_expense","early_withdrawal_penalty","investment_expense","f529_contribution","utma_contribution","roth_ira","itemized_deduction","medical_dental_qualification","medical_dental_allowed","deduction","standardized_deduction","std","res","itemize","eic","child_tax_credit","enable","dependent_credit","child_dependent_care_expense","premium_tax_credit","residential_energy_credit","ev_credit","foreign_tax_credit","total_tax_credit","taxcredit","taxable_income","toFixed","tax_amount","longterm_capgain","getTaxAmount","effective_tax_rate","due"],"mappings":"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","file":"route-basic.chunk.5e1f3.esm.js","sourcesContent":["import { options, Component } from \"preact\";\nimport { useRef, useMemo, useEffect } from \"preact/hooks\";\nimport {\n\tsignal,\n\tcomputed,\n\tbatch,\n\teffect,\n\tSignal,\n\ttype ReadonlySignal,\n} from \"@preact/signals-core\";\nimport {\n\tVNode,\n\tOptionsTypes,\n\tHookFn,\n\tEffect,\n\tPropertyUpdater,\n\tAugmentedComponent,\n\tAugmentedElement as Element,\n} from \"./internal\";\n\nexport { signal, computed, batch, effect, Signal, type ReadonlySignal };\n\nconst HAS_PENDING_UPDATE = 1 << 0;\nconst HAS_HOOK_STATE = 1 << 1;\nconst HAS_COMPUTEDS = 1 << 2;\n\n// Install a Preact options hook\nfunction hook<T extends OptionsTypes>(hookName: T, hookFn: HookFn<T>) {\n\t// @ts-ignore-next-line private options hooks usage\n\toptions[hookName] = hookFn.bind(null, options[hookName] || (() => {}));\n}\n\nlet currentComponent: AugmentedComponent | undefined;\nlet finishUpdate: (() => void) | undefined;\n\nfunction setCurrentUpdater(updater?: Effect) {\n\t// end tracking for the current update:\n\tif (finishUpdate) finishUpdate();\n\t// start tracking the new update:\n\tfinishUpdate = updater && updater._start();\n}\n\nfunction createUpdater(update: () => void) {\n\tlet updater!: Effect;\n\teffect(function (this: Effect) {\n\t\tupdater = this;\n\t});\n\tupdater._callback = update;\n\treturn updater;\n}\n\n/** @todo This may be needed for complex prop value detection. */\n// function isSignalValue(value: any): value is Signal {\n// \tif (typeof value !== \"object\" || value == null) return false;\n// \tif (value instanceof Signal) return true;\n// \t// @TODO: uncomment this when we land Reactive (ideally behind a brand check)\n// \t// for (let i in value) if (value[i] instanceof Signal) return true;\n// \treturn false;\n// }\n\n/**\n * A wrapper component that renders a Signal directly as a Text node.\n * @todo: in Preact 11, just decorate Signal with `type:null`\n */\nfunction Text(this: AugmentedComponent, { data }: { data: Signal }) {\n\t// hasComputeds.add(this);\n\n\t// Store the props.data signal in another signal so that\n\t// passing a new signal reference re-runs the text computed:\n\tconst currentSignal = useSignal(data);\n\tcurrentSignal.value = data;\n\n\tconst s = useMemo(() => {\n\t\t// mark the parent component as having computeds so it gets optimized\n\t\tlet v = this.__v;\n\t\twhile ((v = v.__!)) {\n\t\t\tif (v.__c) {\n\t\t\t\tv.__c._updateFlags |= HAS_COMPUTEDS;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Replace this component's vdom updater with a direct text one:\n\t\tthis._updater!._callback = () => {\n\t\t\t(this.base as Text).data = s.peek();\n\t\t};\n\n\t\treturn computed(() => {\n\t\t\tlet data = currentSignal.value;\n\t\t\tlet s = data.value;\n\t\t\treturn s === 0 ? 0 : s === true ? \"\" : s || \"\";\n\t\t});\n\t}, []);\n\n\treturn s.value;\n}\nText.displayName = \"_st\";\n\nObject.defineProperties(Signal.prototype, {\n\tconstructor: { configurable: true },\n\ttype: { configurable: true, value: Text },\n\tprops: {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn { data: this };\n\t\t},\n\t},\n\t// Setting a VNode's _depth to 1 forces Preact to clone it before modifying:\n\t// https://github.com/preactjs/preact/blob/d7a433ee8463a7dc23a05111bb47de9ec729ad4d/src/diff/children.js#L77\n\t// @todo remove this for Preact 11\n\t__b: { configurable: true, value: 1 },\n});\n\n/** Inject low-level property/attribute bindings for Signals into Preact's diff */\nhook(OptionsTypes.DIFF, (old, vnode) => {\n\tif (typeof vnode.type === \"string\") {\n\t\tlet signalProps: Record<string, any> | undefined;\n\n\t\tlet props = vnode.props;\n\t\tfor (let i in props) {\n\t\t\tif (i === \"children\") continue;\n\n\t\t\tlet value = props[i];\n\t\t\tif (value instanceof Signal) {\n\t\t\t\tif (!signalProps) vnode.__np = signalProps = {};\n\t\t\t\tsignalProps[i] = value;\n\t\t\t\tprops[i] = value.peek();\n\t\t\t}\n\t\t}\n\t}\n\n\told(vnode);\n});\n\n/** Set up Updater before rendering a component */\nhook(OptionsTypes.RENDER, (old, vnode) => {\n\tsetCurrentUpdater();\n\n\tlet updater;\n\n\tlet component = vnode.__c;\n\tif (component) {\n\t\tcomponent._updateFlags &= ~HAS_PENDING_UPDATE;\n\n\t\tupdater = component._updater;\n\t\tif (updater === undefined) {\n\t\t\tcomponent._updater = updater = createUpdater(() => {\n\t\t\t\tcomponent._updateFlags |= HAS_PENDING_UPDATE;\n\t\t\t\tcomponent.setState({});\n\t\t\t});\n\t\t}\n\t}\n\n\tcurrentComponent = component;\n\tsetCurrentUpdater(updater);\n\told(vnode);\n});\n\n/** Finish current updater if a component errors */\nhook(OptionsTypes.CATCH_ERROR, (old, error, vnode, oldVNode) => {\n\tsetCurrentUpdater();\n\tcurrentComponent = undefined;\n\told(error, vnode, oldVNode);\n});\n\n/** Finish current updater after rendering any VNode */\nhook(OptionsTypes.DIFFED, (old, vnode) => {\n\tsetCurrentUpdater();\n\tcurrentComponent = undefined;\n\n\tlet dom: Element;\n\n\t// vnode._dom is undefined during string rendering,\n\t// so we use this to skip prop subscriptions during SSR.\n\tif (typeof vnode.type === \"string\" && (dom = vnode.__e as Element)) {\n\t\tlet props = vnode.__np;\n\t\tlet renderedProps = vnode.props;\n\t\tif (props) {\n\t\t\tlet updaters = dom._updaters;\n\t\t\tif (updaters) {\n\t\t\t\tfor (let prop in updaters) {\n\t\t\t\t\tlet updater = updaters[prop];\n\t\t\t\t\tif (updater !== undefined && !(prop in props)) {\n\t\t\t\t\t\tupdater._dispose();\n\t\t\t\t\t\t// @todo we could just always invoke _dispose() here\n\t\t\t\t\t\tupdaters[prop] = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tupdaters = {};\n\t\t\t\tdom._updaters = updaters;\n\t\t\t}\n\t\t\tfor (let prop in props) {\n\t\t\t\tlet updater = updaters[prop];\n\t\t\t\tlet signal = props[prop];\n\t\t\t\tif (updater === undefined) {\n\t\t\t\t\tupdater = createPropUpdater(dom, prop, signal, renderedProps);\n\t\t\t\t\tupdaters[prop] = updater;\n\t\t\t\t} else {\n\t\t\t\t\tupdater._update(signal, renderedProps);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\told(vnode);\n});\n\nfunction createPropUpdater(\n\tdom: Element,\n\tprop: string,\n\tpropSignal: Signal,\n\tprops: Record<string, any>\n): PropertyUpdater {\n\tconst setAsProperty =\n\t\tprop in dom &&\n\t\t// SVG elements need to go through `setAttribute` because they\n\t\t// expect things like SVGAnimatedTransformList instead of strings.\n\t\t// @ts-ignore\n\t\tdom.ownerSVGElement === undefined;\n\n\tconst changeSignal = signal(propSignal);\n\treturn {\n\t\t_update: (newSignal: Signal, newProps: typeof props) => {\n\t\t\tchangeSignal.value = newSignal;\n\t\t\tprops = newProps;\n\t\t},\n\t\t_dispose: effect(() => {\n\t\t\tconst value = changeSignal.value.value;\n\t\t\t// If Preact just rendered this value, don't render it again:\n\t\t\tif (props[prop] === value) return;\n\t\t\tprops[prop] = value;\n\t\t\tif (setAsProperty) {\n\t\t\t\t// @ts-ignore-next-line silly\n\t\t\t\tdom[prop] = value;\n\t\t\t} else if (value) {\n\t\t\t\tdom.setAttribute(prop, value);\n\t\t\t} else {\n\t\t\t\tdom.removeAttribute(prop);\n\t\t\t}\n\t\t}),\n\t};\n}\n\n/** Unsubscribe from Signals when unmounting components/vnodes */\nhook(OptionsTypes.UNMOUNT, (old, vnode: VNode) => {\n\tif (typeof vnode.type === \"string\") {\n\t\tlet dom = vnode.__e as Element | undefined;\n\t\t// vnode._dom is undefined during string rendering\n\t\tif (dom) {\n\t\t\tconst updaters = dom._updaters;\n\t\t\tif (updaters) {\n\t\t\t\tdom._updaters = undefined;\n\t\t\t\tfor (let prop in updaters) {\n\t\t\t\t\tlet updater = updaters[prop];\n\t\t\t\t\tif (updater) updater._dispose();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tlet component = vnode.__c;\n\t\tif (component) {\n\t\t\tconst updater = component._updater;\n\t\t\tif (updater) {\n\t\t\t\tcomponent._updater = undefined;\n\t\t\t\tupdater._dispose();\n\t\t\t}\n\t\t}\n\t}\n\told(vnode);\n});\n\n/** Mark components that use hook state so we can skip sCU optimization. */\nhook(OptionsTypes.HOOK, (old, component, index, type) => {\n\tif (type < 3)\n\t\t(component as AugmentedComponent)._updateFlags |= HAS_HOOK_STATE;\n\told(component, index, type);\n});\n\n/**\n * Auto-memoize components that use Signals/Computeds.\n * Note: Does _not_ optimize components that use hook/class state.\n */\nComponent.prototype.shouldComponentUpdate = function (\n\tthis: AugmentedComponent,\n\tprops,\n\tstate\n) {\n\t// @todo: Once preactjs/preact#3671 lands, this could just use `currentUpdater`:\n\tconst updater = this._updater;\n\tconst hasSignals = updater && updater._sources !== undefined;\n\n\t// let reason;\n\t// if (!hasSignals && !hasComputeds.has(this)) {\n\t// \treason = \"no signals or computeds\";\n\t// } else if (hasPendingUpdate.has(this)) {\n\t// \treason = \"has pending update\";\n\t// } else if (hasHookState.has(this)) {\n\t// \treason = \"has hook state\";\n\t// }\n\t// if (reason) {\n\t// \tif (!this) reason += \" (`this` bug)\";\n\t// \tconsole.log(\"not optimizing\", this?.constructor?.name, \": \", reason, {\n\t// \t\tdetails: {\n\t// \t\t\thasSignals,\n\t// \t\t\thasComputeds: hasComputeds.has(this),\n\t// \t\t\thasPendingUpdate: hasPendingUpdate.has(this),\n\t// \t\t\thasHookState: hasHookState.has(this),\n\t// \t\t\tdeps: Array.from(updater._deps),\n\t// \t\t\tupdater,\n\t// \t\t},\n\t// \t});\n\t// }\n\n\t// if this component used no signals or computeds, update:\n\tif (!hasSignals && !(this._updateFlags & HAS_COMPUTEDS)) return true;\n\n\t// if there is a pending re-render triggered from Signals,\n\t// or if there is hook or class state, update:\n\tif (this._updateFlags & (HAS_PENDING_UPDATE | HAS_HOOK_STATE)) return true;\n\n\t// @ts-ignore\n\tfor (let i in state) return true;\n\n\t// if any non-Signal props changed, update:\n\tfor (let i in props) {\n\t\tif (i !== \"__source\" && props[i] !== this.props[i]) return true;\n\t}\n\tfor (let i in this.props) if (!(i in props)) return true;\n\n\t// this is a purely Signal-driven component, don't update:\n\treturn false;\n};\n\nexport function useSignal<T>(value: T) {\n\treturn useMemo(() => signal<T>(value), []);\n}\n\nexport function useComputed<T>(compute: () => T) {\n\tconst $compute = useRef(compute);\n\t$compute.current = compute;\n\t(currentComponent as AugmentedComponent)._updateFlags |= HAS_COMPUTEDS;\n\treturn useMemo(() => computed<T>(() => $compute.current()), []);\n}\n\nexport function useSignalEffect(cb: () => void | (() => void)) {\n\tconst callback = useRef(cb);\n\tcallback.current = cb;\n\n\tuseEffect(() => {\n\t\treturn effect(() => {\n\t\t\tcallback.current();\n\t\t});\n\t}, []);\n}\n\n/**\n * @todo Determine which Reactive implementation we'll be using.\n * @internal\n */\n// export function useReactive<T extends object>(value: T): Reactive<T> {\n// \treturn useMemo(() => reactive<T>(value), []);\n// }\n\n/**\n * @internal\n * Update a Reactive's using the properties of an object or other Reactive.\n * Also works for Signals.\n * @example\n *   // Update a Reactive with Object.assign()-like syntax:\n *   const r = reactive({ name: \"Alice\" });\n *   update(r, { name: \"Bob\" });\n *   update(r, { age: 42 }); // property 'age' does not exist in type '{ name?: string }'\n *   update(r, 2); // '2' has no properties in common with '{ name?: string }'\n *   console.log(r.name.value); // \"Bob\"\n *\n * @example\n *   // Update a Reactive with the properties of another Reactive:\n *   const A = reactive({ name: \"Alice\" });\n *   const B = reactive({ name: \"Bob\", age: 42 });\n *   update(A, B);\n *   console.log(`${A.name} is ${A.age}`); // \"Bob is 42\"\n *\n * @example\n *   // Update a signal with assign()-like syntax:\n *   const s = signal(42);\n *   update(s, \"hi\"); // Argument type 'string' not assignable to type 'number'\n *   update(s, {}); // Argument type '{}' not assignable to type 'number'\n *   update(s, 43);\n *   console.log(s.value); // 43\n *\n * @param obj The Reactive or Signal to be updated\n * @param update The value, Signal, object or Reactive to update `obj` to match\n * @param overwrite If `true`, any properties `obj` missing from `update` are set to `undefined`\n */\n/*\nexport function update<T extends SignalOrReactive>(\n\tobj: T,\n\tupdate: Partial<Unwrap<T>>,\n\toverwrite = false\n) {\n\tif (obj instanceof Signal) {\n\t\tobj.value = peekValue(update);\n\t} else {\n\t\tfor (let i in update) {\n\t\t\tif (i in obj) {\n\t\t\t\tobj[i].value = peekValue(update[i]);\n\t\t\t} else {\n\t\t\t\tlet sig = signal(peekValue(update[i]));\n\t\t\t\tsig[KEY] = i;\n\t\t\t\tobj[i] = sig;\n\t\t\t}\n\t\t}\n\t\tif (overwrite) {\n\t\t\tfor (let i in obj) {\n\t\t\t\tif (!(i in update)) {\n\t\t\t\t\tobj[i].value = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n*/\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tconst prevScu = currentComponent.shouldComponentUpdate;\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\tcurrentComponent.shouldComponentUpdate = function(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t};\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","import { h } from 'preact';\nimport { route } from 'preact-router';\nimport { Stores } from '../../stores/stores';\n\nconst Basic = () => {\n\n\tconst handleChildUnder17 = (e: Event) => {\n\t\tconst element = e.currentTarget as HTMLInputElement\n\t\tStores.about.child_under17_count.value = parseInt(element.value)\n\t};\n\n\tconst handleDependentCount = (e: Event) => {\n\t\tconst element = e.currentTarget as HTMLInputElement\n\t\tStores.about.dependent_count.value = parseInt(element.value)\n\t};\n\n\tconst handleTaxFiling = (e: Event) => {\n\t\tconst element = e.currentTarget as HTMLSelectElement\n\t\tStores.about.filing_status.value = parseInt(element.value)\n\t};\n\n    return (\n\t\t<div style=\"padding:10px;\">\n\t\t\t<p style=\"height:50px;\"/>\n\n\t\t\t<div class=\"container\">\n\n\t\t\t\t<hr/>\n\t\t\t\t<h5><i>basic information</i></h5>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t\t\t<select class=\"form-select\" id=\"floatingSelect\" aria-label=\"Filing status\" style=\"font-size:11pt;width:300px;\"\n\t\t\t\t\t\t\t\tvalue={Stores.about.filing_status.value} onChange={handleTaxFiling}>\n\t\t\t\t\t\t\t\t<option value=\"0\">Single filing</option>\n\t\t\t\t\t\t\t\t<option value=\"1\">Married filing separately</option>\n\t\t\t\t\t\t\t\t<option value=\"2\">Married joint filing</option>\n\t\t\t\t\t\t\t\t<option value=\"3\">Head of Household</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<label for=\"floatingSelect\">Tax filing status</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<div class=\"form-check\">\n\t\t\t\t\t\t\t<input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"flexCheckDefault\"/>\n\t\t\t\t\t\t\t<label class=\"form-check-label\" for=\"flexCheckDefault\" style=\"font-size:11pt;\">\n\t\t\t\t\t\t\t\tIndividual over-50\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<form class=\"form-floating\" style=\"width:300px;\">\n\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" id=\"under17\" placeholder=\"0\" value={Stores.about.child_under17_count.value}\n\t\t\t\t\t\t\t\tonChange={handleChildUnder17} />\n\t\t\t\t\t\t\t<label for=\"under17\">Number of children under-17</label>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<form class=\"form-floating\" style=\"width:300px;\">\n\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" id=\"dependentover17\" placeholder=\"0\" value={Stores.about.dependent_count.value}\n\t\t\t\t\t\t\t\tonChange={handleDependentCount} />\n\t\t\t\t\t\t\t<label for=\"dependentover17\">Number of other dependent</label>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<video width=\"320\" height=\"320\" autoPlay={true} loop={true}>\n\t\t\t\t\t\t\t<source src=\"../../assets/animations/incometax.mp4\" type=\"video/mp4\"/>\n\t\t\t\t\t\t</video>\n\n\t\t\t\t\t<label style=\"font-size:11pt;font-style:italic;\">Getting information like tax filing, children and age range is to determine different credit limit, tax brackets & contribution limits. This is so that we can get you the best recommendation and getting to a more accurate model. </label>\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\t<label style=\"font-size:11pt;font-style:italic;\">All information enter in this tool will remain in your computer, none of this information will be sent to the cloud. It's completely private.</label>\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" class=\"bi bi-lock\" viewBox=\"0 0 16 16\">\n\t\t\t\t\t\t<path d=\"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z\"/>\n\t\t\t\t\t</svg>&nbsp;&nbsp;\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-success\" onClick={() => route('/income')}>Next: Income</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\"></div>\n\t\t\t\t</div>\n\n\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t);\n};\n\nexport default Basic;\n","\r\n\r\n\r\nexport class TaxConfig {\r\n\r\n    static getTaxAmount(taxableIncome: number, longtermCapgain: number, filingStatus: number) {\r\n\r\n        let brackets = TaxConfig.getTaxBracket(filingStatus)\r\n        if(longtermCapgain > 0) {\r\n            let taxableIncomeMinusLongTerm = Math.max(taxableIncome - longtermCapgain, 0)\r\n            let taxWithoutLongTerm = TaxConfig.getTaxWithBracket(taxableIncomeMinusLongTerm, brackets)\r\n\r\n            let longterm_brackets = TaxConfig.getLongTermBracket(filingStatus)\r\n            let longtermTax = TaxConfig.getLongTermCapGainTaxWithBracket(taxableIncome, longtermCapgain, longterm_brackets)\r\n            return taxWithoutLongTerm + longtermTax\r\n\r\n        } else {\r\n            return TaxConfig.getTaxWithBracket(taxableIncome, brackets)    \r\n        }\r\n    }\r\n\r\n    static getTaxWithBracket(taxableIncome: number, brackets: number[][]) {\r\n        let tax = 0\r\n        let prev_ceiling = 0\r\n        let remainder = taxableIncome\r\n\r\n        for(let i=0; i<brackets.length; ++i) {\r\n            if(remainder <= 0) break\r\n\r\n            let rate: number = brackets[i][0]\r\n            let ceilng: number = brackets[i][1]\r\n\r\n            let amt = Math.min(ceilng - prev_ceiling, remainder)\r\n            if(i === brackets.length - 1) { // last index\r\n                amt = remainder\r\n                tax += amt * (rate / 100)\r\n                break\r\n            }\r\n            \r\n            tax += amt * (rate / 100)\r\n            remainder -= (ceilng - prev_ceiling)\r\n            prev_ceiling = ceilng\r\n        }\r\n        return tax\r\n    }\r\n\r\n    static getLongTermCapGainTaxWithBracket(taxableIncome: number, longtermCapGain: number, brackets: number[][]) {\r\n\r\n        let tax = 0\r\n        for(let i=0; i<brackets.length; ++i) {\r\n          \r\n            let rate: number = brackets[i][0]\r\n            let ceilng: number = brackets[i][1]\r\n\r\n            if(ceilng >= taxableIncome) {\r\n                tax = longtermCapGain * (rate / 100)\r\n                break\r\n            }\r\n        }\r\n        return tax\r\n    }\r\n\r\n    static getLongTermBracket(filingStatus: number) : number[][] {\r\n        let bracket_array: number[][] = []\r\n        // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        switch(filingStatus) {\r\n            case 0: bracket_array = TaxConfig.single_filing_longterm_capgain; break;\r\n            case 1: bracket_array = TaxConfig.married_separate_filing_longterm_capgain; break;\r\n            case 2: bracket_array = TaxConfig.married_joint_filing_longterm_capgain; break;\r\n            case 3: bracket_array = TaxConfig.head_household_filing_longterm_capgain; break;\r\n            default: break\r\n        }\r\n        return bracket_array\r\n    }\r\n\r\n    static getTaxBracket(filingStatus: number) : number[][] {\r\n        let bracket_array: number[][] = []\r\n        // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        switch(filingStatus) {\r\n            case 0: bracket_array = TaxConfig.single_filing_bracket; break;\r\n            case 1: bracket_array = TaxConfig.married_separate_filing_bracket; break;\r\n            case 2: bracket_array = TaxConfig.married_joint_filing_bracket; break;\r\n            case 3: bracket_array = TaxConfig.head_of_household_bracket; break;\r\n            default: break\r\n        }\r\n        return bracket_array\r\n    }\r\n\r\n    static married_joint_filing_longterm_capgain = [\r\n        [0, 83350],\r\n        [15, 517200],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static married_separate_filing_longterm_capgain = [\r\n        [0, 41675],\r\n        [15, 258600],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static single_filing_longterm_capgain = [\r\n        [0, 41675],\r\n        [15, 459750],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static head_household_filing_longterm_capgain = [\r\n        [0, 55800],\r\n        [15, 488500],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static married_joint_filing_bracket = [\r\n        [10, 20550],\r\n        [12, 83550],\r\n        [22, 178150],\r\n        [24, 340100],\r\n        [32, 431900],\r\n        [35, 647850],\r\n        [37, Number.MAX_VALUE]\r\n    ]\r\n        \r\n    static single_filing_bracket = [\r\n        [10, 10275],\r\n        [12, 41775],\r\n        [22, 89075],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 539900],\r\n        [37, Number.MAX_VALUE]\r\n    ]    \r\n\r\n    static married_separate_filing_bracket = [\r\n        [10, 10275],\r\n        [12, 41775],\r\n        [22, 89075],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 323925],\r\n        [37, Number.MAX_VALUE]\r\n    ]        \r\n\r\n    static head_of_household_bracket = [\r\n        [10, 14650],\r\n        [12, 55900],\r\n        [22, 89050],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 539900],\r\n        [37, Number.MAX_VALUE]\r\n    ]  \r\n}","import { computed, signal } from \"@preact/signals\"\r\nimport { TaxConfig } from \"./taxconfig\"\r\n\r\nexport class Stores {\r\n    static about: any = {\r\n        filing_status: signal(0), // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        child_under17_count: signal(0),// number of child dependent under 17\r\n        dependent_count: signal(0), // number of dependent over 17\r\n        has_child: computed(() => {\r\n            return this.about.child_under17_count.value > 0 || this.about.dependent_count.value > 0\r\n        })\r\n    }\r\n\r\n    static income: any = {\r\n        w2: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        rsu: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },        \r\n        f401k_match: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f401k_contrib: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099b_longterm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099b_shortterm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099misc: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        }, // misc, nec, rental\r\n        f1099r: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099g: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        farm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_div_qualified: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_div: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_int_taxfree: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_int: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        gambling_other: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        espp_discount: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        ira:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        hsa:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        fsa:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        utma_gain:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        income: computed(() => {\r\n            return parseInt(this.income.w2.amt.value) + parseInt(this.income.rsu.amt.value) + parseInt(this.income.f401k_match.amt.value) +\r\n                parseInt(this.income.f1099b_longterm.amt.value) + parseInt(this.income.f1099b_shortterm.amt.value) + parseInt(this.income.f1099_int_taxfree.amt.value) +\r\n                parseInt(this.income.f1099g.amt.value) + parseInt(this.income.f1099misc.amt.value) + parseInt(this.income.f1099r.amt.value) + \r\n                parseInt(this.income.farm.amt.value) + parseInt(this.income.f1099_int.amt.value) + parseInt(this.income.f1099_div.amt.value) + \r\n                parseInt(this.income.f1099_div_qualified.amt.value) + parseInt(this.income.gambling_other.amt.value) + parseInt(this.income.espp_discount.amt.value) +\r\n                parseInt(this.income.utma_gain.amt.value)\r\n        }),              \r\n        pretax: computed(() => {\r\n            return parseInt(this.income.fsa.amt.value) + parseInt(this.income.hsa.amt.value) +\r\n                parseInt(this.income.ira.amt.value) +  parseInt(this.income.f1099_int_taxfree.amt.value) +\r\n                parseInt(this.income.f401k_match.amt.value) + parseInt(this.income.f401k_contrib.amt.value) + \r\n                parseInt(this.income.utma_gain.amt.value)\r\n        }),\r\n        magi: computed(() => {\r\n            return this.income.agi + parseInt(this.income.f1099_int_taxfree.amt.value)\r\n        }),\r\n        agi: computed(() => {\r\n                return this.income.income - this.income.pretax\r\n        }),\r\n        tax_advantage_income: computed(() => {\r\n                return this.income.pretax + parseInt(this.income.espp_discount.amt.value) +\r\n                    parseInt(this.income.f1099_div_qualified.amt.value) + parseInt(this.income.f1099b_longterm.amt.value)\r\n        })\r\n    }\r\n\r\n    static deduction: any = {\r\n        medical_dental_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        standard_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        business_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        mortgage_interest:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        salt:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        charity_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        other_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n    \r\n        college_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        early_withdrawal_penalty:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        investment_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f529_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        utma_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        roth_ira:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },            \r\n\r\n        itemized_deduction: computed(() => {\r\n            let medical_dental_qualification = 0.075 * Stores.income.agi.value\r\n            let medical_dental_allowed = Math.max(0, parseInt(this.deduction.medical_dental_expense.amt.value) - medical_dental_qualification)\r\n            \r\n            return parseInt(this.deduction.business_deduction.amt.value) + medical_dental_allowed + \r\n                parseInt(this.deduction.mortgage_interest.amt.value) +  parseInt(this.deduction.salt.amt.value) +\r\n                parseInt(this.deduction.charity_contribution.amt.value) + parseInt(this.deduction.college_expense.amt.value) + \r\n                parseInt(this.deduction.early_withdrawal_penalty.amt.value) + parseInt(this.deduction.investment_expense.amt.value) +\r\n                parseInt(this.deduction.other_deduction.amt.value)\r\n        }),\r\n\r\n        standardized_deduction: computed(() => {\r\n            let std = 0\r\n            let filing = this.about.filing_status.value\r\n            // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n            switch(filing) {\r\n                case 0:\r\n                case 1: std = 12950; break;\r\n                case 2: std = 25900; break;\r\n                case 3: std = 19400; break;\r\n                default: std = 0; break;\r\n            }\r\n\r\n            return std\r\n        }),\r\n        deduction: computed(() => {\r\n            let res = []\r\n            let std = parseInt(this.deduction.standardized_deduction.value)\r\n            let itemize = parseInt(this.deduction.itemized_deduction.value)\r\n\r\n            if(std > itemize) {\r\n                res = ['Standard Deduction',std]\r\n            } else {\r\n                res = ['Itemized Deduction', itemize]\r\n            }\r\n            return res\r\n        })\r\n\r\n    }\r\n\r\n    static taxcredit: any = {\r\n        eic:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        child_tax_credit: {\r\n            enabled: signal(false),\r\n            amt: computed(() => {\r\n                let enable = false\r\n                if(this.about.filing_status.value === 2) {\r\n                    enable = (this.income.magi < 400000)\r\n                } else {\r\n                    enable = (this.income.magi < 200000)\r\n                }\r\n\r\n                if(enable) {\r\n                    if(this.about.child_under17_count.value === 0) {\r\n                        enable = false\r\n                    }\r\n                }\r\n\r\n                let res = 0\r\n                if(enable) {\r\n                    res = (this.about.child_under17_count.value * 2000)\r\n                }\r\n                return res\r\n            })\r\n        },  \r\n        dependent_credit:  {\r\n            enabled: signal(false),\r\n            amt: computed(() => {\r\n                let enable = false\r\n                if(this.about.filing_status.value == 2) {\r\n                    enable = (this.income.magi < 400000)\r\n                } else {\r\n                    enable = (this.income.magi < 200000)\r\n                }\r\n\r\n                if(enable) {\r\n                    if(this.about.dependent_count.value === 0) {\r\n                        enable = false\r\n                    }\r\n                }\r\n\r\n                let res = 0\r\n                if(enable) {\r\n                    res = (this.about.dependent_count.value * 500)\r\n                }\r\n                return res\r\n            })\r\n        },  \r\n        child_dependent_care_expense: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        premium_tax_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        residential_energy_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        ev_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        foreign_tax_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        total_tax_credit: computed(() => {\r\n            return parseInt(this.taxcredit.eic.amt.value) + parseInt(this.taxcredit.child_tax_credit.amt.value) + \r\n                    parseInt(this.taxcredit.dependent_credit.amt.value) + parseInt(this.taxcredit.child_dependent_care_expense.amt.value) + \r\n                    parseInt(this.taxcredit.premium_tax_credit.amt.value) + parseInt(this.taxcredit.residential_energy_credit.amt.value) + \r\n                    parseInt(this.taxcredit.ev_credit.amt.value) + parseInt(this.taxcredit.foreign_tax_credit.amt.value)\r\n\r\n        })\r\n    }\r\n\r\n    static tax : any = {\r\n        taxable_income: computed(() => {\r\n            return (Math.max(this.income.agi.value - this.deduction.deduction.value[1], 0)).toFixed(0)\r\n        }),\r\n        tax_amount: computed(() => {\r\n            let longterm_capgain = parseInt(this.income.f1099b_longterm.amt.value) + parseInt(this.income.f1099_div_qualified.amt.value)\r\n            return (TaxConfig.getTaxAmount(this.tax.taxable_income.value, longterm_capgain, Stores.about.filing_status.value)).toFixed(0)\r\n        }),\r\n        effective_tax_rate: computed(() => {\r\n            return ((this.tax.tax_amount.value / this.tax.taxable_income.value) * 100).toFixed(2)\r\n        }),\r\n        due: computed(() => {\r\n            return (this.tax.tax_amount.value - this.taxcredit.total_tax_credit.value).toFixed(0)\r\n        })\r\n    }\r\n    \r\n}\r\n"],"sourceRoot":""}