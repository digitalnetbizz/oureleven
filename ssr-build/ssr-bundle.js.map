{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"preact\"","webpack:///../src/util.js","webpack:///../src/index.js","webpack:///../node_modules/preact-router/match.js","webpack:///./components/header/style.css?a982","webpack:///./components/header/index.tsx","webpack:///../src/index.ts","webpack:///./stores/taxconfig.tsx","webpack:///./stores/stores.tsx","webpack:///./routes/home/index.tsx","webpack:///./routes/basic/index.tsx","webpack:///./components/IncomeInput/index.tsx","webpack:///./components/Total/index.tsx","webpack:///../src/PureComponent.js","webpack:///../src/forwardRef.js","webpack:///../src/Children.js","webpack:///../src/suspense.js","webpack:///../src/suspense-list.js","webpack:///../src/render.js","webpack:///../src/hooks/useLoadGoogleCharts.ts","webpack:///../src/hooks/useLoadScript.ts","webpack:///../src/default-props.ts","webpack:///../src/generate-unique-id.ts","webpack:///../src/constants.ts","webpack:///../src/load-data-table-from-spreadsheet.ts","webpack:///../src/Context.tsx","webpack:///../src/components/GoogleChartDataTable.tsx","webpack:///../src/components/GoogleChartEvents.tsx","webpack:///../src/components/GoogleChart.tsx","webpack:///../src/ReactGoogleCharts.tsx","webpack:///../src/types.ts","webpack:///./routes/income/index.tsx","webpack:///./routes/deduction/index.tsx","webpack:///./components/ReadonlyIncomeInput/index.tsx","webpack:///./routes/taxcredit/index.tsx","webpack:///./stores/recommendations.tsx","webpack:///./routes/analysis/index.tsx","webpack:///./routes/test/index.tsx","webpack:///./components/app.tsx","webpack:///./index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","EMPTY","assign","obj","props","let","exec","url","route","opts","ret","reg","match","matches","split","length","decodeURIComponent","slice","join","segmentize","replace","max","Math","charAt","param","flags","plus","indexOf","star","val","map","default","pathRankSort","a","b","rank","index","prepareVNodeForRanking","vnode","path","rankSegment","rankChild","segment","customHistory","ROUTERS","subscribers","getCurrentUrl","location","getCurrentLocation","pathname","search","canRoute","type","history","setUrl","routeTo","didRoute","routeFromLink","node","getAttribute","href","target","handleLinkClick","e","ctrlKey","metaKey","altKey","shiftKey","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","String","nodeName","toUpperCase","hasAttribute","parentNode","eventListenersInitialized","Router","super","state","addEventListener","static","onChange","const","children","toChildArray","getMatchingChildren","setState","updating","forceUpdate","push","unlisten","listen","this","splice","invoke","filter","sort","newProps","ref","cloneElement","Boolean","ref$1","active","current","previous","previousUrl","router","Component","Link","createElement","onClick","Route","component","Match","undefined","_extends","arguments","source","_preact","_preactRouter","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_Component","_temp","_this","_len","args","Array","_key","apply","concat","update","nextUrl","subClass","superClass","constructor","writable","configurable","setPrototypeOf","__proto__","_inherits","componentDidMount","componentWillUnmount","render","_ref","activeClassName","keys","_objectWithoutProperties","h","_ref2","class","className","currentIndex","currentComponent","previousComponent","prevRaf","Header","style","xmlns","width","height","fill","viewBox","currentHook","afterPaintEffects","oldBeforeDiff","options","oldBeforeRender","oldAfterDiff","diffed","oldCommit","__c","oldBeforeUnmount","unmount","getHookState","__h","hooks","__H","__","__V","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","_reducer","currentValue","__N","nextValue","action","_hasScuFromHooks","prevScu","shouldComponentUpdate","stateHooks","x","every","shouldUpdate","forEach","hookItem","useEffect","callback","__s","argsChanged","_pendingArgs","useMemo","factory","flushAfterPaintEffects","shift","invokeCleanup","invokeEffect","__e","requestAnimationFrame","afterNextFrame","commitQueue","some","cb","__v","hasErrored","HAS_RAF","raf","done","clearTimeout","timeout","cancelAnimationFrame","setTimeout","hook","comp","cleanup","oldArgs","newArgs","arg","f","cycleDetected","batchDepth","error","hasError","batchedEffect","effect","batchIteration","next","_nextBatchedEffect","_flags","needsToRecompute","_callback","err","evalContext","globalVersion","signal","_node","_target","_sources","_version","_source","_prevSource","_nextSource","_prevTarget","_nextTarget","_rollbackNode","_subscribe","_value","_targets","Signal","_refresh","rollbackNode","sources","_unsubscribe","compute","_compute","_globalVersion","Computed","cleanupEffect","_cleanup","prevContext","disposeEffect","endBatch","endEffect","cleanupSources","Effect","_dispose","hookName","hookFn","updater","finishUpdate","_start","data","currentSignal","useSignal","v","_updateFlags","_updater","base","peek","computed","createPropUpdater","dom","prop","propSignal","setAsProperty","ownerSVGElement","changeSignal","_update","newSignal","setAttribute","removeAttribute","prev","subscribe","fn","flag","valueOf","toString","addDependency","set","_notify","prepareSources","OUTDATED","finish","Text","displayName","defineProperties","__b","old","signalProps","__np","setCurrentUpdater","oldVNode","renderedProps","updaters","_updaters","HAS_PENDING_UPDATE","TaxConfig","taxableIncome","longtermCapgain","filingStatus","brackets","getTaxBracket","taxableIncomeMinusLongTerm","taxWithoutLongTerm","getTaxWithBracket","longterm_brackets","getLongTermBracket","getLongTermCapGainTaxWithBracket","tax","prev_ceiling","remainder","rate","ceilng","amt","min","longtermCapGain","bracket_array","single_filing_longterm_capgain","married_separate_filing_longterm_capgain","married_joint_filing_longterm_capgain","head_household_filing_longterm_capgain","single_filing_bracket","married_separate_filing_bracket","married_joint_filing_bracket","head_of_household_bracket","Number","MAX_VALUE","Stores","about","load","income","deduction","taxcredit","window","localStorage","clear","serialized","serialize","setItem","model_name","JSON","stringify","result","getItem","saved_model","model","parse","batch","filing_status","child_under17_count","dependent_count","over_50","has_child","w2a","enabled","w2b","w2","rsu","f401k_match","f401k_contrib","f1099b_longterm","f1099b_shortterm","f1099misc","f1099r","f1099g","farm","f1099_div_qualified","f1099_div","f1099_int_taxfree","f1099_int","gambling_other","espp_discount","ira","hsa","fsa","utma_gain","parseInt","pretax","magi","agi","ssa_medicare_contrib","tax_advantage_income","medical_dental_expense","standard_deduction","business_deduction","mortgage_interest","salt","charity_contribution","other_deduction","college_expense","early_withdrawal_penalty","investment_expense","f529_contribution","utma_contribution","roth_ira","itemized_deduction","medical_dental_qualification","medical_dental_allowed","standardized_deduction","std","itemize","eic","child_tax_credit","enable","res","dependent_credit","child_dependent_care_expense","premium_tax_credit","residential_energy_credit","ev_credit","foreign_tax_credit","total_tax_credit","taxable_income","toFixed","tax_amount","longterm_capgain","getTaxAmount","effective_tax_rate","due","net_income","Home","handleLoadModel","LoadSavedModel","autoPlay","loop","muted","src","HasSavedModel","renderLoadModelButton","controls","Basic","selects","document","querySelectorAll","focus","id","aria-label","element","for","IncomeInput","showSuccessBlink","bg","backgroundColor","showErrorBlink","title","store","inputs","nextFocusIndex","idx","getNextFocusIndex","select","focusNextElement","checked","onBlur","min_value","max_value","disabled","description","Total","shallowDiffers","PureComponent","isPureReactComponent","oldDiffHook","__f","mapFn","oldCatchError","newVNode","errorInfo","then","__k","oldUnmount","Suspense","_suspenders","suspended","__a","SuspenseList","_next","_map","__R","promise","suspendingVNode","suspendingComponent","resolve","resolved","onResolved","onSuspensionComplete","__u","suspendedVNode","removeOriginal","detachedParent","originalParent","child","insertBefore","__d","pop","wasHydrating","detachedComponent","detachedClone","parentDom","__P","fallback","Fragment","list","delete","revealOrder","size","delegated","unsuspend","wrappedUnsuspend","Map","reverse","componentDidUpdate","REACT_ELEMENT_TYPE","CAMEL_PROPS","IS_DOM","onChangeInputType","test","isReactComponent","oldEventHook","event","empty","isPropagationStopped","cancelBubble","isDefaultPrevented","defaultPrevented","persist","nativeEvent","classNameDescriptor","oldVNodeHook","normalizedProps","nonCustomElement","toLowerCase","multiple","isArray","selected","defaultValue","$$typeof","__r","createContext","createRef","useLoadGoogleCharts","onLoad","onError","chartVersion","chartPackages","chartLanguage","mapsApiKey","googleCharts","setGoogleCharts","failed","setFailed","google","charts","packages","language","setOnLoadCallback","foundScript","querySelector","dataset","loaded","script","onLoadWithMarker","head","append","removeEventListener","LoadGoogleCharts","chartDefaultProps","legend_toggle","legendToggle","getChartWrapper","spreadSheetQueryParameters","headers","gid","rootProps","chartWrapperParams","uniqueID","generateUniqueID","DEFAULT_CHART_COLORS","loadDataTableFromSpreadSheet","googleViz","spreadSheetUrl","urlParams","Promise","reject","queryString","query","encodeURIComponent","sheet","access_token","urlQueryString","urlToSpreadSheet","visualization","Query","send","response","isError","getMessage","getDetailedMessage","getDataTable","React","Provider","Consumer","ContextProvider","ContextConsumer","context","GoogleChartDataTableInner","hiddenColumns","listenToLegendToggle","googleChartWrapper","events","addListener","selection","getChart","getSelection","dataTable","row","columnIndex","column","columnID","getColumnID","includes","colID","applyFormatters","formatters","formatter","ArrowFormat","format","BarFormat","vizFormatter","ColorFormat","ranges","range","addRange","DateFormat","NumberFormat","PatternFormat","getColumnId","getColumnLabel","draw","diffdata","rows","columns","chartType","chartDiff","oldData","arrayToDataTable","newData","new","computeDiff","columnCount","DataTable","getNumberOfColumns","previousColumnLabel","previousColumnID","previousColumnType","getColumnType","removeColumn","addColumn","label","chart","getChartType","clearChart","setChartType","setOptions","setDataTable","googleChartDashboard","grayOutHiddenColumns","colors","from","dontcare","onResize","removeAllListeners","GoogleChartDataTable","GoogleChartEvents","listenToEvents","chartEvents","eventName","chartWrapper","eventArgs","propsFromContext","controlCounter","GoogleChart","googleChartControls","googleChartEditor","isReady","graphID","dashboard_ref","toolbar_ref","getGraphID","instanceGraphID","graph_id","getControlID","addControls","control","controlIDMaybe","controlID","controlType","controlOptions","controlWrapperParams","controlProp","ControlWrapper","containerId","chartControl","controlEvents","removeListener","controlWrapper","renderChart","divStyle","div","renderControl","getContainerId","renderToolBar","toolbarItems","getChartEditor","chartConfig","ChartWrapper","Dashboard","drawToolbar","chartEditor","ChartEditor","setControlType","nextProps","nextState","renderToolbar","controlPosition","Chart","_isMounted","loadingStatus","isFullyLoaded","onSuccess","setInterval","clearInterval","loader","errorElement","defaultProps","GoogleDataTableColumnRoleType","annotation","annotationText","certainty","emphasis","interval","scope","tooltip","domain","Income","incomeChartData","setIncomeChartData","agiChartData","setAgiChartData","advantageData","setAdvantageData","temp","fill-rule","pieHole","is3D","titleTextStyle","fontName","fontSize","Deduction","deductionData","setDeductionData","left_over","ReadonlyIncomeInput","TaxCredit","taxCreditData","setTaxCreditData","renderChildElements","Recommendations","parent","recommendations","Set","recommendation","rules","passedCount","j","rule","ProcessRule","add","message","section","op","GetDataObject","propertyValue","GetPropertyValue","YieldResult","holder","Analysis","showAlertData","setShowAlertData","flowData","setFlowData","gaugeData","setGaugeData","realDeductionData","setRealDeductionData","recommendationsData","setRecommendationsData","fetch","method","json","ProcessRecommendations","score","role","data-bs-dismiss","showSuccessAlert","Serialize","ResetModel","reco","greehFrom","greenTo","yellowFrom","yellowTo","redFrom","redTo","minorTicks","Test","App"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"qVkA\");\n","module.exports = require(\"preact\");","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional arugment that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.Link = exports.Match = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _preact = require('preact');\n\nvar _preactRouter = require('preact-router');\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Match = exports.Match = function (_Component) {\n\t_inherits(Match, _Component);\n\n\tfunction Match() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Match);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.update = function (url) {\n\t\t\t_this.nextUrl = url;\n\t\t\t_this.setState({});\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tMatch.prototype.componentDidMount = function componentDidMount() {\n\t\t_preactRouter.subscribers.push(this.update);\n\t};\n\n\tMatch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\t_preactRouter.subscribers.splice(_preactRouter.subscribers.indexOf(this.update) >>> 0, 1);\n\t};\n\n\tMatch.prototype.render = function render(props) {\n\t\tvar url = this.nextUrl || (0, _preactRouter.getCurrentUrl)(),\n\t\t    path = url.replace(/\\?.+$/, '');\n\t\tthis.nextUrl = null;\n\t\treturn props.children({\n\t\t\turl: url,\n\t\t\tpath: path,\n\t\t\tmatches: (0, _preactRouter.exec)(path, props.path, {}) !== false\n\t\t});\n\t};\n\n\treturn Match;\n}(_preact.Component);\n\nvar Link = function Link(_ref) {\n\tvar activeClassName = _ref.activeClassName,\n\t    path = _ref.path,\n\t    props = _objectWithoutProperties(_ref, ['activeClassName', 'path']);\n\n\treturn (0, _preact.h)(\n\t\tMatch,\n\t\t{ path: path || props.href },\n\t\tfunction (_ref2) {\n\t\t\tvar matches = _ref2.matches;\n\t\t\treturn (0, _preact.h)(_preactRouter.Link, _extends({}, props, { 'class': [props.class || props.className, matches && activeClassName].filter(Boolean).join(' ') }));\n\t\t}\n\t);\n};\n\nexports.Link = Link;\nexports.default = Match;\n\nMatch.Link = Link;\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"header__OVZyn\",\"active\":\"active__r+Z6z\"};","import { h } from 'preact';\nimport { Link } from 'preact-router/match';\nimport style from './style.css';\n\nconst Header = () => (\n\t<header class={style.header}>\n\t\t<h1>\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" class=\"bi bi-rocket-takeoff\" viewBox=\"0 0 16 16\">\n\t\t\t<path d=\"M9.752 6.193c.599.6 1.73.437 2.528-.362.798-.799.96-1.932.362-2.531-.599-.6-1.73-.438-2.528.361-.798.8-.96 1.933-.362 2.532Z\"/>\n\t\t\t<path d=\"M15.811 3.312c-.363 1.534-1.334 3.626-3.64 6.218l-.24 2.408a2.56 2.56 0 0 1-.732 1.526L8.817 15.85a.51.51 0 0 1-.867-.434l.27-1.899c.04-.28-.013-.593-.131-.956a9.42 9.42 0 0 0-.249-.657l-.082-.202c-.815-.197-1.578-.662-2.191-1.277-.614-.615-1.079-1.379-1.275-2.195l-.203-.083a9.556 9.556 0 0 0-.655-.248c-.363-.119-.675-.172-.955-.132l-1.896.27A.51.51 0 0 1 .15 7.17l2.382-2.386c.41-.41.947-.67 1.524-.734h.006l2.4-.238C9.005 1.55 11.087.582 12.623.208c.89-.217 1.59-.232 2.08-.188.244.023.435.06.57.093.067.017.12.033.16.045.184.06.279.13.351.295l.029.073a3.475 3.475 0 0 1 .157.721c.055.485.051 1.178-.159 2.065Zm-4.828 7.475.04-.04-.107 1.081a1.536 1.536 0 0 1-.44.913l-1.298 1.3.054-.38c.072-.506-.034-.993-.172-1.418a8.548 8.548 0 0 0-.164-.45c.738-.065 1.462-.38 2.087-1.006ZM5.205 5c-.625.626-.94 1.351-1.004 2.09a8.497 8.497 0 0 0-.45-.164c-.424-.138-.91-.244-1.416-.172l-.38.054 1.3-1.3c.245-.246.566-.401.91-.44l1.08-.107-.04.039Zm9.406-3.961c-.38-.034-.967-.027-1.746.163-1.558.38-3.917 1.496-6.937 4.521-.62.62-.799 1.34-.687 2.051.107.676.483 1.362 1.048 1.928.564.565 1.25.941 1.924 1.049.71.112 1.429-.067 2.048-.688 3.079-3.083 4.192-5.444 4.556-6.987.183-.771.18-1.345.138-1.713a2.835 2.835 0 0 0-.045-.283 3.078 3.078 0 0 0-.3-.041Z\"/>\n\t\t\t<path d=\"M7.009 12.139a7.632 7.632 0 0 1-1.804-1.352A7.568 7.568 0 0 1 3.794 8.86c-1.102.992-1.965 5.054-1.839 5.18.125.126 3.936-.896 5.054-1.902Z\"/>\n\t\t</svg>&nbsp;\n\t\t\t</h1>\n\t\t<nav>\n\t\t\t<Link activeClassName={style.active} href=\"/\">Home</Link>\n\t\t\t<Link activeClassName={style.active} href=\"/basic\">Basic Info</Link>\n\t\t\t<Link activeClassName={style.active} href=\"/income\">Income</Link>\n\t\t\t<Link activeClassName={style.active} href=\"/deduction\">Deduction</Link>\n\t\t\t<Link activeClassName={style.active} href=\"/taxcredit\">Tax Credit</Link>\n\t\t</nav>\n\t</header>\n);\n\nexport default Header;\n","import { options, Component } from \"preact\";\nimport { useRef, useMemo, useEffect } from \"preact/hooks\";\nimport {\n\tsignal,\n\tcomputed,\n\tbatch,\n\teffect,\n\tSignal,\n\ttype ReadonlySignal,\n} from \"@preact/signals-core\";\nimport {\n\tVNode,\n\tOptionsTypes,\n\tHookFn,\n\tEffect,\n\tPropertyUpdater,\n\tAugmentedComponent,\n\tAugmentedElement as Element,\n} from \"./internal\";\n\nexport { signal, computed, batch, effect, Signal, type ReadonlySignal };\n\nconst HAS_PENDING_UPDATE = 1 << 0;\nconst HAS_HOOK_STATE = 1 << 1;\nconst HAS_COMPUTEDS = 1 << 2;\n\n// Install a Preact options hook\nfunction hook<T extends OptionsTypes>(hookName: T, hookFn: HookFn<T>) {\n\t// @ts-ignore-next-line private options hooks usage\n\toptions[hookName] = hookFn.bind(null, options[hookName] || (() => {}));\n}\n\nlet currentComponent: AugmentedComponent | undefined;\nlet finishUpdate: (() => void) | undefined;\n\nfunction setCurrentUpdater(updater?: Effect) {\n\t// end tracking for the current update:\n\tif (finishUpdate) finishUpdate();\n\t// start tracking the new update:\n\tfinishUpdate = updater && updater._start();\n}\n\nfunction createUpdater(update: () => void) {\n\tlet updater!: Effect;\n\teffect(function (this: Effect) {\n\t\tupdater = this;\n\t});\n\tupdater._callback = update;\n\treturn updater;\n}\n\n/** @todo This may be needed for complex prop value detection. */\n// function isSignalValue(value: any): value is Signal {\n// \tif (typeof value !== \"object\" || value == null) return false;\n// \tif (value instanceof Signal) return true;\n// \t// @TODO: uncomment this when we land Reactive (ideally behind a brand check)\n// \t// for (let i in value) if (value[i] instanceof Signal) return true;\n// \treturn false;\n// }\n\n/**\n * A wrapper component that renders a Signal directly as a Text node.\n * @todo: in Preact 11, just decorate Signal with `type:null`\n */\nfunction Text(this: AugmentedComponent, { data }: { data: Signal }) {\n\t// hasComputeds.add(this);\n\n\t// Store the props.data signal in another signal so that\n\t// passing a new signal reference re-runs the text computed:\n\tconst currentSignal = useSignal(data);\n\tcurrentSignal.value = data;\n\n\tconst s = useMemo(() => {\n\t\t// mark the parent component as having computeds so it gets optimized\n\t\tlet v = this.__v;\n\t\twhile ((v = v.__!)) {\n\t\t\tif (v.__c) {\n\t\t\t\tv.__c._updateFlags |= HAS_COMPUTEDS;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Replace this component's vdom updater with a direct text one:\n\t\tthis._updater!._callback = () => {\n\t\t\t(this.base as Text).data = s.peek();\n\t\t};\n\n\t\treturn computed(() => {\n\t\t\tlet data = currentSignal.value;\n\t\t\tlet s = data.value;\n\t\t\treturn s === 0 ? 0 : s === true ? \"\" : s || \"\";\n\t\t});\n\t}, []);\n\n\treturn s.value;\n}\nText.displayName = \"_st\";\n\nObject.defineProperties(Signal.prototype, {\n\tconstructor: { configurable: true },\n\ttype: { configurable: true, value: Text },\n\tprops: {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn { data: this };\n\t\t},\n\t},\n\t// Setting a VNode's _depth to 1 forces Preact to clone it before modifying:\n\t// https://github.com/preactjs/preact/blob/d7a433ee8463a7dc23a05111bb47de9ec729ad4d/src/diff/children.js#L77\n\t// @todo remove this for Preact 11\n\t__b: { configurable: true, value: 1 },\n});\n\n/** Inject low-level property/attribute bindings for Signals into Preact's diff */\nhook(OptionsTypes.DIFF, (old, vnode) => {\n\tif (typeof vnode.type === \"string\") {\n\t\tlet signalProps: Record<string, any> | undefined;\n\n\t\tlet props = vnode.props;\n\t\tfor (let i in props) {\n\t\t\tif (i === \"children\") continue;\n\n\t\t\tlet value = props[i];\n\t\t\tif (value instanceof Signal) {\n\t\t\t\tif (!signalProps) vnode.__np = signalProps = {};\n\t\t\t\tsignalProps[i] = value;\n\t\t\t\tprops[i] = value.peek();\n\t\t\t}\n\t\t}\n\t}\n\n\told(vnode);\n});\n\n/** Set up Updater before rendering a component */\nhook(OptionsTypes.RENDER, (old, vnode) => {\n\tsetCurrentUpdater();\n\n\tlet updater;\n\n\tlet component = vnode.__c;\n\tif (component) {\n\t\tcomponent._updateFlags &= ~HAS_PENDING_UPDATE;\n\n\t\tupdater = component._updater;\n\t\tif (updater === undefined) {\n\t\t\tcomponent._updater = updater = createUpdater(() => {\n\t\t\t\tcomponent._updateFlags |= HAS_PENDING_UPDATE;\n\t\t\t\tcomponent.setState({});\n\t\t\t});\n\t\t}\n\t}\n\n\tcurrentComponent = component;\n\tsetCurrentUpdater(updater);\n\told(vnode);\n});\n\n/** Finish current updater if a component errors */\nhook(OptionsTypes.CATCH_ERROR, (old, error, vnode, oldVNode) => {\n\tsetCurrentUpdater();\n\tcurrentComponent = undefined;\n\told(error, vnode, oldVNode);\n});\n\n/** Finish current updater after rendering any VNode */\nhook(OptionsTypes.DIFFED, (old, vnode) => {\n\tsetCurrentUpdater();\n\tcurrentComponent = undefined;\n\n\tlet dom: Element;\n\n\t// vnode._dom is undefined during string rendering,\n\t// so we use this to skip prop subscriptions during SSR.\n\tif (typeof vnode.type === \"string\" && (dom = vnode.__e as Element)) {\n\t\tlet props = vnode.__np;\n\t\tlet renderedProps = vnode.props;\n\t\tif (props) {\n\t\t\tlet updaters = dom._updaters;\n\t\t\tif (updaters) {\n\t\t\t\tfor (let prop in updaters) {\n\t\t\t\t\tlet updater = updaters[prop];\n\t\t\t\t\tif (updater !== undefined && !(prop in props)) {\n\t\t\t\t\t\tupdater._dispose();\n\t\t\t\t\t\t// @todo we could just always invoke _dispose() here\n\t\t\t\t\t\tupdaters[prop] = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tupdaters = {};\n\t\t\t\tdom._updaters = updaters;\n\t\t\t}\n\t\t\tfor (let prop in props) {\n\t\t\t\tlet updater = updaters[prop];\n\t\t\t\tlet signal = props[prop];\n\t\t\t\tif (updater === undefined) {\n\t\t\t\t\tupdater = createPropUpdater(dom, prop, signal, renderedProps);\n\t\t\t\t\tupdaters[prop] = updater;\n\t\t\t\t} else {\n\t\t\t\t\tupdater._update(signal, renderedProps);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\told(vnode);\n});\n\nfunction createPropUpdater(\n\tdom: Element,\n\tprop: string,\n\tpropSignal: Signal,\n\tprops: Record<string, any>\n): PropertyUpdater {\n\tconst setAsProperty =\n\t\tprop in dom &&\n\t\t// SVG elements need to go through `setAttribute` because they\n\t\t// expect things like SVGAnimatedTransformList instead of strings.\n\t\t// @ts-ignore\n\t\tdom.ownerSVGElement === undefined;\n\n\tconst changeSignal = signal(propSignal);\n\treturn {\n\t\t_update: (newSignal: Signal, newProps: typeof props) => {\n\t\t\tchangeSignal.value = newSignal;\n\t\t\tprops = newProps;\n\t\t},\n\t\t_dispose: effect(() => {\n\t\t\tconst value = changeSignal.value.value;\n\t\t\t// If Preact just rendered this value, don't render it again:\n\t\t\tif (props[prop] === value) return;\n\t\t\tprops[prop] = value;\n\t\t\tif (setAsProperty) {\n\t\t\t\t// @ts-ignore-next-line silly\n\t\t\t\tdom[prop] = value;\n\t\t\t} else if (value) {\n\t\t\t\tdom.setAttribute(prop, value);\n\t\t\t} else {\n\t\t\t\tdom.removeAttribute(prop);\n\t\t\t}\n\t\t}),\n\t};\n}\n\n/** Unsubscribe from Signals when unmounting components/vnodes */\nhook(OptionsTypes.UNMOUNT, (old, vnode: VNode) => {\n\tif (typeof vnode.type === \"string\") {\n\t\tlet dom = vnode.__e as Element | undefined;\n\t\t// vnode._dom is undefined during string rendering\n\t\tif (dom) {\n\t\t\tconst updaters = dom._updaters;\n\t\t\tif (updaters) {\n\t\t\t\tdom._updaters = undefined;\n\t\t\t\tfor (let prop in updaters) {\n\t\t\t\t\tlet updater = updaters[prop];\n\t\t\t\t\tif (updater) updater._dispose();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tlet component = vnode.__c;\n\t\tif (component) {\n\t\t\tconst updater = component._updater;\n\t\t\tif (updater) {\n\t\t\t\tcomponent._updater = undefined;\n\t\t\t\tupdater._dispose();\n\t\t\t}\n\t\t}\n\t}\n\told(vnode);\n});\n\n/** Mark components that use hook state so we can skip sCU optimization. */\nhook(OptionsTypes.HOOK, (old, component, index, type) => {\n\tif (type < 3)\n\t\t(component as AugmentedComponent)._updateFlags |= HAS_HOOK_STATE;\n\told(component, index, type);\n});\n\n/**\n * Auto-memoize components that use Signals/Computeds.\n * Note: Does _not_ optimize components that use hook/class state.\n */\nComponent.prototype.shouldComponentUpdate = function (\n\tthis: AugmentedComponent,\n\tprops,\n\tstate\n) {\n\t// @todo: Once preactjs/preact#3671 lands, this could just use `currentUpdater`:\n\tconst updater = this._updater;\n\tconst hasSignals = updater && updater._sources !== undefined;\n\n\t// let reason;\n\t// if (!hasSignals && !hasComputeds.has(this)) {\n\t// \treason = \"no signals or computeds\";\n\t// } else if (hasPendingUpdate.has(this)) {\n\t// \treason = \"has pending update\";\n\t// } else if (hasHookState.has(this)) {\n\t// \treason = \"has hook state\";\n\t// }\n\t// if (reason) {\n\t// \tif (!this) reason += \" (`this` bug)\";\n\t// \tconsole.log(\"not optimizing\", this?.constructor?.name, \": \", reason, {\n\t// \t\tdetails: {\n\t// \t\t\thasSignals,\n\t// \t\t\thasComputeds: hasComputeds.has(this),\n\t// \t\t\thasPendingUpdate: hasPendingUpdate.has(this),\n\t// \t\t\thasHookState: hasHookState.has(this),\n\t// \t\t\tdeps: Array.from(updater._deps),\n\t// \t\t\tupdater,\n\t// \t\t},\n\t// \t});\n\t// }\n\n\t// if this component used no signals or computeds, update:\n\tif (!hasSignals && !(this._updateFlags & HAS_COMPUTEDS)) return true;\n\n\t// if there is a pending re-render triggered from Signals,\n\t// or if there is hook or class state, update:\n\tif (this._updateFlags & (HAS_PENDING_UPDATE | HAS_HOOK_STATE)) return true;\n\n\t// @ts-ignore\n\tfor (let i in state) return true;\n\n\t// if any non-Signal props changed, update:\n\tfor (let i in props) {\n\t\tif (i !== \"__source\" && props[i] !== this.props[i]) return true;\n\t}\n\tfor (let i in this.props) if (!(i in props)) return true;\n\n\t// this is a purely Signal-driven component, don't update:\n\treturn false;\n};\n\nexport function useSignal<T>(value: T) {\n\treturn useMemo(() => signal<T>(value), []);\n}\n\nexport function useComputed<T>(compute: () => T) {\n\tconst $compute = useRef(compute);\n\t$compute.current = compute;\n\t(currentComponent as AugmentedComponent)._updateFlags |= HAS_COMPUTEDS;\n\treturn useMemo(() => computed<T>(() => $compute.current()), []);\n}\n\nexport function useSignalEffect(cb: () => void | (() => void)) {\n\tconst callback = useRef(cb);\n\tcallback.current = cb;\n\n\tuseEffect(() => {\n\t\treturn effect(() => {\n\t\t\tcallback.current();\n\t\t});\n\t}, []);\n}\n\n/**\n * @todo Determine which Reactive implementation we'll be using.\n * @internal\n */\n// export function useReactive<T extends object>(value: T): Reactive<T> {\n// \treturn useMemo(() => reactive<T>(value), []);\n// }\n\n/**\n * @internal\n * Update a Reactive's using the properties of an object or other Reactive.\n * Also works for Signals.\n * @example\n *   // Update a Reactive with Object.assign()-like syntax:\n *   const r = reactive({ name: \"Alice\" });\n *   update(r, { name: \"Bob\" });\n *   update(r, { age: 42 }); // property 'age' does not exist in type '{ name?: string }'\n *   update(r, 2); // '2' has no properties in common with '{ name?: string }'\n *   console.log(r.name.value); // \"Bob\"\n *\n * @example\n *   // Update a Reactive with the properties of another Reactive:\n *   const A = reactive({ name: \"Alice\" });\n *   const B = reactive({ name: \"Bob\", age: 42 });\n *   update(A, B);\n *   console.log(`${A.name} is ${A.age}`); // \"Bob is 42\"\n *\n * @example\n *   // Update a signal with assign()-like syntax:\n *   const s = signal(42);\n *   update(s, \"hi\"); // Argument type 'string' not assignable to type 'number'\n *   update(s, {}); // Argument type '{}' not assignable to type 'number'\n *   update(s, 43);\n *   console.log(s.value); // 43\n *\n * @param obj The Reactive or Signal to be updated\n * @param update The value, Signal, object or Reactive to update `obj` to match\n * @param overwrite If `true`, any properties `obj` missing from `update` are set to `undefined`\n */\n/*\nexport function update<T extends SignalOrReactive>(\n\tobj: T,\n\tupdate: Partial<Unwrap<T>>,\n\toverwrite = false\n) {\n\tif (obj instanceof Signal) {\n\t\tobj.value = peekValue(update);\n\t} else {\n\t\tfor (let i in update) {\n\t\t\tif (i in obj) {\n\t\t\t\tobj[i].value = peekValue(update[i]);\n\t\t\t} else {\n\t\t\t\tlet sig = signal(peekValue(update[i]));\n\t\t\t\tsig[KEY] = i;\n\t\t\t\tobj[i] = sig;\n\t\t\t}\n\t\t}\n\t\tif (overwrite) {\n\t\t\tfor (let i in obj) {\n\t\t\t\tif (!(i in update)) {\n\t\t\t\t\tobj[i].value = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n*/\n","\r\n\r\n\r\nexport class TaxConfig {\r\n\r\n    static getTaxAmount(taxableIncome: number, longtermCapgain: number, filingStatus: number) {\r\n\r\n        let brackets = TaxConfig.getTaxBracket(filingStatus)\r\n        if(longtermCapgain > 0) {\r\n            let taxableIncomeMinusLongTerm = Math.max(taxableIncome - longtermCapgain, 0)\r\n            let taxWithoutLongTerm = TaxConfig.getTaxWithBracket(taxableIncomeMinusLongTerm, brackets)\r\n\r\n            let longterm_brackets = TaxConfig.getLongTermBracket(filingStatus)\r\n            let longtermTax = TaxConfig.getLongTermCapGainTaxWithBracket(taxableIncome, longtermCapgain, longterm_brackets)\r\n            return taxWithoutLongTerm + longtermTax\r\n\r\n        } else {\r\n            return TaxConfig.getTaxWithBracket(taxableIncome, brackets)    \r\n        }\r\n    }\r\n\r\n    static getTaxWithBracket(taxableIncome: number, brackets: number[][]) {\r\n        let tax = 0\r\n        let prev_ceiling = 0\r\n        let remainder = taxableIncome\r\n\r\n        for(let i=0; i<brackets.length; ++i) {\r\n            if(remainder <= 0) break\r\n\r\n            let rate: number = brackets[i][0]\r\n            let ceilng: number = brackets[i][1]\r\n\r\n            let amt = Math.min(ceilng - prev_ceiling, remainder)\r\n            if(i === brackets.length - 1) { // last index\r\n                amt = remainder\r\n                tax += amt * (rate / 100)\r\n                break\r\n            }\r\n            \r\n            tax += amt * (rate / 100)\r\n            remainder -= (ceilng - prev_ceiling)\r\n            prev_ceiling = ceilng\r\n        }\r\n        return tax\r\n    }\r\n\r\n    static getLongTermCapGainTaxWithBracket(taxableIncome: number, longtermCapGain: number, brackets: number[][]) {\r\n\r\n        let tax = 0\r\n        for(let i=0; i<brackets.length; ++i) {\r\n          \r\n            let rate: number = brackets[i][0]\r\n            let ceilng: number = brackets[i][1]\r\n\r\n            if(ceilng >= taxableIncome) {\r\n                tax = longtermCapGain * (rate / 100)\r\n                break\r\n            }\r\n        }\r\n        return tax\r\n    }\r\n\r\n    static getLongTermBracket(filingStatus: number) : number[][] {\r\n        let bracket_array: number[][] = []\r\n        // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        switch(filingStatus) {\r\n            case 0: bracket_array = TaxConfig.single_filing_longterm_capgain; break;\r\n            case 1: bracket_array = TaxConfig.married_separate_filing_longterm_capgain; break;\r\n            case 2: bracket_array = TaxConfig.married_joint_filing_longterm_capgain; break;\r\n            case 3: bracket_array = TaxConfig.head_household_filing_longterm_capgain; break;\r\n            default: break\r\n        }\r\n        return bracket_array\r\n    }\r\n\r\n    static getTaxBracket(filingStatus: number) : number[][] {\r\n        let bracket_array: number[][] = []\r\n        // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        switch(filingStatus) {\r\n            case 0: bracket_array = TaxConfig.single_filing_bracket; break;\r\n            case 1: bracket_array = TaxConfig.married_separate_filing_bracket; break;\r\n            case 2: bracket_array = TaxConfig.married_joint_filing_bracket; break;\r\n            case 3: bracket_array = TaxConfig.head_of_household_bracket; break;\r\n            default: break\r\n        }\r\n        return bracket_array\r\n    }\r\n\r\n    static married_joint_filing_longterm_capgain = [\r\n        [0, 83350],\r\n        [15, 517200],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static married_separate_filing_longterm_capgain = [\r\n        [0, 41675],\r\n        [15, 258600],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static single_filing_longterm_capgain = [\r\n        [0, 41675],\r\n        [15, 459750],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static head_household_filing_longterm_capgain = [\r\n        [0, 55800],\r\n        [15, 488500],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static married_joint_filing_bracket = [\r\n        [10, 20550],\r\n        [12, 83550],\r\n        [22, 178150],\r\n        [24, 340100],\r\n        [32, 431900],\r\n        [35, 647850],\r\n        [37, Number.MAX_VALUE]\r\n    ]\r\n        \r\n    static single_filing_bracket = [\r\n        [10, 10275],\r\n        [12, 41775],\r\n        [22, 89075],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 539900],\r\n        [37, Number.MAX_VALUE]\r\n    ]    \r\n\r\n    static married_separate_filing_bracket = [\r\n        [10, 10275],\r\n        [12, 41775],\r\n        [22, 89075],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 323925],\r\n        [37, Number.MAX_VALUE]\r\n    ]        \r\n\r\n    static head_of_household_bracket = [\r\n        [10, 14650],\r\n        [12, 55900],\r\n        [22, 89050],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 539900],\r\n        [37, Number.MAX_VALUE]\r\n    ]  \r\n}","import { computed, signal, batch } from \"@preact/signals\"\r\nimport { TaxConfig } from \"./taxconfig\"\r\n\r\nexport class Stores {\r\n    static model_name: string = \"incomee_model\"\r\n\r\n    static ResetModel = () => {\r\n        Stores.about.load(null)\r\n        Stores.income.load(null)\r\n        Stores.deduction.load(null)\r\n        Stores.taxcredit.load(null)\r\n        if (typeof window !== \"undefined\") {\r\n            window.localStorage.clear()\r\n        }\r\n    }\r\n\r\n    static Serialize = () => {\r\n        let serialized = {\r\n            about: Stores.about.serialize(),\r\n            income: Stores.income.serialize(),\r\n            deduction: Stores.deduction.serialize(),\r\n            taxcredit: Stores.taxcredit.serialize(),\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            window.localStorage.setItem(Stores.model_name, JSON.stringify(serialized))\r\n        }\r\n    }\r\n\r\n    static HasSavedModel = () => {\r\n        let result = false\r\n        if (typeof window !== \"undefined\") {\r\n            result = window.localStorage.getItem(Stores.model_name) != null\r\n        }\r\n        return result\r\n    }\r\n    \r\n    static LoadSavedModel = () => {\r\n        if (typeof window !== \"undefined\") {\r\n            let saved_model = window.localStorage.getItem(Stores.model_name)\r\n            if(saved_model != null) {\r\n                let model = JSON.parse(saved_model)\r\n\r\n                batch(() => {\r\n                    Stores.about.load(model.about)\r\n                    Stores.income.load(model.income)\r\n                    Stores.deduction.load(model.deduction)\r\n                    Stores.taxcredit.load(model.taxcredit)    \r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    static about: any = {\r\n        filing_status: signal(0), // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        child_under17_count: signal(0),// number of child dependent under 17\r\n        dependent_count: signal(0), // number of dependent over 17\r\n        over_50: signal(0), // 0: false, 1: true\r\n        has_child: computed(() => {\r\n            return this.about.child_under17_count.value > 0 || this.about.dependent_count.value > 0\r\n        }),\r\n        serialize: () => {\r\n            return {\r\n                filing_status: Stores.about.filing_status.value,\r\n                child_under17_count: Stores.about.child_under17_count.value,\r\n                dependent_count: Stores.about.dependent_count.value,\r\n                over_50: Stores.about.over_50.value\r\n            }\r\n        },\r\n        load: (about: any) => {\r\n            Stores.about.filing_status.value = (about === null) ? 0 : about.filing_status\r\n            Stores.about.child_under17_count.value = (about === null) ? 0 : about.child_under17_count\r\n            Stores.about.dependent_count.value = (about === null) ? 0 : about.dependent_count\r\n            Stores.about.over_50.value = (about === null) ? 0 : about.over_50\r\n        }\r\n    }\r\n\r\n    static income: any = {\r\n        w2a: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        w2b: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        w2: computed(() => {\r\n            return Stores.income.w2a.amt + Stores.income.w2b.amt\r\n        }),\r\n        rsu: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },        \r\n        f401k_match: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f401k_contrib: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099b_longterm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099b_shortterm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099misc: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        }, // misc, nec, rental\r\n        f1099r: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099g: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        farm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_div_qualified: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_div: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_int_taxfree: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_int: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        gambling_other: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        espp_discount: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        ira:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        hsa:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        fsa:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        utma_gain:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        income: computed(() => {\r\n            return parseInt(this.income.w2.value) + parseInt(this.income.rsu.amt.value) + parseInt(this.income.f401k_match.amt.value) +\r\n                parseInt(this.income.f1099b_longterm.amt.value) + parseInt(this.income.f1099b_shortterm.amt.value) + parseInt(this.income.f1099_int_taxfree.amt.value) +\r\n                parseInt(this.income.f1099g.amt.value) + parseInt(this.income.f1099misc.amt.value) + parseInt(this.income.f1099r.amt.value) + \r\n                parseInt(this.income.farm.amt.value) + parseInt(this.income.f1099_int.amt.value) + parseInt(this.income.f1099_div.amt.value) + \r\n                parseInt(this.income.f1099_div_qualified.amt.value) + parseInt(this.income.gambling_other.amt.value) + parseInt(this.income.espp_discount.amt.value) +\r\n                parseInt(this.income.utma_gain.amt.value)\r\n        }),              \r\n        pretax: computed(() => {\r\n            return parseInt(this.income.fsa.amt.value) + parseInt(this.income.hsa.amt.value) +\r\n                parseInt(this.income.ira.amt.value) +  parseInt(this.income.f1099_int_taxfree.amt.value) +\r\n                parseInt(this.income.f401k_match.amt.value) + parseInt(this.income.f401k_contrib.amt.value) + \r\n                parseInt(this.income.utma_gain.amt.value)\r\n        }),\r\n        magi: computed(() => {\r\n            return this.income.agi + parseInt(this.income.f1099_int_taxfree.amt.value)\r\n        }),\r\n        agi: computed(() => {\r\n                return this.income.income - this.income.pretax\r\n        }),\r\n        ssa_medicare_contrib: computed(() => {\r\n            const max_ssa_per_wage = 147000 * 0.062\r\n            let medicare_a = Stores.income.w2a.amt.value * 0.0145\r\n            let medicare_b = Stores.income.w2b.amt.value * 0.0145\r\n            let ssa_a = (Stores.income.w2a.amt.value > 147000) ? max_ssa_per_wage \r\n                                : Stores.income.w2a.amt.value * 0.062\r\n            let ssa_b = (Stores.income.w2b.amt.value > 147000) ? max_ssa_per_wage \r\n                                : Stores.income.w2b.amt.value * 0.062\r\n\r\n            return medicare_a + medicare_b + ssa_a + ssa_b\r\n        }),\r\n        tax_advantage_income: computed(() => {\r\n                return this.income.pretax + parseInt(this.income.espp_discount.amt.value) +\r\n                    parseInt(this.income.f1099_div_qualified.amt.value) + parseInt(this.income.f1099b_longterm.amt.value)\r\n        }),\r\n        serialize: () => {\r\n            return {\r\n                w2a: {\r\n                    enabled: Stores.income.w2a.enabled.value,\r\n                    amt: Stores.income.w2a.amt.value,\r\n                },\r\n                w2b: {\r\n                    enabled: Stores.income.w2b.enabled.value,\r\n                    amt: Stores.income.w2b.amt.value,\r\n                },                \r\n                rsu: {\r\n                    enabled: Stores.income.rsu.enabled.value,\r\n                    amt: Stores.income.rsu.amt.value,\r\n                },        \r\n                f401k_match: {\r\n                    enabled: Stores.income.f401k_match.enabled.value,\r\n                    amt: Stores.income.f401k_match.amt.value,\r\n                },\r\n                f401k_contrib: {\r\n                    enabled: Stores.income.f401k_contrib.enabled.value,\r\n                    amt: Stores.income.f401k_contrib.amt.value,\r\n                },\r\n                f1099b_longterm: {\r\n                    enabled: Stores.income.f1099b_longterm.enabled.value,\r\n                    amt: Stores.income.f1099b_longterm.amt.value,\r\n                },\r\n                f1099b_shortterm: {\r\n                    enabled: Stores.income.f1099b_shortterm.enabled.value,\r\n                    amt: Stores.income.f1099b_shortterm.amt.value,\r\n                },\r\n                f1099misc: {\r\n                    enabled: Stores.income.f1099misc.enabled.value,\r\n                    amt: Stores.income.f1099misc.amt.value,\r\n                }, // misc, nec, rental\r\n                f1099r: {\r\n                    enabled: Stores.income.f1099r.enabled.value,\r\n                    amt: Stores.income.f1099r.amt.value,\r\n                },\r\n                f1099g: {\r\n                    enabled: Stores.income.f1099g.enabled.value,\r\n                    amt: Stores.income.f1099g.amt.value,\r\n                },\r\n                farm: {\r\n                    enabled: Stores.income.farm.enabled.value,\r\n                    amt: Stores.income.farm.amt.value,\r\n                },\r\n                f1099_div_qualified: {\r\n                    enabled: Stores.income.f1099_div_qualified.enabled.value,\r\n                    amt: Stores.income.f1099_div_qualified.amt.value,\r\n                },\r\n                f1099_div: {\r\n                    enabled: Stores.income.f1099_div.enabled.value,\r\n                    amt: Stores.income.f1099_div.amt.value,\r\n                },\r\n                f1099_int_taxfree: {\r\n                    enabled: Stores.income.f1099_int_taxfree.enabled.value,\r\n                    amt: Stores.income.f1099_int_taxfree.amt.value,\r\n                },\r\n                f1099_int: {\r\n                    enabled: Stores.income.f1099_int.enabled.value,\r\n                    amt: Stores.income.f1099_int.amt.value,\r\n                },\r\n                gambling_other: {\r\n                    enabled: Stores.income.gambling_other.enabled.value,\r\n                    amt: Stores.income.gambling_other.amt.value,\r\n                },\r\n                espp_discount: {\r\n                    enabled: Stores.income.espp_discount.enabled.value,\r\n                    amt: Stores.income.espp_discount.amt.value,\r\n                },\r\n                ira:  {\r\n                    enabled: Stores.income.ira.enabled.value,\r\n                    amt: Stores.income.ira.amt.value,\r\n                },\r\n                hsa:  {\r\n                    enabled: Stores.income.hsa.enabled.value,\r\n                    amt: Stores.income.hsa.amt.value,\r\n                },\r\n                fsa:  {\r\n                    enabled: Stores.income.fsa.enabled.value,\r\n                    amt: Stores.income.fsa.amt.value,\r\n                },\r\n                utma_gain:  {\r\n                    enabled: Stores.income.utma_gain.enabled.value,\r\n                    amt: Stores.income.utma_gain.amt.value,\r\n                },\r\n            }\r\n        },\r\n        load: (income: any) => {\r\n            Stores.income.w2a.enabled.value = (income === null) ? false : income.w2a.enabled\r\n            Stores.income.w2a.amt.value = (income === null) ? 0 : income.w2a.amt\r\n            Stores.income.w2b.enabled.value = (income === null) ? false : income.w2b.enabled\r\n            Stores.income.w2b.amt.value = (income === null) ? 0 : income.w2b.amt            \r\n            Stores.income.rsu.enabled.value = (income === null) ? false : income.rsu.enabled\r\n            Stores.income.rsu.amt.value = (income === null) ? 0 : income.rsu.amt\r\n            Stores.income.f401k_match.enabled.value = (income === null) ? false : income.f401k_match.enabled\r\n            Stores.income.f401k_match.amt.value = (income === null) ? 0 : income.f401k_match.amt\r\n            Stores.income.f401k_contrib.enabled.value = (income === null) ? false : income.f401k_contrib.enabled\r\n            Stores.income.f401k_contrib.amt.value = (income === null) ? 0 : income.f401k_contrib.amt\r\n            Stores.income.f1099b_longterm.enabled.value = (income === null) ? false : income.f1099b_longterm.enabled\r\n            Stores.income.f1099b_longterm.amt.value = (income === null) ? 0 : income.f1099b_longterm.amt\r\n            Stores.income.f1099b_shortterm.enabled.value = (income === null) ? false : income.f1099b_shortterm.enabled\r\n            Stores.income.f1099b_shortterm.amt.value = (income === null) ? 0 : income.f1099b_shortterm.amt\r\n            Stores.income.f1099misc.enabled.value = (income === null) ? false : income.f1099misc.enabled\r\n            Stores.income.f1099misc.amt.value = (income === null) ? 0 : income.f1099misc.amt\r\n            Stores.income.f1099r.enabled.value = (income === null) ? false : income.f1099r.enabled\r\n            Stores.income.f1099r.amt.value = (income === null) ? 0 : income.f1099r.amt\r\n            Stores.income.f1099g.enabled.value = (income === null) ? false : income.f1099g.enabled\r\n            Stores.income.f1099g.amt.value = (income === null) ? 0 : income.f1099g.amt\r\n            Stores.income.farm.enabled.value = (income === null) ? false : income.farm.enabled\r\n            Stores.income.farm.amt.value = (income === null) ? 0 : income.farm.amt\r\n            Stores.income.f1099_div_qualified.enabled.value = (income === null) ? false : income.f1099_div_qualified.enabled\r\n            Stores.income.f1099_div_qualified.amt.value = (income === null) ? 0 : income.f1099_div_qualified.amt\r\n            Stores.income.f1099_div.enabled.value = (income === null) ? false : income.f1099_div.enabled\r\n            Stores.income.f1099_div.amt.value = (income === null) ? 0 : income.f1099_div.amt\r\n            Stores.income.f1099_int_taxfree.enabled.value = (income === null) ? false : income.f1099_int_taxfree.enabled\r\n            Stores.income.f1099_int_taxfree.amt.value = (income === null) ? 0 : income.f1099_int_taxfree.amt\r\n            Stores.income.f1099_int.enabled.value = (income === null) ? false : income.f1099_int.enabled\r\n            Stores.income.f1099_int.amt.value = (income === null) ? 0 : income.f1099_int.amt\r\n            Stores.income.gambling_other.enabled.value = (income === null) ? false : income.gambling_other.enabled\r\n            Stores.income.gambling_other.amt.value = (income === null) ? 0 : income.gambling_other.amt\r\n            Stores.income.espp_discount.enabled.value = (income === null) ? false : income.espp_discount.enabled\r\n            Stores.income.espp_discount.amt.value = (income === null) ? 0 : income.espp_discount.amt\r\n            Stores.income.ira.enabled.value = (income === null) ? false : income.ira.enabled\r\n            Stores.income.ira.amt.value = (income === null) ? 0 : income.ira.amt\r\n            Stores.income.hsa.enabled.value = (income === null) ? false : income.hsa.enabled\r\n            Stores.income.hsa.amt.value = (income === null) ? 0 : income.hsa.amt\r\n            Stores.income.fsa.enabled.value = (income === null) ? false : income.fsa.enabled\r\n            Stores.income.fsa.amt.value = (income === null) ? 0 : income.fsa.amt\r\n            Stores.income.utma_gain.enabled.value = (income === null) ? false : income.utma_gain.enabled\r\n            Stores.income.utma_gain.amt.value = (income === null) ? 0 : income.utma_gain.amt                      \r\n        }\r\n    }\r\n\r\n    static deduction: any = {\r\n        medical_dental_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        standard_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        business_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        mortgage_interest:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        salt:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        charity_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        other_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        college_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        early_withdrawal_penalty:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        investment_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f529_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        utma_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        roth_ira:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },            \r\n\r\n        itemized_deduction: computed(() => {\r\n            let medical_dental_qualification = 0.075 * Stores.income.agi.value\r\n            let medical_dental_allowed = Math.max(0, parseInt(this.deduction.medical_dental_expense.amt.value) - medical_dental_qualification)\r\n            \r\n            return parseInt(this.deduction.business_deduction.amt.value) + medical_dental_allowed + \r\n                parseInt(this.deduction.mortgage_interest.amt.value) +  parseInt(this.deduction.salt.amt.value) +\r\n                parseInt(this.deduction.charity_contribution.amt.value) + parseInt(this.deduction.college_expense.amt.value) + \r\n                parseInt(this.deduction.early_withdrawal_penalty.amt.value) + parseInt(this.deduction.investment_expense.amt.value) +\r\n                parseInt(this.deduction.other_deduction.amt.value)\r\n        }),\r\n\r\n        standardized_deduction: computed(() => {\r\n            let std = 0\r\n            let filing = this.about.filing_status.value\r\n            // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n            switch(filing) {\r\n                case 0:\r\n                case 1: std = 12950; break;\r\n                case 2: std = 25900; break;\r\n                case 3: std = 19400; break;\r\n                default: std = 0; break;\r\n            }\r\n\r\n            return std\r\n        }),\r\n        deduction: computed(() => {\r\n            let res = []\r\n            let std = parseInt(this.deduction.standardized_deduction.value)\r\n            let itemize = parseInt(this.deduction.itemized_deduction.value)\r\n\r\n            if(std > itemize) {\r\n                res = ['Standard Deduction',std]\r\n            } else {\r\n                res = ['Itemized Deduction', itemize]\r\n            }\r\n            return res\r\n        }),\r\n        serialize: () => {\r\n            return {\r\n                medical_dental_expense:  {\r\n                    enabled: Stores.deduction.medical_dental_expense.enabled.value,\r\n                    amt: Stores.deduction.medical_dental_expense.amt.value,\r\n                },\r\n                standard_deduction:  {\r\n                    enabled: Stores.deduction.standard_deduction.enabled.value,\r\n                    amt: Stores.deduction.standard_deduction.amt.value,\r\n                },\r\n                business_deduction:  {\r\n                    enabled: Stores.deduction.business_deduction.enabled.value,\r\n                    amt: Stores.deduction.business_deduction.amt.value,\r\n                },\r\n                mortgage_interest:  {\r\n                    enabled: Stores.deduction.mortgage_interest.enabled.value,\r\n                    amt: Stores.deduction.mortgage_interest.amt.value,\r\n                },\r\n                salt:  {\r\n                    enabled: Stores.deduction.salt.enabled.value,\r\n                    amt: Stores.deduction.salt.amt.value,\r\n                },\r\n                charity_contribution:  {\r\n                    enabled: Stores.deduction.charity_contribution.enabled.value,\r\n                    amt: Stores.deduction.charity_contribution.amt.value,\r\n                },\r\n                other_deduction:  {\r\n                    enabled: Stores.deduction.other_deduction.enabled.value,\r\n                    amt: Stores.deduction.other_deduction.amt.value,\r\n                },\r\n                college_expense:  {\r\n                    enabled: Stores.deduction.college_expense.enabled.value,\r\n                    amt: Stores.deduction.college_expense.amt.value,\r\n                },\r\n                early_withdrawal_penalty:  {\r\n                    enabled: Stores.deduction.early_withdrawal_penalty.enabled.value,\r\n                    amt: Stores.deduction.early_withdrawal_penalty.amt.value,\r\n                },\r\n                investment_expense:  {\r\n                    enabled: Stores.deduction.investment_expense.enabled.value,\r\n                    amt: Stores.deduction.investment_expense.amt.value,\r\n                },\r\n                f529_contribution:  {\r\n                    enabled: Stores.deduction.f529_contribution.enabled.value,\r\n                    amt: Stores.deduction.f529_contribution.amt.value,\r\n                },\r\n                utma_contribution:  {\r\n                    enabled: Stores.deduction.utma_contribution.enabled.value,\r\n                    amt: Stores.deduction.utma_contribution.amt.value,\r\n                },  \r\n                roth_ira:  {\r\n                    enabled: Stores.deduction.roth_ira.enabled.value,\r\n                    amt: Stores.deduction.roth_ira.amt.value,\r\n                },     \r\n            }\r\n        },\r\n        load: (deduction: any) => {\r\n            Stores.deduction.medical_dental_expense.enabled.value = (deduction === null) ? false : deduction.medical_dental_expense.enabled\r\n            Stores.deduction.medical_dental_expense.amt.value = (deduction === null) ? 0 : deduction.medical_dental_expense.amt\r\n            Stores.deduction.standard_deduction.enabled.value = (deduction === null) ? false : deduction.standard_deduction.enabled\r\n            Stores.deduction.standard_deduction.amt.value = (deduction === null) ? 0 : deduction.standard_deduction.amt\r\n            Stores.deduction.business_deduction.enabled.value = (deduction === null) ? false : deduction.business_deduction.enabled\r\n            Stores.deduction.business_deduction.amt.value = (deduction === null) ? 0 : deduction.business_deduction.amt\r\n            Stores.deduction.mortgage_interest.enabled.value = (deduction === null) ? false : deduction.mortgage_interest.enabled\r\n            Stores.deduction.mortgage_interest.amt.value = (deduction === null) ? 0 : deduction.mortgage_interest.amt\r\n            Stores.deduction.salt.enabled.value = (deduction === null) ? false : deduction.salt.enabled\r\n            Stores.deduction.salt.amt.value = (deduction === null) ? 0 : deduction.salt.amt       \r\n            Stores.deduction.charity_contribution.enabled.value = (deduction === null) ? false : deduction.charity_contribution.enabled\r\n            Stores.deduction.charity_contribution.amt.value = (deduction === null) ? 0 : deduction.charity_contribution.amt\r\n            Stores.deduction.other_deduction.enabled.value = (deduction === null) ? false : deduction.other_deduction.enabled\r\n            Stores.deduction.other_deduction.amt.value = (deduction === null) ? 0 : deduction.other_deduction.amt\r\n            Stores.deduction.college_expense.enabled.value = (deduction === null) ? false : deduction.college_expense.enabled\r\n            Stores.deduction.college_expense.amt.value = (deduction === null) ? 0 : deduction.college_expense.amt\r\n            Stores.deduction.early_withdrawal_penalty.enabled.value = (deduction === null) ? false : deduction.early_withdrawal_penalty.enabled\r\n            Stores.deduction.early_withdrawal_penalty.amt.value = (deduction === null) ? 0 : deduction.early_withdrawal_penalty.amt\r\n            Stores.deduction.investment_expense.enabled.value = (deduction === null) ? false : deduction.investment_expense.enabled\r\n            Stores.deduction.investment_expense.amt.value = (deduction === null) ? 0 : deduction.investment_expense.amt\r\n            Stores.deduction.f529_contribution.enabled.value = (deduction === null) ? false : deduction.f529_contribution.enabled\r\n            Stores.deduction.f529_contribution.amt.value = (deduction === null) ? 0 : deduction.f529_contribution.amt\r\n            Stores.deduction.utma_contribution.enabled.value = (deduction === null) ? false : deduction.utma_contribution.enabled\r\n            Stores.deduction.utma_contribution.amt.value = (deduction === null) ? 0 : deduction.utma_contribution.amt\r\n            Stores.deduction.roth_ira.enabled.value = (deduction === null) ? false : deduction.roth_ira.enabled\r\n            Stores.deduction.roth_ira.amt.value = (deduction === null) ? 0 : deduction.roth_ira.amt                                                                 \r\n        }\r\n\r\n    }\r\n\r\n    static taxcredit: any = {\r\n        eic:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        child_tax_credit: {\r\n            enabled: signal(false),\r\n            amt: computed(() => {\r\n                let enable = false\r\n                if(this.about.filing_status.value === 2) {\r\n                    enable = (this.income.magi < 400000)\r\n                } else {\r\n                    enable = (this.income.magi < 200000)\r\n                }\r\n\r\n                if(enable) {\r\n                    if(this.about.child_under17_count.value === 0) {\r\n                        enable = false\r\n                    }\r\n                }\r\n\r\n                let res = 0\r\n                if(enable) {\r\n                    res = (this.about.child_under17_count.value * 2000)\r\n                }\r\n                return res\r\n            })\r\n        },  \r\n        dependent_credit:  {\r\n            enabled: signal(false),\r\n            amt: computed(() => {\r\n                let enable = false\r\n                if(this.about.filing_status.value == 2) {\r\n                    enable = (this.income.magi < 400000)\r\n                } else {\r\n                    enable = (this.income.magi < 200000)\r\n                }\r\n\r\n                if(enable) {\r\n                    if(this.about.dependent_count.value === 0) {\r\n                        enable = false\r\n                    }\r\n                }\r\n\r\n                let res = 0\r\n                if(enable) {\r\n                    res = (this.about.dependent_count.value * 500)\r\n                }\r\n                return res\r\n            })\r\n        },  \r\n        child_dependent_care_expense: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        premium_tax_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        residential_energy_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        ev_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        foreign_tax_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        total_tax_credit: computed(() => {\r\n            return parseInt(this.taxcredit.eic.amt.value) + parseInt(this.taxcredit.child_tax_credit.amt.value) + \r\n                    parseInt(this.taxcredit.dependent_credit.amt.value) + parseInt(this.taxcredit.child_dependent_care_expense.amt.value) + \r\n                    parseInt(this.taxcredit.premium_tax_credit.amt.value) + parseInt(this.taxcredit.residential_energy_credit.amt.value) + \r\n                    parseInt(this.taxcredit.ev_credit.amt.value) + parseInt(this.taxcredit.foreign_tax_credit.amt.value)\r\n\r\n        }),\r\n        serialize: () => {\r\n            return {\r\n                eic:  {\r\n                    enabled: Stores.taxcredit.eic.enabled.value,\r\n                    amt: Stores.taxcredit.eic.amt.value,\r\n                },\r\n                child_dependent_care_expense: {\r\n                    enabled: Stores.taxcredit.child_dependent_care_expense.enabled.value,\r\n                    amt: Stores.taxcredit.child_dependent_care_expense.amt.value,\r\n                },  \r\n                premium_tax_credit:  {\r\n                    enabled: Stores.taxcredit.premium_tax_credit.enabled.value,\r\n                    amt: Stores.taxcredit.premium_tax_credit.amt.value,\r\n                },  \r\n                residential_energy_credit:  {\r\n                    enabled: Stores.taxcredit.residential_energy_credit.enabled.value,\r\n                    amt: Stores.taxcredit.residential_energy_credit.amt.value,\r\n                },  \r\n                ev_credit:  {\r\n                    enabled: Stores.taxcredit.ev_credit.enabled.value,\r\n                    amt: Stores.taxcredit.ev_credit.amt.value,\r\n                },  \r\n                foreign_tax_credit:  {\r\n                    enabled: Stores.taxcredit.foreign_tax_credit.enabled.value,\r\n                    amt: Stores.taxcredit.foreign_tax_credit.amt.value,\r\n                },\r\n        \r\n            }\r\n        },\r\n        load: (taxcredit: any) => {\r\n            Stores.taxcredit.eic.enabled.value = (taxcredit === null) ? false : taxcredit.eic.enabled\r\n            Stores.taxcredit.eic.amt.value = (taxcredit === null) ? 0 : taxcredit.eic.amt\r\n            Stores.taxcredit.child_dependent_care_expense.enabled.value = (taxcredit === null) ? false : taxcredit.child_dependent_care_expense.enabled\r\n            Stores.taxcredit.child_dependent_care_expense.amt.value = (taxcredit === null) ? 0 : taxcredit.child_dependent_care_expense.amt\r\n            Stores.taxcredit.premium_tax_credit.enabled.value = (taxcredit === null) ? false : taxcredit.premium_tax_credit.enabled\r\n            Stores.taxcredit.premium_tax_credit.amt.value = (taxcredit === null) ? 0 : taxcredit.premium_tax_credit.amt\r\n            Stores.taxcredit.residential_energy_credit.enabled.value = (taxcredit === null) ? false : taxcredit.residential_energy_credit.enabled\r\n            Stores.taxcredit.residential_energy_credit.amt.value = (taxcredit === null) ? 0 : taxcredit.residential_energy_credit.amt\r\n            Stores.taxcredit.ev_credit.enabled.value = (taxcredit === null) ? false : taxcredit.ev_credit.enabled\r\n            Stores.taxcredit.ev_credit.amt.value = (taxcredit === null) ? 0 : taxcredit.ev_credit.amt\r\n            Stores.taxcredit.foreign_tax_credit.enabled.value = (taxcredit === null) ? false : taxcredit.foreign_tax_credit.enabled\r\n            Stores.taxcredit.foreign_tax_credit.amt.value = (taxcredit === null) ? 0 : taxcredit.foreign_tax_credit.amt                                                            \r\n        }\r\n    }\r\n\r\n    static tax : any = {\r\n        taxable_income: computed(() => {\r\n            return (Math.max(this.income.agi.value - this.deduction.deduction.value[1], 0)).toFixed(0)\r\n        }),\r\n        tax_amount: computed(() => {\r\n            let longterm_capgain = parseInt(this.income.f1099b_longterm.amt.value) + parseInt(this.income.f1099_div_qualified.amt.value)\r\n            return (TaxConfig.getTaxAmount(this.tax.taxable_income.value, longterm_capgain, Stores.about.filing_status.value)).toFixed(0)\r\n        }),\r\n        effective_tax_rate: computed(() => {\r\n            return ((this.tax.tax_amount.value / this.tax.taxable_income.value) * 100).toFixed(2)\r\n        }),\r\n        due: computed(() => {\r\n            return (this.tax.tax_amount.value - this.taxcredit.total_tax_credit.value).toFixed(0)\r\n        }),\r\n        net_income: computed(() => {\r\n            return (this.tax.taxable_income.value - this.tax.tax_amount.value - this.income.ssa_medicare_contrib.value).toFixed(0)\r\n        })\r\n\r\n    }\r\n    \r\n}\r\n","import { h } from 'preact';\nimport { route } from 'preact-router';\nimport { Stores } from '../../stores/stores';\n\nconst Home = () => {\n\tconst handleClick = (e: MouseEvent) => {\n\t\te.preventDefault()\n\t\troute('/basic')\n\t};\n\n\tconst handleLoadModel = (e: MouseEvent) => {\n\t\tStores.LoadSavedModel()\n\t\troute('/basic')\n\t};\n\n\tconst renderLoadModelButton = () => {\n\t\tif(Stores.HasSavedModel()) {\n\t\t\treturn <button type=\"button\" class=\"btn btn-lg btn-success\" onClick={handleLoadModel}>Load Saved Model</button>\n\t\t}\n\t}\n\n\treturn <div style=\"padding:10px;\">\n\t\t\t\t<p style=\"height:50px;\"/>\n\n\t\t\t\t<div class=\"container\">\n\n\t\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<video width=\"420\" height=\"420\" autoPlay={true} loop={true} muted={true}>\n\t\t\t\t\t\t\t<source src=\"../../assets/animations/investing.mp4\" type=\"video/mp4\"/>\n\t\t\t\t\t\t</video>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t<div style=\"font-size:32pt;\"><b>incomee</b></div>\n\t\t\t\t\t\t\t<label style=\"font-size:10.5pt;font-style:italic;\"><b>Incomee</b> is a tool to visualize your income flow. Incomee may look like a tax tool, but it is really a modeling tool to help you understand where your income goes and provide some common tips. It does not replace tax-filing software or financial advice platforms.</label>\n\t\t\t\t\t\t\t<br/><br/>\n\t\t\t\t\t\t\t<label style=\"font-size:10.5pt;font-style:italic;\">The final analysis will show you a funnel visualization of your income all the way to net income. How much is tax-advantage income? What are the opportunities for future planning? It will also show a dashboard of your income analysis with key charts to help you understand your financials. All numbers here are estimates and not 100% accurate.</label>\n\t\t\t\t\t\t\t<br/><br/>\n\n\t\t\t\t\t\t\t<label style=\"font-size:10.5pt;font-style:italic;\">Before we can generate the dashboard, we need some information from you. All information entered into this tool will remain in your computer, none of the information you enter will be sent to the cloud. It is completely private; you do not see a login button. To begin, click on the start modeling button below.</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t<h5>Why use <i>incomee</i> ?</h5>\n\t\t\t\t\t\t\t<ul class=\"list-group\">\n\t\t\t\t\t\t\t\t<li class=\"list-group-item\" style=\"font-size:10pt;font-style:italic;\">Personal Financial Education</li>\n\t\t\t\t\t\t\t\t<li class=\"list-group-item\" style=\"font-size:10pt;font-style:italic;\">Understand of income flow</li>\n\t\t\t\t\t\t\t\t<li class=\"list-group-item\" style=\"font-size:10pt;font-style:italic;\">Optimize to have more income to be tax advantage</li>\n\t\t\t\t\t\t\t\t<li class=\"list-group-item\" style=\"font-size:10pt;font-style:italic;\">A look at which deductions you were missing</li>\n\t\t\t\t\t\t\t\t<li class=\"list-group-item\" style=\"font-size:10pt;font-style:italic;\">Analysis of your current flow</li>\n\t\t\t\t\t\t\t\t<li class=\"list-group-item\" style=\"font-size:10pt;font-style:italic;\">Totally free to use</li>\n\n\t\t\t\t\t\t\t</ul>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col text-center my-auto\">\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t<p/>\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={handleClick}>Start Modeling</button>\n\t\t\t\t\t\t\t&nbsp;&nbsp;{renderLoadModelButton()}\n\n\t\t\t\t\t\t\t<p/>\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t<h5>How to use <i>incomee</i> ?</h5>\n\t\t\t\t\t\t\t<video width=\"420\" autoPlay={false} muted={true} controls={true}>\n\t\t\t\t\t\t\t\t<source src=\"../../assets/animations/howto.mp4\" type=\"video/mp4\"/>\n\t\t\t\t\t\t\t</video>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n}\n\n\n\nexport default Home;\n","import { h } from 'preact';\nimport { route } from 'preact-router';\nimport { Stores } from '../../stores/stores';\nimport { useEffect } from 'preact/hooks';\n\nconst Basic = () => {\n\n\tuseEffect(() => {\n\t\tlet selects = document.querySelectorAll('select')\n\t\tif(selects.length > 0) {\n\t\t\tselects[0].focus()\n\t\t}\n\t}, []);\n\n\tconst handleChildUnder17 = (e: Event) => {\n\t\tconst element = e.currentTarget as HTMLInputElement\n\t\tStores.about.child_under17_count.value = parseInt(element.value)\n\t};\n\n\tconst handleDependentCount = (e: Event) => {\n\t\tconst element = e.currentTarget as HTMLInputElement\n\t\tStores.about.dependent_count.value = parseInt(element.value)\n\t};\n\n\tconst handleTaxFiling = (e: Event) => {\n\t\tconst element = e.currentTarget as HTMLSelectElement\n\t\tStores.about.filing_status.value = parseInt(element.value)\n\t};\n\n\tconst handleOver50 = (e: Event) => {\n\t\tconst element = e.currentTarget as HTMLSelectElement\n\t\tStores.about.over_50.value = parseInt(element.value)\n\t};\t\n\n    return (\n\t\t<div style=\"padding:10px;\">\n\t\t\t<p style=\"height:50px;\"/>\n\n\t\t\t<div class=\"container\">\n\n\t\t\t\t<hr/>\n\t\t\t\t<h5><i>basic information</i></h5>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t\t\t<select class=\"form-select\" id=\"floatingSelect\" aria-label=\"Filing status\" style=\"font-size:11pt;width:300px;\"\n\t\t\t\t\t\t\t\tvalue={Stores.about.filing_status.value} onChange={handleTaxFiling}>\n\t\t\t\t\t\t\t\t<option value=\"0\">Single filing</option>\n\t\t\t\t\t\t\t\t<option value=\"1\">Married filing separately</option>\n\t\t\t\t\t\t\t\t<option value=\"2\">Married joint filing</option>\n\t\t\t\t\t\t\t\t<option value=\"3\">Head of Household</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<label for=\"floatingSelect\">Tax filing status</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br/>\t\t\n\t\t\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t\t\t<select class=\"form-select\" id=\"over50Select\" aria-label=\"Filing status\" style=\"font-size:11pt;width:300px;\"\n\t\t\t\t\t\t\t\tvalue={Stores.about.over_50.value} onChange={handleOver50}>\n\t\t\t\t\t\t\t\t<option value=\"0\">No</option>\n\t\t\t\t\t\t\t\t<option value=\"1\">Yes</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<label for=\"over50Select\">Over age 50</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br/>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t<form class=\"form-floating\" style=\"width:300px;\">\n\t\t\t\t\t\t\t<select class=\"form-select\" id=\"under17\" aria-label=\"Number of child under 17\" style=\"font-size:11pt;width:300px;\"\n\t\t\t\t\t\t\t\tvalue={Stores.about.child_under17_count.value} onChange={handleChildUnder17}>\n\t\t\t\t\t\t\t\t<option value=\"0\">0</option>\n\t\t\t\t\t\t\t\t<option value=\"1\">1</option>\n\t\t\t\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t\t\t\t<option value=\"3\">3</option>\n\t\t\t\t\t\t\t\t<option value=\"4\">4</option>\n\t\t\t\t\t\t\t\t<option value=\"5\">5</option>\n\t\t\t\t\t\t\t\t<option value=\"6\">6</option>\n\t\t\t\t\t\t\t\t<option value=\"7\">7</option>\n\t\t\t\t\t\t\t\t<option value=\"8\">8</option>\n\t\t\t\t\t\t\t\t<option value=\"9\">9</option>\n\t\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t</select>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<label for=\"under17\">Number of children under-17</label>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<form class=\"form-floating\" style=\"width:300px;\">\n\t\t\t\t\t\t\t<select class=\"form-select\" id=\"dependentover17\" aria-label=\"Number of other dependent\" style=\"font-size:11pt;width:300px;\"\n\t\t\t\t\t\t\t\tvalue={Stores.about.dependent_count.value} onChange={handleDependentCount}>\n\t\t\t\t\t\t\t\t<option value=\"0\">0</option>\n\t\t\t\t\t\t\t\t<option value=\"1\">1</option>\n\t\t\t\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t\t\t\t<option value=\"3\">3</option>\n\t\t\t\t\t\t\t\t<option value=\"4\">4</option>\n\t\t\t\t\t\t\t\t<option value=\"5\">5</option>\n\t\t\t\t\t\t\t\t<option value=\"6\">6</option>\n\t\t\t\t\t\t\t\t<option value=\"7\">7</option>\n\t\t\t\t\t\t\t\t<option value=\"8\">8</option>\n\t\t\t\t\t\t\t\t<option value=\"9\">9</option>\n\t\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t</select>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<label for=\"dependentover17\">Number of other dependent</label>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<video width=\"320\" height=\"320\" autoPlay={true} loop={true}>\n\t\t\t\t\t\t\t<source src=\"../../assets/animations/incometax.mp4\" type=\"video/mp4\"/>\n\t\t\t\t\t\t</video>\n\n\t\t\t\t\t<label style=\"font-size:11pt;font-style:italic;\">Getting information like tax filing, children and age range is to determine different tax credit limits, tax brackets & contribution limits. This is so that we can get you the best recommendation and get to a more accurate model.</label>\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\t<label style=\"font-size:11pt;font-style:italic;\">All information entered in this tool will remain in your computer, none of this information will be sent to the cloud. It is completely private.</label>\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" class=\"bi bi-lock\" viewBox=\"0 0 16 16\">\n\t\t\t\t\t\t<path d=\"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z\"/>\n\t\t\t\t\t</svg>&nbsp;&nbsp;\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() => route('/income')}>Next: Income</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\"></div>\n\t\t\t\t</div>\n\n\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t);\n};\n\nexport default Basic;\n","import { h } from 'preact';\r\nimport { useEffect } from 'preact/hooks';\r\n\r\nconst IncomeInput = (props: any) => {\r\n\r\n\tconst toggle = (e: Event) => {\r\n        e.preventDefault()\r\n\t\tprops.store.enabled.value = !props.store.enabled.value\r\n\r\n        if(props.store.enabled.value === false) {\r\n            props.store.amt.value = 0\r\n        } else {\r\n            focusNextElement(e)\r\n        }\r\n\t};\r\n\r\n    function focusNextElement(e: Event) { \r\n        let inputs = document.querySelectorAll('input')\r\n        let nextFocusIndex = getNextFocusIndex(inputs, e.target as HTMLElement)\r\n        setTimeout(() => {\r\n            let element = inputs[nextFocusIndex]\r\n            element.focus()\r\n            element.select()\r\n        }, 0)\r\n        \r\n    }\r\n\r\n    function getNextFocusIndex(inputs: NodeListOf<HTMLInputElement>, target: HTMLElement) {\r\n        let idx = 0\r\n\r\n        for(let i=0; i<inputs.length; ++i) {\r\n            if(inputs[i] == target) {\r\n                // found \r\n                if(i !== inputs.length - 1) {\r\n                    idx = i+1\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        return idx\r\n    }\r\n\r\n    const updateValue = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLInputElement\r\n        if(element.value === '') {\r\n            element.value = \"0\"\r\n            props.store.enabled.value = false\r\n            showErrorBlink(element)\r\n        } else {\r\n            let val = parseInt(element.value)\r\n            if(val > props.min_value) {\r\n                if(val > props.max_value) {\r\n                    showErrorBlink(element)\r\n                    element.value = props.max_value\r\n                } else {\r\n                    showSuccessBlink(element)\r\n                    props.store.amt.value = val\r\n                }\r\n            } else {\r\n                showErrorBlink(element)\r\n                props.store.amt.value = 0\r\n                props.store.enabled.value = false    \r\n            }\r\n        }\r\n\t};\r\n\r\n    \r\n    const showSuccessBlink = (element: HTMLInputElement) => {\r\n        let bg = element.style.backgroundColor\r\n        element.style.backgroundColor = 'lightgreen'\r\n        setTimeout(()=>{\r\n            element.style.backgroundColor = bg\r\n        }, 500)\r\n    }\r\n\r\n    const showErrorBlink = (element: HTMLInputElement) => {\r\n        let bg = element.style.backgroundColor\r\n        element.style.backgroundColor = 'pink'\r\n        setTimeout(()=>{\r\n            element.style.backgroundColor = bg\r\n        }, 500)\r\n    }\r\n\r\n    return (\r\n        <div class=\"mb-3 border rounded\" style=\"width:450px;padding:5px;\">\r\n            <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" style=\"width:180px;font-size:10pt;\">{props.title}</span>\r\n                <div class=\"input-group-text\">\r\n                    <input onChange={toggle} class=\"form-check-input mt-0\" type=\"checkbox\" aria-label=\"Checkbox for following text input\" checked={props.store.enabled.value}/>\r\n                </div>\r\n                <span class=\"input-group-text\">$</span>\r\n                <input onBlur={updateValue} type=\"number\" value={props.store.amt.value} aria-label=\"Amount\" class=\"form-control text-end\" disabled={props.store.enabled.value === false}></input>\r\n                <span class=\"input-group-text\">.00</span>\r\n            </div>\r\n            <label style=\"font-size:11px;padding-left:4px;\">{props.description}</label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IncomeInput;","import { h } from 'preact';\r\n\r\nconst Total = (props: any) => {\r\n\r\n    return (\r\n        <div class=\"mb-3 border rounded\" style=\"width:450px;padding:5px;\">\r\n            <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" style=\"width:180px;font-size:10pt;\">{props.title}</span>\r\n                <span class=\"input-group-text\">$</span>\r\n                <input  type=\"number\" id=\"txt_total\" value={props.store.value} aria-label=\"Total\" class=\"form-control text-end\" disabled={true}></input>\r\n                <span class=\"input-group-text\">.00</span>\r\n            </div>\r\n            <label style=\"font-size:11px;padding-left:4px;\">{props.description}</label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Total;","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function(error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function(vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function(promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function() {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function(props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function(child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function(props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate = SuspenseList.prototype.componentDidMount = function() {\n\t// Iterate through all children after mounting for two reasons:\n\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t//    The nodes can now be completely consumed from the linked list.\n\t// 2. Handle nodes that might have gotten resolved between render and\n\t//    componentDidMount.\n\tthis._map.forEach((node, child) => {\n\t\tresolve(this, child, node);\n\t});\n};\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/i\n\t\t: /fil|che|ra/i\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nlet classNameDescriptor = {\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\tlet type = vnode.type;\n\tlet props = vnode.props;\n\tlet normalizedProps = props;\n\n\t// only normalize props on Element nodes\n\tif (typeof type === 'string') {\n\t\tconst nonCustomElement = type.indexOf('-') === -1;\n\t\tnormalizedProps = {};\n\n\t\tfor (let i in props) {\n\t\t\tlet value = props[i];\n\n\t\t\tif (IS_DOM && i === 'children' && type === 'noscript') {\n\t\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t\tcontinue;\n\t\t\t} else if (i === 'value' && 'defaultValue' in props && value == null) {\n\t\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t\t// a default value\n\t\t\t\tcontinue;\n\t\t\t} else if (\n\t\t\t\ti === 'defaultValue' &&\n\t\t\t\t'value' in props &&\n\t\t\t\tprops.value == null\n\t\t\t) {\n\t\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\t\ti = 'value';\n\t\t\t} else if (i === 'download' && value === true) {\n\t\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t\t// value will be used as the file name and the file will be called\n\t\t\t\t// \"true\" upon downloading it.\n\t\t\t\tvalue = '';\n\t\t\t} else if (/ondoubleclick/i.test(i)) {\n\t\t\t\ti = 'ondblclick';\n\t\t\t} else if (\n\t\t\t\t/^onchange(textarea|input)/i.test(i + type) &&\n\t\t\t\t!onChangeInputType(props.type)\n\t\t\t) {\n\t\t\t\ti = 'oninput';\n\t\t\t} else if (/^onfocus$/i.test(i)) {\n\t\t\t\ti = 'onfocusin';\n\t\t\t} else if (/^onblur$/i.test(i)) {\n\t\t\t\ti = 'onfocusout';\n\t\t\t} else if (/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)) {\n\t\t\t\ti = i.toLowerCase();\n\t\t\t} else if (nonCustomElement && CAMEL_PROPS.test(i)) {\n\t\t\t\ti = i.replace(/[A-Z0-9]/g, '-$&').toLowerCase();\n\t\t\t} else if (value === null) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\n\t\t\t// Add support for onInput and onChange, see #3561\n\t\t\t// if we have an oninput prop already change it to oninputCapture\n\t\t\tif (/^oninput$/i.test(i)) {\n\t\t\t\ti = i.toLowerCase();\n\t\t\t\tif (normalizedProps[i]) {\n\t\t\t\t\ti = 'oninputCapture';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnormalizedProps[i] = value;\n\t\t}\n\n\t\t// Add support for array select values: <select multiple value={[]} />\n\t\tif (\n\t\t\ttype == 'select' &&\n\t\t\tnormalizedProps.multiple &&\n\t\t\tArray.isArray(normalizedProps.value)\n\t\t) {\n\t\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t\t});\n\t\t}\n\n\t\t// Adding support for defaultValue in select tag\n\t\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tif (normalizedProps.multiple) {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t\t} else {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tvnode.props = normalizedProps;\n\n\t\tif (props.class != props.className) {\n\t\t\tclassNameDescriptor.enumerable = 'className' in props;\n\t\t\tif (props.className != null) normalizedProps.class = props.className;\n\t\t\tObject.defineProperty(normalizedProps, 'className', classNameDescriptor);\n\t\t}\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function(vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import { useState, useEffect } from \"react\";\nimport { GoogleChartVersion, GoogleChartPackages, GoogleViz } from \"../types\";\nimport { useLoadScript } from \"./useLoadScript\";\n\nexport interface IUseLoadGoogleChartsParams {\n  chartVersion?: GoogleChartVersion;\n  chartPackages?: GoogleChartPackages[];\n  chartLanguage?: string;\n  mapsApiKey?: string;\n}\n\n/**\n * Hook to load Google Charts JS API.\n * @param params - Load parameters.\n * @param [params.chartVersion] - Chart version to load.\n * @param [params.chartPackages] - Packages to load.\n * @param [params.chartLanguage] - Languages to load.\n * @param [params.mapsApiKey] - Google Maps api key.\n * @returns\n */\nexport function useLoadGoogleCharts({\n  chartVersion = \"current\",\n  chartPackages = [\"corechart\", \"controls\"],\n  chartLanguage = \"en\",\n  mapsApiKey,\n}: IUseLoadGoogleChartsParams) {\n  const [googleCharts, setGoogleCharts] = useState<GoogleViz | null>(null);\n  const [failed, setFailed] = useState(false);\n\n  useLoadScript(\n    \"https://www.gstatic.com/charts/loader.js\",\n    () => {\n      // @ts-expect-error Getting object from global namespace.\n      const google = window?.google as GoogleViz;\n\n      if (!google) {\n        return;\n      }\n\n      google.charts.load(chartVersion, {\n        packages: chartPackages,\n        language: chartLanguage,\n        mapsApiKey,\n      });\n      google.charts.setOnLoadCallback(() => {\n        setGoogleCharts(google);\n      });\n    },\n    () => {\n      setFailed(true);\n    }\n  );\n\n  return [googleCharts, failed] as const;\n}\n\nexport interface ILoadGoogleChartsProps extends IUseLoadGoogleChartsParams {\n  onLoad?(googleCharts: GoogleViz): void;\n  onError?(): void;\n}\n\n/**\n * Wrapper around useLoadGoogleCharts to use in legacy components.\n */\nexport function LoadGoogleCharts({\n  onLoad,\n  onError,\n  ...params\n}: ILoadGoogleChartsProps) {\n  const [googleCharts, failed] = useLoadGoogleCharts(params);\n\n  useEffect(() => {\n    if (googleCharts && onLoad) {\n      onLoad(googleCharts);\n    }\n  }, [googleCharts]);\n\n  useEffect(() => {\n    if (failed && onError) {\n      onError();\n    }\n  }, [failed]);\n\n  return null;\n}\n","import { useEffect } from \"react\";\n\n/**\n * Hook to load external script.\n * @param src - Source url to load.\n * @param onLoad - Success callback.\n * @param onError - Error callback.\n */\nexport function useLoadScript(\n  src: string,\n  onLoad?: () => void,\n  onError?: () => void\n) {\n  useEffect(() => {\n    if (!document) {\n      return;\n    }\n\n    // Find script tag with same src in DOM.\n    const foundScript = document.querySelector<HTMLScriptElement>(\n      `script[src=\"${src}\"]`\n    );\n\n    // Call onLoad if script marked as loaded.\n    if (foundScript?.dataset.loaded) {\n      onLoad?.();\n      return;\n    }\n\n    // Create or get existed tag.\n    const script = foundScript || document.createElement(\"script\");\n\n    // Set src if no script was found.\n    if (!foundScript) {\n      script.src = src;\n    }\n\n    // Mark script as loaded on load event.\n    const onLoadWithMarker = () => {\n      script.dataset.loaded = \"1\";\n      onLoad?.();\n    };\n\n    script.addEventListener(\"load\", onLoadWithMarker);\n\n    if (onError) {\n      script.addEventListener(\"error\", onError);\n    }\n\n    // Add to DOM if not yet added.\n    if (!foundScript) {\n      document.head.append(script);\n    }\n\n    return () => {\n      script.removeEventListener(\"load\", onLoadWithMarker);\n\n      if (onError) {\n        script.removeEventListener(\"error\", onError);\n      }\n    };\n  }, []);\n}\n","import { ReactGoogleChartProps } from \"./types\";\n\nexport const chartDefaultProps: Partial<ReactGoogleChartProps> = {\n  // <DEPRECATED_PROPS>\n  legend_toggle: false,\n  // </DEPRECATED_PROPS>\n  options: {},\n  legendToggle: false,\n  getChartWrapper: () => {},\n  spreadSheetQueryParameters: {\n    headers: 1,\n    gid: 1,\n  },\n  rootProps: {},\n  chartWrapperParams: {},\n};\n","let uniqueID = 0;\nexport const generateUniqueID = () => {\n  uniqueID += 1;\n  return `reactgooglegraph-${uniqueID}`;\n};\n","export const DEFAULT_CHART_COLORS = [\n  \"#3366CC\",\n  \"#DC3912\",\n  \"#FF9900\",\n  \"#109618\",\n  \"#990099\",\n  \"#3B3EAC\",\n  \"#0099C6\",\n  \"#DD4477\",\n  \"#66AA00\",\n  \"#B82E2E\",\n  \"#316395\",\n  \"#994499\",\n  \"#22AA99\",\n  \"#AAAA11\",\n  \"#6633CC\",\n  \"#E67300\",\n  \"#8B0707\",\n  \"#329262\",\n  \"#5574A6\",\n  \"#3B3EAC\"\n];\n","import { GoogleViz } from \"./types\";\n\nexport const loadDataTableFromSpreadSheet = async (\n  googleViz: GoogleViz,\n  spreadSheetUrl: string,\n  urlParams: {\n    headers?: number;\n    gid?: any;\n    sheet?: string;\n    query?: string;\n    access_token?: string;\n  } = {}\n) => {\n  return new Promise((resolve, reject) => {\n    const headers = `${\n      urlParams.headers ? `headers=${urlParams.headers}` : `headers=0`\n    }`;\n    const queryString = `${\n      urlParams.query ? `&tq=${encodeURIComponent(urlParams.query)}` : ``\n    }`;\n    const gid = `${urlParams.gid ? `&gid=${urlParams.gid}` : \"\"}`;\n    const sheet = `${urlParams.sheet ? `&sheet=${urlParams.sheet}` : \"\"}`;\n    const access_token = `${\n      urlParams.access_token ? `&access_token=${urlParams.access_token}` : \"\"\n    }`;\n    const urlQueryString = `${headers}${gid}${sheet}${queryString}${access_token}`;\n    const urlToSpreadSheet = `${spreadSheetUrl}/gviz/tq?${urlQueryString}`; //&tq=${queryString}`;\n    const query = new googleViz.visualization.Query(urlToSpreadSheet);\n    query.send((response: any) => {\n      if (response.isError()) {\n        reject(\n          `Error in query:  ${response.getMessage()} ${response.getDetailedMessage()}`\n        );\n      } else {\n        resolve(response.getDataTable());\n      }\n    });\n  });\n};\n","import * as React from \"react\";\nimport { chartDefaultProps } from \"./default-props\";\n\nimport { ReactGoogleChartProps } from \"./types\";\nconst { Provider, Consumer } = React.createContext(chartDefaultProps);\n\nexport const ContextProvider = ({\n  children,\n  value,\n}: {\n  children: any;\n  value: ReactGoogleChartProps;\n}) => {\n  return <Provider value={value}>{children}</Provider>;\n};\n\nexport const ContextConsumer = ({\n  render,\n}: {\n  render: (context: ReactGoogleChartProps) => JSX.Element | null;\n}) => {\n  return (\n    <Consumer>\n      {(context) => {\n        return render(context as ReactGoogleChartProps);\n      }}\n    </Consumer>\n  );\n};\n","import * as React from \"react\";\nimport {\n  GoogleViz,\n  GoogleChartWrapper,\n  GoogleDataTable,\n  ReactGoogleChartProps,\n  GoogleChartDashboard,\n} from \"../types\";\nimport { DEFAULT_CHART_COLORS } from \"../constants\";\n\nimport { loadDataTableFromSpreadSheet } from \"../load-data-table-from-spreadsheet\";\nimport { ContextConsumer } from \"../Context\";\n\nconst GRAY_COLOR = \"#CCCCCC\";\nexport type ChartDrawArgs = {\n  data: ReactGoogleChartProps[\"data\"];\n};\n\nexport type GoogleChartDataTableProps = {\n  googleChartWrapper: GoogleChartWrapper;\n  google: GoogleViz;\n  googleChartDashboard: GoogleChartDashboard | null;\n};\ninterface State {\n  hiddenColumns: string[];\n}\nexport class GoogleChartDataTableInner extends React.Component<\n  ReactGoogleChartProps & GoogleChartDataTableProps,\n  State\n> {\n  state = {\n    hiddenColumns: [],\n  } as State;\n\n  private listenToLegendToggle = () => {\n    const { google, googleChartWrapper } = this.props;\n    google.visualization.events.addListener(\n      googleChartWrapper,\n      \"select\",\n      () => {\n        const chart = googleChartWrapper.getChart();\n        const selection = chart.getSelection();\n        const dataTable = googleChartWrapper.getDataTable();\n        if (\n          selection.length === 0 ||\n          // We want to listen to when a whole row is selected. This is the case only when row === null\n          selection[0].row ||\n          !dataTable\n        ) {\n          return;\n        }\n        const columnIndex = selection[0].column;\n        const columnID = this.getColumnID(dataTable, columnIndex);\n        if (this.state.hiddenColumns.includes(columnID)) {\n          this.setState((state) => ({\n            ...state,\n            hiddenColumns: [\n              ...state.hiddenColumns.filter((colID) => colID !== columnID),\n            ],\n          }));\n        } else {\n          this.setState((state) => ({\n            ...state,\n            hiddenColumns: [...state.hiddenColumns, columnID],\n          }));\n        }\n      }\n    );\n  };\n\n  private applyFormatters = (dataTable: GoogleDataTable, formatters: any[]) => {\n    const { google } = this.props;\n    for (let formatter of formatters) {\n      switch (formatter.type) {\n        case \"ArrowFormat\": {\n          const vizFormatter = new google.visualization.ArrowFormat(\n            formatter.options\n          );\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n        case \"BarFormat\": {\n          const vizFormatter = new google.visualization.BarFormat(\n            formatter.options\n          );\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n        case \"ColorFormat\": {\n          const vizFormatter = new google.visualization.ColorFormat(\n            formatter.options\n          );\n          const { ranges } = formatter;\n          for (let range of ranges) {\n            vizFormatter.addRange(...range);\n          }\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n        case \"DateFormat\": {\n          const vizFormatter = new google.visualization.DateFormat(\n            formatter.options\n          );\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n        case \"NumberFormat\": {\n          const vizFormatter = new google.visualization.NumberFormat(\n            formatter.options\n          );\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n        case \"PatternFormat\": {\n          const vizFormatter = new google.visualization.PatternFormat(\n            formatter.options\n          );\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n      }\n    }\n  };\n  private getColumnID = (dataTable: GoogleDataTable, columnIndex: number) => {\n    return (\n      dataTable.getColumnId(columnIndex) ||\n      dataTable.getColumnLabel(columnIndex)\n    );\n  };\n  private draw = async ({\n    data,\n    diffdata,\n    rows,\n    columns,\n    options,\n    legend_toggle,\n    legendToggle,\n    chartType,\n    formatters,\n    spreadSheetUrl,\n    spreadSheetQueryParameters,\n  }: ReactGoogleChartProps) => {\n    const { google, googleChartWrapper } = this.props;\n    let dataTable: GoogleDataTable;\n    let chartDiff = null;\n    if (diffdata) {\n      const oldData = google.visualization.arrayToDataTable(diffdata.old);\n      const newData = google.visualization.arrayToDataTable(diffdata.new);\n      chartDiff = google.visualization[chartType].prototype.computeDiff(\n        oldData,\n        newData\n      );\n    }\n    if (data !== null) {\n      if (Array.isArray(data)) {\n        dataTable = google.visualization.arrayToDataTable(data);\n      } else {\n        dataTable = new google.visualization.DataTable(data);\n      }\n    } else if (rows && columns) {\n      dataTable = google.visualization.arrayToDataTable([columns, ...rows]);\n    } else if (spreadSheetUrl) {\n      dataTable = (await loadDataTableFromSpreadSheet(\n        google,\n        spreadSheetUrl,\n        spreadSheetQueryParameters\n      )) as GoogleDataTable;\n    } else {\n      dataTable = google.visualization.arrayToDataTable([]);\n    }\n    const columnCount = dataTable.getNumberOfColumns();\n    for (let i = 0; i < columnCount; i += 1) {\n      const columnID = this.getColumnID(dataTable, i);\n      if (this.state.hiddenColumns.includes(columnID)) {\n        const previousColumnLabel = dataTable.getColumnLabel(i);\n        const previousColumnID = dataTable.getColumnId(i);\n        const previousColumnType = dataTable.getColumnType(i);\n        dataTable.removeColumn(i);\n        dataTable.addColumn({\n          label: previousColumnLabel,\n          id: previousColumnID,\n          type: previousColumnType,\n        });\n      }\n    }\n    const chart = googleChartWrapper.getChart();\n    if (googleChartWrapper.getChartType() === \"Timeline\") {\n      chart && chart.clearChart();\n    }\n    googleChartWrapper.setChartType(chartType);\n    googleChartWrapper.setOptions(options || {});\n    googleChartWrapper.setDataTable(dataTable);\n    googleChartWrapper.draw();\n    if (this.props.googleChartDashboard !== null) {\n      this.props.googleChartDashboard.draw(dataTable);\n    }\n\n    if (chartDiff) {\n      googleChartWrapper.setDataTable(chartDiff);\n      googleChartWrapper.draw();\n    }\n    if (formatters) {\n      this.applyFormatters(dataTable, formatters);\n      googleChartWrapper.setDataTable(dataTable);\n      googleChartWrapper.draw();\n    }\n    if (legendToggle === true || legend_toggle === true) {\n      this.grayOutHiddenColumns({ options });\n    }\n    return;\n  };\n  private grayOutHiddenColumns = ({\n    options,\n  }: {\n    options: ReactGoogleChartProps[\"options\"];\n  }) => {\n    const { googleChartWrapper } = this.props;\n    const dataTable = googleChartWrapper.getDataTable();\n    if (!dataTable) return;\n    const columnCount = dataTable.getNumberOfColumns();\n    const hasAHiddenColumn = this.state.hiddenColumns.length > 0;\n    if (hasAHiddenColumn === false) return;\n    const colors = Array.from({ length: columnCount - 1 }).map(\n      (dontcare, i) => {\n        const columnID = this.getColumnID(dataTable, i + 1);\n        if (this.state.hiddenColumns.includes(columnID)) {\n          return GRAY_COLOR;\n        } else if (options && options.colors) {\n          return options.colors[i];\n        } else {\n          return DEFAULT_CHART_COLORS[i];\n        }\n      }\n    );\n    googleChartWrapper.setOptions({\n      ...options,\n      colors,\n    });\n    googleChartWrapper.draw();\n  };\n  private onResize = () => {\n    const { googleChartWrapper } = this.props;\n    googleChartWrapper.draw();\n  };\n  componentDidMount() {\n    this.draw(this.props);\n    window.addEventListener(\"resize\", this.onResize);\n    if (this.props.legend_toggle || this.props.legendToggle) {\n      this.listenToLegendToggle();\n    }\n  }\n\n  componentWillUnmount() {\n    const { google, googleChartWrapper } = this.props;\n    window.removeEventListener(\"resize\", this.onResize);\n    google.visualization.events.removeAllListeners(googleChartWrapper);\n    if (googleChartWrapper.getChartType() === \"Timeline\") {\n      googleChartWrapper.getChart() &&\n        googleChartWrapper.getChart().clearChart();\n    }\n  }\n\n  componentDidUpdate() {\n    this.draw(this.props);\n  }\n  render() {\n    return null;\n  }\n}\n\nexport class GoogleChartDataTable extends React.Component<GoogleChartDataTableProps> {\n  componentDidMount() {}\n\n  componentWillUnmount() {}\n  shouldComponentUpdate() {\n    return false;\n  }\n  render() {\n    const { google, googleChartWrapper, googleChartDashboard } = this.props;\n    return (\n      <ContextConsumer\n        render={(props) => {\n          return (\n            <GoogleChartDataTableInner\n              {...props}\n              google={google}\n              googleChartWrapper={googleChartWrapper}\n              googleChartDashboard={googleChartDashboard}\n            />\n          );\n        }}\n      />\n    );\n  }\n}\n","import * as React from \"react\";\nimport {\n  GoogleViz,\n  GoogleChartWrapper,\n  ReactGoogleChartProps,\n  ReactGoogleChartEvent,\n} from \"../types\";\n\nimport { ContextConsumer } from \"../Context\";\n\nexport type ChartDrawArgs = {\n  data: ReactGoogleChartProps[\"data\"];\n};\n\nexport interface Props {\n  googleChartWrapper: GoogleChartWrapper;\n  google: GoogleViz;\n}\n\nexport interface ListenToEventsArgs {\n  googleChartWrapper: GoogleChartWrapper;\n  google: GoogleViz;\n  chartEvents: ReactGoogleChartEvent[] | null;\n}\n\nexport class GoogleChartEvents extends React.Component<Props> {\n  shouldComponentUpdate() {\n    return false;\n  }\n  listenToEvents({\n    chartEvents,\n    google,\n    googleChartWrapper,\n  }: ListenToEventsArgs) {\n    if (!chartEvents) {\n      return;\n    }\n    google.visualization.events.removeAllListeners(googleChartWrapper);\n    for (let event of chartEvents) {\n      const { eventName, callback } = event;\n      google.visualization.events.addListener(\n        googleChartWrapper,\n        eventName,\n        (...args: any[]) => {\n          callback({\n            chartWrapper: googleChartWrapper,\n            props: this.props as any,\n            google: google,\n            eventArgs: args,\n          });\n        }\n      );\n    }\n  }\n  render() {\n    const { google, googleChartWrapper } = this.props;\n    return (\n      <ContextConsumer\n        render={(propsFromContext) => {\n          this.listenToEvents({\n            chartEvents: propsFromContext.chartEvents || null,\n            google,\n            googleChartWrapper,\n          });\n          return null;\n        }}\n      />\n    );\n  }\n}\n","import * as React from \"react\";\nimport {\n  GoogleViz,\n  GoogleChartWrapper,\n  ReactGoogleChartProps,\n  GoogleChartControlProp,\n  GoogleChartControl,\n  GoogleChartDashboard,\n  GoogleChartEditor,\n} from \"../types\";\nimport { generateUniqueID } from \"../generate-unique-id\";\nimport { GoogleChartDataTable } from \"./GoogleChartDataTable\";\nimport { GoogleChartEvents } from \"./GoogleChartEvents\";\n\nexport type Props = {\n  google: GoogleViz;\n  graphID?: string | null;\n  graph_id?: string | null;\n  options?: ReactGoogleChartProps[\"options\"];\n  chartWrapperParams?: {};\n  chartType: ReactGoogleChartProps[\"chartType\"];\n  width?: ReactGoogleChartProps[\"width\"];\n  height?: ReactGoogleChartProps[\"height\"];\n  style?: ReactGoogleChartProps[\"style\"];\n  className?: ReactGoogleChartProps[\"className\"];\n  rootProps?: ReactGoogleChartProps[\"rootProps\"];\n} & ReactGoogleChartProps;\n\nexport interface State {\n  googleChartWrapper: GoogleChartWrapper | null;\n  isReady: boolean;\n  googleChartDashboard: GoogleChartDashboard | null;\n  googleChartEditor: GoogleChartEditor | null;\n  googleChartControls:\n    | { control: GoogleChartControl; controlProp: GoogleChartControlProp }[]\n    | null;\n}\n\nlet controlCounter = 0;\n\nexport class GoogleChart extends React.Component<Props, State> {\n  state = {\n    googleChartWrapper: null,\n    googleChartDashboard: null,\n    googleChartControls: null,\n    googleChartEditor: null,\n    isReady: false,\n  } as State;\n  graphID: null | string = null;\n  private dashboard_ref: React.RefObject<HTMLDivElement> = React.createRef();\n  private toolbar_ref: React.RefObject<HTMLDivElement> = React.createRef();\n  private getGraphID = () => {\n    const { graphID, graph_id } = this.props;\n    let instanceGraphID: string;\n    if (!graphID && !graph_id) {\n      if (!this.graphID) {\n        instanceGraphID = generateUniqueID();\n      } else {\n        instanceGraphID = this.graphID;\n      }\n    } else if (graphID && !graph_id) {\n      instanceGraphID = graphID as string;\n    } else if (graph_id && !graphID) {\n      instanceGraphID = graph_id as string;\n    } else {\n      instanceGraphID = graphID as string;\n    }\n    this.graphID = instanceGraphID;\n    return this.graphID as string;\n  };\n  private getControlID = (id: undefined | string, index: number) => {\n    controlCounter += 1;\n    let controlID: string;\n    if (typeof id === \"undefined\") {\n      controlID = `googlechart-control-${index}-${controlCounter}`;\n    } else {\n      controlID = id;\n    }\n    return controlID;\n  };\n\n  addControls = (\n    googleChartWrapper: GoogleChartWrapper,\n    googleChartDashboard: GoogleChartDashboard\n  ) => {\n    const { google, controls } = this.props;\n\n    const googleChartControls = !controls\n      ? null\n      : controls.map((control, i) => {\n          const {\n            controlID: controlIDMaybe,\n            controlType,\n            options: controlOptions,\n            controlWrapperParams,\n          } = control;\n          const controlID = this.getControlID(controlIDMaybe, i);\n          return {\n            controlProp: control,\n            control: new google.visualization.ControlWrapper({\n              containerId: controlID,\n              controlType,\n              options: controlOptions,\n              ...controlWrapperParams,\n            }),\n          };\n        });\n    if (!googleChartControls) {\n      return null;\n    }\n    googleChartDashboard.bind(\n      googleChartControls.map(({ control }) => control),\n      googleChartWrapper\n    );\n    for (let chartControl of googleChartControls) {\n      const { control, controlProp } = chartControl;\n      const { controlEvents = [] } = controlProp;\n      for (let event of controlEvents) {\n        const { callback, eventName } = event;\n        google.visualization.events.removeListener(\n          control,\n          eventName,\n          callback\n        );\n        google.visualization.events.addListener(\n          control,\n          eventName,\n          (...args: any[]) => {\n            callback({\n              chartWrapper: googleChartWrapper,\n              controlWrapper: control,\n              props: this.props as any,\n              google: google,\n              eventArgs: args,\n            });\n          }\n        );\n      }\n    }\n    return googleChartControls;\n  };\n\n  componentDidMount() {\n    const {\n      options,\n      google,\n      chartType,\n      chartWrapperParams,\n      toolbarItems,\n      getChartEditor,\n      getChartWrapper,\n    } = this.props;\n\n    const chartConfig = {\n      chartType,\n      options,\n      containerId: this.getGraphID(),\n      ...chartWrapperParams,\n    };\n    const googleChartWrapper = new google.visualization.ChartWrapper(\n      chartConfig\n    );\n    googleChartWrapper.setOptions(options || {});\n    if (getChartWrapper) {\n      getChartWrapper(googleChartWrapper, google);\n    }\n    const googleChartDashboard = new google.visualization.Dashboard(\n      this.dashboard_ref\n    );\n\n    const googleChartControls = this.addControls(\n      googleChartWrapper,\n      googleChartDashboard\n    );\n    if (toolbarItems) {\n      google.visualization.drawToolbar(\n        this.toolbar_ref.current as HTMLDivElement,\n        toolbarItems\n      );\n    }\n    let googleChartEditor: null | GoogleChartEditor = null;\n    if (getChartEditor) {\n      googleChartEditor = new google.visualization.ChartEditor();\n      getChartEditor({\n        chartEditor: googleChartEditor,\n        chartWrapper: googleChartWrapper,\n        google,\n      });\n    }\n\n    this.setState({\n      googleChartEditor,\n      googleChartControls: googleChartControls,\n      googleChartDashboard: googleChartDashboard,\n      googleChartWrapper,\n      isReady: true,\n    });\n  }\n  componentDidUpdate() {\n    if (!this.state.googleChartWrapper) return;\n    if (!this.state.googleChartDashboard) return;\n    if (!this.state.googleChartControls) return;\n\n    const { controls } = this.props;\n    if (controls) {\n      for (let i = 0; i < controls.length; i += 1) {\n        const { controlType, options, controlWrapperParams } = controls[i];\n        if (controlWrapperParams && \"state\" in controlWrapperParams) {\n          this.state.googleChartControls[i].control.setState(\n            controlWrapperParams[\"state\"]\n          );\n        }\n        this.state.googleChartControls[i].control.setOptions(options);\n        this.state.googleChartControls[i].control.setControlType(controlType);\n      }\n    }\n  }\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    return (\n      this.state.isReady !== nextState.isReady ||\n      nextProps.controls !== this.props.controls\n    );\n  }\n  renderChart = () => {\n    const { width, height, options, style, className, rootProps, google } =\n      this.props;\n\n    const divStyle = {\n      height: height || (options && options.height),\n      width: width || (options && options.width),\n      ...style,\n    };\n    return (\n      <div\n        id={this.getGraphID()}\n        style={divStyle}\n        className={className}\n        {...rootProps}\n      >\n        {this.state.isReady && this.state.googleChartWrapper !== null ? (\n          <React.Fragment>\n            <GoogleChartDataTable\n              googleChartWrapper={this.state.googleChartWrapper}\n              google={google}\n              googleChartDashboard={this.state.googleChartDashboard}\n            />\n            <GoogleChartEvents\n              googleChartWrapper={this.state.googleChartWrapper}\n              google={google}\n            />\n          </React.Fragment>\n        ) : null}\n      </div>\n    );\n  };\n  renderControl = (\n    filter = ({\n      control,\n      controlProp,\n    }: {\n      control: GoogleChartControl;\n      controlProp: GoogleChartControlProp;\n    }) => true\n  ) => {\n    return this.state.isReady && this.state.googleChartControls !== null ? (\n      <React.Fragment>\n        {this.state.googleChartControls\n          .filter(({ controlProp, control }) => {\n            return filter({ control, controlProp });\n          })\n          .map(({ control, controlProp }) => {\n            return (\n              <div\n                key={control.getContainerId()}\n                id={control.getContainerId()}\n              />\n            );\n          })}\n      </React.Fragment>\n    ) : null;\n  };\n  renderToolBar = () => {\n    if (!this.props.toolbarItems) return null;\n    return <div ref={this.toolbar_ref} />;\n  };\n  render() {\n    const { width, height, options, style } = this.props;\n\n    const divStyle = {\n      height: height || (options && options.height),\n      width: width || (options && options.width),\n      ...style,\n    };\n    if (this.props.render) {\n      return (\n        <div ref={this.dashboard_ref} style={divStyle}>\n          <div ref={this.toolbar_ref} id=\"toolbar\" />\n          {this.props.render({\n            renderChart: this.renderChart,\n            renderControl: this.renderControl,\n            renderToolbar: this.renderToolBar,\n          })}\n        </div>\n      );\n    } else {\n      return (\n        <div ref={this.dashboard_ref} style={divStyle}>\n          {this.renderControl(({ controlProp }) => {\n            return controlProp.controlPosition !== \"bottom\";\n          })}\n          {this.renderChart()}\n          {this.renderControl(({ controlProp }) => {\n            return controlProp.controlPosition === \"bottom\";\n          })}\n          {this.renderToolBar()}\n        </div>\n      );\n    }\n  }\n}\n","import * as React from \"react\";\n\nimport {\n  GoogleViz,\n  ReactGoogleChartProps,\n  ReactGoogleChartState,\n} from \"./types\";\nimport { LoadGoogleCharts } from \"./hooks\";\nimport { chartDefaultProps } from \"./default-props\";\nimport { GoogleChart } from \"./components/GoogleChart\";\nimport { ContextProvider } from \"./Context\";\n\nexport class Chart extends React.Component<\n  ReactGoogleChartProps,\n  ReactGoogleChartState\n> {\n  _isMounted = false;\n\n  state = {\n    loadingStatus: \"loading\" as ReactGoogleChartState[\"loadingStatus\"],\n    google: null as ReactGoogleChartState[\"google\"],\n  };\n\n  static defaultProps = chartDefaultProps;\n\n  render() {\n    const {\n      chartLanguage,\n      chartPackages,\n      chartVersion,\n      mapsApiKey,\n      loader,\n      errorElement,\n    } = this.props;\n    return (\n      <ContextProvider value={this.props as ReactGoogleChartProps}>\n        {this.state.loadingStatus === \"ready\" && this.state.google !== null ? (\n          <GoogleChart\n            {...(this.props as ReactGoogleChartProps)}\n            google={this.state.google}\n          />\n        ) : this.state.loadingStatus === \"errored\" && errorElement ? (\n          errorElement\n        ) : (\n          loader\n        )}\n        <LoadGoogleCharts\n          chartLanguage={chartLanguage}\n          chartPackages={chartPackages}\n          chartVersion={chartVersion}\n          mapsApiKey={mapsApiKey}\n          onLoad={this.onLoad}\n          onError={this.onError}\n        />\n      </ContextProvider>\n    );\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  onLoad = (google: GoogleViz) => {\n    if (this.props.onLoad) {\n      this.props.onLoad(google);\n    }\n    if (this.isFullyLoaded(google)) {\n      this.onSuccess(google);\n    } else {\n      // IE11: window.google is not fully set, we have to wait\n      const id = setInterval(() => {\n        const google = (\n          window as Window & {\n            google?: GoogleViz;\n          }\n        ).google;\n\n        if (this._isMounted) {\n          if (google && this.isFullyLoaded(google)) {\n            clearInterval(id);\n            this.onSuccess(google);\n          }\n        } else {\n          clearInterval(id);\n        }\n      }, 1000);\n    }\n  };\n\n  onSuccess = (google: GoogleViz) => {\n    this.setState({\n      loadingStatus: \"ready\",\n      google,\n    });\n  };\n\n  onError = () => {\n    this.setState({\n      loadingStatus: \"errored\",\n    });\n  };\n\n  isFullyLoaded(google: GoogleViz) {\n    const { controls, toolbarItems, getChartEditor } = this.props;\n\n    return (\n      google &&\n      google.visualization &&\n      google.visualization.ChartWrapper &&\n      google.visualization.Dashboard &&\n      (!controls || google.visualization.ChartWrapper) &&\n      (!getChartEditor || google.visualization.ChartEditor) &&\n      (!toolbarItems || google.visualization.drawToolbar)\n    );\n  }\n}\n\nexport default Chart;\n","// Complete Google Charts Type Definition : https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/google.visualization/index.d.ts\n\nexport type GoogleVizDrawToolbar = (\n  toolbarContainer: HTMLDivElement,\n  components: GoogleChartToolbarItem[]\n) => any;\n\nexport type GoogleViz = {\n  charts: GoogleChartLoader;\n  visualization: {\n    ChartWrapper: GoogleChartWrapper;\n    ChartEditor: GoogleChartEditor;\n    DataTable: GoogleDataTable;\n    events: GoogleVizEvents;\n    arrayToDataTable: GoogleArrayToDataTable;\n    drawToolbar: GoogleVizDrawToolbar;\n    [otherKeys: string]: any;\n  };\n};\n\nexport type GoogleChartTicks = (number | Date)[];\n\nexport type GoogleChartEditor = {\n  new (): GoogleChartEditor;\n  openDialog: (\n    chartWrapper: GoogleChartWrapper,\n    chartEditorOptions?: { dataSourceInput?: any; [otherKeyMaybe: string]: any }\n  ) => null;\n  getChartWrapper: () => GoogleChartWrapper;\n  setChartWrapper: (chartWrapper: GoogleChartWrapper) => GoogleChartWrapper;\n  closeDialog: () => null;\n};\n\nexport type GoogleChartLoaderOptions = {\n  packages?: GoogleChartPackages[];\n  language?: string;\n  mapsApiKey?: string;\n};\nexport type GoogleChartLoader = {\n  load: (\n    version: GoogleChartVersion,\n    googleChartOptions: GoogleChartLoaderOptions\n  ) => void;\n  setOnLoadCallback: (callback: () => void) => void;\n};\nexport interface ChartWrapperProps {\n  chartType: GoogleChartWrapperChartType;\n  containerId?: string;\n  options?: {\n    width?: number;\n    height?: number;\n    is3D?: boolean;\n    title?: string;\n    backgroundColor: string;\n  };\n  dataTable?: {};\n  dataSourceUrl?: string;\n  query?: string;\n  refreshInterval?: number;\n  view?: any[] | {};\n  render?: (props: ChartWrapperProps, chartWrapper: GoogleChartWrapper) => any;\n  children?: (\n    props: ChartWrapperProps,\n    chartWrapper: GoogleChartWrapper\n  ) => any;\n}\n\nexport type VizEventsProps = {\n  chartWrapper: GoogleChartWrapper;\n  onReady?: (chartWrapper: GoogleChartWrapper) => any;\n  onError?: (chartWrapper: GoogleChartWrapper) => any;\n  onSelect?: (selection: Array<{ row?: any; column?: any }>) => any;\n  render?: (props: VizEventsProps, chartWrapper: GoogleChartWrapper) => any;\n  children?: (props: VizEventsProps, chartWrapper: GoogleChartWrapper) => any;\n};\n\n/*\n *\n * <GoogleChartsTypes>\n *\n */\n\n/*\n *\n * Reference + Docs:\n * https://developers.google.com/chart/interactive/docs/reference#constructor_3\n * https://developers.google.com/chart/interactive/docs/reference#google.visualization.drawchart\n *\n */\nexport type GoogleChartWrapperChartType =\n  | \"AnnotationChart\"\n  | \"AreaChart\"\n  | \"BarChart\"\n  | \"BubbleChart\"\n  | \"Calendar\"\n  | \"CandlestickChart\"\n  | \"ColumnChart\"\n  | \"ComboChart\"\n  | \"DiffChart\"\n  | \"DonutChart\"\n  | \"Gantt\"\n  | \"Gauge\"\n  | \"GeoChart\"\n  | \"Histogram\"\n  | \"LineChart\"\n  | \"Line\"\n  | \"Bar\"\n  | \"Map\"\n  | \"OrgChart\"\n  | \"PieChart\"\n  | \"Sankey\"\n  | \"ScatterChart\"\n  | \"Scatter\"\n  | \"SteppedAreaChart\"\n  | \"Table\"\n  | \"Timeline\"\n  | \"TreeMap\"\n  | \"WaterfallChart\"\n  | \"WordTree\";\n\n// https://developers.google.com/chart/interactive/docs/reference#google.visualization.drawchart\nexport interface ChartWrapperOptions {\n  chartType: string;\n  containerId: string;\n  options: Partial<{\n    width: number;\n    height: number;\n    is3D: boolean;\n    title: string;\n    backgroundColor: string;\n    hAxis?: {\n      minValue?: any;\n      maxValue?: any;\n      ticks?: GoogleChartTicks;\n      title?: string;\n      viewWindow?: { max?: any; min?: any };\n      [otherOptionKey: string]: any;\n    };\n    vAxis?: {\n      minValue?: any;\n      maxValue?: any;\n      ticks?: GoogleChartTicks;\n      title?: string;\n      viewWindow?: { max?: any; min?: any };\n      [otherOptionKey: string]: any;\n    };\n    legend: any;\n    colors: string[];\n    [otherOptionKey: string]: any;\n  }>;\n  dataTable?: GoogleDataTable;\n  dataSourceUrl?: string;\n  query?: string;\n  refreshInterval?: number;\n  view: any[] | {};\n  [otherOptionKey: string]: any;\n}\n\nexport type GoogleChartAction = {\n  id: string;\n  text: string;\n  action: (chartWrapper: GoogleChartWrapper) => void;\n};\n\nexport type GoogleChartControlProp = {\n  controlType:\n    | \"CategoryFilter\"\n    | \"ChartRangeFilter\"\n    | \"DateRangeFilter\"\n    | \"NumberRangeFilter\"\n    | \"StringFilter\";\n  options: {};\n  controlWrapperParams?: {};\n  controlID?: string;\n  controlPosition?: \"top\" | \"bottom\";\n  controlEvents?: ReactGoogleChartEvent[];\n};\n\nexport type GoogleChartWrapper = {\n  new (chartWrapperOptions: Partial<ChartWrapperOptions>): GoogleChartWrapper;\n  draw: (chartArgs?: ChartWrapperProps) => any;\n  toJSON: () => string;\n  clone: () => GoogleChartWrapper;\n  getDataSourceUrl: () => string;\n  getDataTable: () => GoogleDataTable | null; // null if datasourceurl set or ref to DataTable\n  getChartType: () => GoogleChartWrapperChartType;\n  getChartName: () => string;\n  getChart: () => {\n    removeAction: (actionID: string) => void;\n    getSelection: () => { row?: any; column?: any }[];\n    setAction: (ChartAction: GoogleChartAction) => void;\n    getImageURI: () => void;\n    clearChart: () => void; // Clears the chart, and releases all of its allocated resources.\n  }; // ref to chart\n  getContainerId: () => string;\n  getQuery: () => string;\n  getRefreshInterval: () => number;\n  getOption: (key: string, opt_default_value?: any) => any; // returns opt_default_value if key not found\n  getOptions: () => {};\n  getSelection: () => { row?: any; column?: any }[];\n  getView: () => {} | any[]; // Same format as toJSON\n\n  setDataSourceUrl: (url: string) => void;\n  setDataTable: (table: any) => void;\n  setChartType: (chartType: GoogleChartWrapperChartType) => void;\n  setChartName: (name: string) => void; // Sets an arbitrary name for the chart. This is not shown anywhere on the chart, unless a custom chart is explicitly designed to use it.\n  setContainerId: (id: string) => void; // Sets the ID of the containing DOM element for the chart.\n  setQuery: (query_string: string) => void; // Sets a query string, if this chart queries a data source. You must also set the data source URL if specifying this value.\n  setRefreshInterval: (interval: number) => void; // Sets the refresh interval for this chart, if it queries a data source. You must also set a data source URL if specifying this value. Zero indicates no refresh.\n  setOption: (key: string, value: any) => void; // \tSets a single chart option value, where key is the option name and value is the value. To unset an option, pass in null for the value. Note that key may be a qualified name, such as 'vAxis.title'.\n  setOptions: (options_obj: Partial<ChartWrapperOptions[\"options\"]>) => void; //\n};\n\nexport type GoogleVizEventName =\n  | \"ready\"\n  | \"error\"\n  | \"select\"\n  | \"animationfinish\"\n  | \"statechange\"\n  | \"ok\"\n  | \"cancel\"\n  | \"animationstart\";\n\nexport type GoogleVizEvents = {\n  addListener: (\n    chartWrapper: GoogleChartWrapper | GoogleChartControl | GoogleChartEditor,\n    name: GoogleVizEventName,\n    onEvent: (chartWrapper: GoogleChartWrapper) => any\n  ) => any;\n  removeListener: (\n    chartWrapper: GoogleChartWrapper,\n    name: GoogleVizEventName,\n    callback: Function\n  ) => any;\n  removeAllListeners: (chartWrapper: GoogleChartWrapper) => any;\n};\n\nexport type GoogleChartPackages =\n  | \"corechart\"\n  | \"charteditor\"\n  | \"controls\"\n  | \"calendar\"\n  | \"gantt\"\n  | \"gauge\"\n  | \"geochart\"\n  | \"map\"\n  | \"orgchart\"\n  | \"sankey\"\n  | \"table\"\n  | \"timeline\"\n  | \"treemap\"\n  | \"wordtree\";\n\nexport type GoogleChartVersion = \"current\" | \"upcoming\";\n\nexport type GoogleDataTableColumnType =\n  | \"string\"\n  | \"number\"\n  | \"boolean\"\n  | \"date\"\n  | \"datetime\"\n  | \"timeofday\";\n\n// export type GoogleDataTable = {\n//   addColumn: (type: GoogleDataTableColumnType) => number;\n// };\n\n// Reference https://developers.google.com/chart/interactive/docs/roles\nexport enum GoogleDataTableColumnRoleType {\n  annotation = \"annotation\",\n  annotationText = \"annotationText\",\n  certainty = \"certainty\",\n  emphasis = \"emphasis\",\n  interval = \"interval\",\n  scope = \"scope\",\n  style = \"style\",\n  tooltip = \"tooltip\",\n  domain = \"domain\",\n}\n\nexport type GoogleDataTableColumn =\n  | {\n      type: GoogleDataTableColumnType;\n      label?: string; //  A label for the column.\n      role?: GoogleDataTableColumnRoleType;\n      pattern?: string;\n      p?: {};\n      id?: string;\n    }\n  | string;\n\n// Ref : https://developers.google.com/chart/interactive/docs/reference#dataparam\n\nexport type GoogleDataTableCell =\n  | {\n      v?: any; // The cell value. Type should match DataTableColumn type field\n      f?: string; // A string version of the v value, formatted for display.\n      p?: {};\n    }\n  | string\n  | number\n  | boolean\n  | Date;\n\nexport type GoogleDataTableRow = GoogleDataTableCell[];\n\nexport type GoogleDataTableJS = {\n  cols: GoogleDataTableColumn[];\n  rows: {\n    c: GoogleDataTableRow;\n  }[];\n  p?: {};\n};\n\n// Reference : https://developers.google.com/chart/interactive/docs/reference#DataTable\n\nexport type GoogleDataTableRowFilter = {\n  column: number;\n  value: any;\n  minValue?: any;\n  maxValue?: any;\n};\n\nexport type GoogleDataTableSortColumns =\n  | number\n  | {\n      column: number;\n      desc: boolean;\n    }\n  | number[]\n  | {\n      column: number;\n      desc: boolean;\n    }[];\n\nexport type GoogleDataTable = {\n  // https://developers.google.com/chart/interactive/docs/reference#dataparam\n  new (dataParam: any): GoogleDataTable;\n  addColumn: (column: GoogleDataTableColumn) => number;\n  addRow: (row?: GoogleDataTableRow) => number;\n  addRows: (rows?: GoogleDataTableRow[] | number[] | any[]) => number;\n  clone: () => GoogleDataTable;\n\n  getColumnId: (columnIndex: number) => string;\n  getColumnLabel: (columnIndex: number) => string;\n  getColumnPattern: (columnIndex: number) => string;\n  getColumnProperties: (columnIndex: number) => {};\n  getColumnProperty: (columnIndex: number, name: string) => any;\n  getColumnRange: (columnIndex: number) => {\n    min: number | null;\n    max: number | null;\n  };\n  getColumnRole: (columnIndex: number) => GoogleDataTableColumnRoleType;\n  getColumnType: (columnIndex: number) => GoogleDataTableColumnType;\n  getDistinctValues: (columnIndex: number) => any[];\n  getFilteredRows: (filters: GoogleDataTableRowFilter[]) => number[];\n  getFormattedValue: (rowIndex: number, columnIndex: number) => string;\n  getNumberOfColumns: () => number;\n  getNumberOfRows: () => number;\n  getProperties: (rowIndex: number, columnIndex: number) => {};\n  getProperty: (rowIndex: number, columnIndex: number, name: string) => any;\n  getRowProperties: (rowIndex: number) => {};\n  getRowProperty: (rowIndex: number, name: string) => any;\n  getSortedRows: (sortColumns: GoogleDataTableSortColumns) => number[];\n  getTableProperties: () => {};\n  getTableProperty: (name: string) => any;\n  getValue: (\n    rowIndex: number,\n    columnIndex: number\n  ) => boolean | string | number | Date | number[] | null;\n  insertColumn: (\n    columnIndex: number,\n    type: GoogleDataTableColumnType,\n    label?: string,\n    id?: string\n  ) => void;\n  insertRows: (\n    rowIndex: number,\n    numberOrArray: GoogleDataTableRow[] | number\n  ) => void;\n  removeColumn: (columnIndex: number) => void;\n  removeColumns: (columnIndex: number, numberOfColumns: number) => void;\n  removeRow: (rowIndex: number) => void;\n  removeRows: (rowIndex: number, numberOfColumns: number) => void;\n  setCell: (\n    rowIndex: number,\n    columnIndex: number,\n    value?: any,\n    formattedValue?: string,\n    properties?: {}\n  ) => {};\n  setColumnLabel: (columnIndex: number, label: string) => void;\n  setColumnProperty: (columnIndex: number, name: string, value: any) => void;\n  setColumnProperties: (columnIndex: number, properties: {} | null) => void;\n  setFormattedValue: (\n    rowIndex: number,\n    columnIndex: number,\n    formattedValue: string\n  ) => void;\n  setProperty: (\n    rowIndex: number,\n    columnIndex: number,\n    name: string,\n    value: any\n  ) => void;\n  setProperties: (\n    rowIndex: number,\n    columnIndex: number,\n    properties: {} | null\n  ) => void;\n\n  setRowProperty: (rowIndex: number, name: string, value: any) => void;\n  setRowProperties: (rowIndex: number, properties: {} | null) => void;\n  setTableProperties: (properties: {} | null) => void;\n  setValue: (rowIndex: number, columnIndex: number, value: string) => void;\n  sort: (sortColumns: GoogleDataTableSortColumns) => void;\n  toJSON: () => string; // GoogleDataTableJS\n};\n\nexport type GoogleArrayToDataTable = (\n  data: any[][],\n  isFirstRowLabels?: boolean\n) => GoogleDataTable;\n\nexport type GoogleChartOptions = {\n  width?: number;\n  height?: number;\n  is3D?: boolean;\n  backgroundColor: string;\n\n  title?: string;\n  hAxis?: {\n    minValue?: any;\n    maxValue?: any;\n    ticks?: GoogleChartTicks;\n    title?: string;\n    viewWindow?: { max?: any; min?: any; [otherOptionKey: string]: any };\n    [otherOptionKey: string]: any;\n  };\n  vAxis?: {\n    minValue?: any;\n    maxValue?: any;\n    ticks?: GoogleChartTicks;\n    title?: string;\n    viewWindow?: { max?: any; min?: any; [otherOptionKey: string]: any };\n    [otherOptionKey: string]: any;\n  };\n  bubble?: {};\n  pieHole?: number;\n  redFrom?: number;\n  redTo?: number;\n  yellowFrom?: number;\n  yellowTo?: number;\n  minorTicks?: number;\n  legend?:\n    | string\n    | {\n        position?: string;\n        maxLines?: number;\n        [otherOptionKey: string]: any;\n      };\n  curveType?: string;\n  showTooltip?: boolean;\n  showInfoWindow?: boolean;\n  allowHtml?: boolean;\n  isStacked?: string | boolean;\n  minColor?: string;\n  midColor?: string;\n  maxColor?: string;\n  headerHeight?: number;\n  fontColor?: string;\n  showScale?: boolean;\n  bar?: { groupWidth?: string }; // Remove space between bars.\n  candlestick?: {\n    fallingColor?: { strokeWidth?: number; fill?: string }; // red\n    risingColor?: { strokeWidth?: number; fill?: string }; // green\n    [otherOptionKey: string]: any;\n  };\n  wordtree?: {\n    format?: string;\n    word?: string;\n    [otherOptionKey: string]: any;\n  };\n  [otherOptionKey: string]: any;\n};\n\n/*\n *\n * </GoogleChartsTypes>\n *\n */\n\nexport type WindowWithMaybeGoogle = Window & { google?: any };\n\nexport type ReactGoogleChartEvent = {\n  eventName: GoogleVizEventName;\n  callback: (eventCallbackArgs: {\n    chartWrapper: GoogleChartWrapper;\n    controlWrapper?: GoogleChartControl;\n    props: ReactGoogleChartProps;\n    google: GoogleViz;\n    eventArgs: any;\n  }) => void;\n};\n\nexport type GoogleChartToolbarItem = {\n  type: \"igoogle\" | \"html\" | \"csv\" | \"htmlcode\";\n  datasource: string;\n  gadget?: string;\n  userPrefs?: {\n    \"3d\": number;\n    [otherKeyMaybe: string]: any;\n  };\n};\n\nexport type ReactGoogleChartProps = {\n  height?: string | number;\n  width?: string | number;\n  graphID?: string;\n  chartType: GoogleChartWrapperChartType;\n  diffdata?: {\n    old: any;\n    new: any;\n  };\n  options?: ChartWrapperOptions[\"options\"];\n  loader?: JSX.Element;\n  errorElement?: JSX.Element;\n  data?: any[] | {};\n  rows?: GoogleDataTableRow[];\n  columns?: GoogleDataTableColumn[];\n  chartActions?: GoogleChartAction[];\n  chartEvents?: ReactGoogleChartEvent[];\n  chartVersion?: GoogleChartVersion;\n  chartPackages?: GoogleChartPackages[];\n  chartLanguage?: string;\n  mapsApiKey?: string;\n  graph_id?: string;\n  legendToggle?: boolean;\n  legend_toggle?: boolean;\n  onLoad?: (google: GoogleViz) => void;\n  getChartWrapper?: (\n    chartWrapper: GoogleChartWrapper,\n    google: GoogleViz\n  ) => void;\n  getChartEditor?: (args: {\n    chartEditor: GoogleChartEditor;\n    chartWrapper: GoogleChartWrapper;\n    google: GoogleViz;\n  }) => void;\n  className?: string;\n  style?: React.CSSProperties;\n  formatters?: {\n    column: number | number[];\n    type:\n      | \"ArrowFormat\"\n      | \"BarFormat\"\n      | \"ColorFormat\"\n      | \"DateFormat\"\n      | \"NumberFormat\"\n      | \"PatternFormat\";\n    options?: {};\n  }[];\n  spreadSheetUrl?: string;\n  spreadSheetQueryParameters?: {\n    headers: number;\n    gid?: number | string;\n    sheet?: string;\n    query?: string;\n    access_token?: string;\n  };\n  rootProps?: any;\n  controls?: GoogleChartControlProp[];\n  render?: ReactGoogleChartDashboardRender;\n  //https://developers.google.com/chart/interactive/docs/gallery/toolbar#example_1\n  toolbarItems?: GoogleChartToolbarItem[];\n  toolbarID?: string;\n  chartWrapperParams?: any;\n};\n\nexport type GoogleChartDashboard = {\n  draw: (data: GoogleDataTable) => void;\n  bind: (\n    controlWrapperOrWrappers: GoogleChartControl | GoogleChartControl[],\n    chartWrapper: GoogleChartWrapper\n  ) => void;\n};\n\nexport type ReactGoogleChartDashboardRender = ({\n  renderControl,\n  renderChart,\n  renderToolbar,\n}: {\n  renderControl: (\n    filter: ({\n      control,\n      controlProp,\n    }: {\n      control: GoogleChartControl;\n      controlProp: GoogleChartControlProp;\n    }) => boolean\n  ) => any;\n  renderChart: () => any;\n  renderToolbar: () => any;\n}) => any;\nexport type GoogleChartControlOptions = any;\nexport type GoogleChartControl = {\n  getContainerId: () => string;\n  getOptions: () => GoogleChartControlOptions;\n  getState: () => any;\n  setState: (state: any) => void;\n  setOptions: (options: GoogleChartControlOptions) => void;\n  setControlType: (controlType: string) => void;\n};\n\nexport type ReactGoogleChartState = {\n  loadingStatus: \"loading\" | \"errored\" | \"ready\";\n  google: null | GoogleViz;\n  // hiddenColumns: string[];\n};\n\nexport type ReactGoogleChartContext = {\n  data: ReactGoogleChartProps[\"data\"];\n  rows: ReactGoogleChartProps[\"rows\"] | null;\n  columns: ReactGoogleChartProps[\"columns\"] | null;\n  diffdata: ReactGoogleChartProps[\"diffdata\"] | null;\n  options: ReactGoogleChartProps[\"options\"] | null;\n  legend_toggle: ReactGoogleChartProps[\"legend_toggle\"] | null;\n  legendToggle: ReactGoogleChartProps[\"legendToggle\"] | null;\n  chartType: ReactGoogleChartProps[\"chartType\"] | null;\n  formatters: ReactGoogleChartProps[\"formatters\"] | null;\n  spreadSheetUrl: ReactGoogleChartProps[\"spreadSheetUrl\"] | null;\n  spreadSheetQueryParameters:\n    | ReactGoogleChartProps[\"spreadSheetQueryParameters\"]\n    | null;\n};\n","import { h } from 'preact';\nimport { route } from 'preact-router';\nimport { useEffect, useState } from 'preact/hooks';\nimport IncomeInput from '../../components/IncomeInput';\nimport Total from '../../components/Total';\nimport { Stores } from '../../stores/stores';\nimport { Chart } from \"react-google-charts\";\n\nconst Income = () => {\n\tconst [incomeChartData, setIncomeChartData] = useState([['income', 'amount']]);\n\tconst [agiChartData, setAgiChartData] = useState([['income', 'amount']]);\n\tconst [advantageData, setAdvantageData] = useState([['income', 'amount']]);\n\n\t\n\tuseEffect(() => {\n\t\tlet inputs = document.querySelectorAll('input')\n\t\tif(inputs.length > 0) {\n\t\t\tinputs[0].focus()\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tlet temp: any = []\n\t\ttemp.push(['income', 'amount'])\n\t\t\n\t\tif(Stores.income.w2.value > 0) {\n\t\t\ttemp.push(['W2', parseInt(Stores.income.w2.value)])\n\t\t}\n\t\tif(Stores.income.f1099misc.amt.value > 0) {\n\t\t\ttemp.push(['Misc/Nec/Rental', parseInt(Stores.income.f1099misc.amt.value)])\n\t\t}\n\t\tif(Stores.income.rsu.amt.value > 0) {\n\t\t\ttemp.push(['RSU/Options', parseInt(Stores.income.rsu.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099b_longterm.amt.value > 0 || Stores.income.f1099b_shortterm.amt.value > 0) {\n\t\t\ttemp.push(['Capital gain', parseInt(Stores.income.f1099b_longterm.amt.value) + parseInt(Stores.income.f1099b_shortterm.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099r.amt.value > 0) {\n\t\t\ttemp.push(['Retirement dist.', parseInt(Stores.income.f1099r.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099g.amt.value > 0) {\n\t\t\ttemp.push(['Unemployment benefits', parseInt(Stores.income.f1099g.amt.value)])\n\t\t}\n\t\tif(Stores.income.farm.amt.value > 0) {\n\t\t\ttemp.push(['Farm income', parseInt(Stores.income.farm.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099_div_qualified.amt.value > 0 || Stores.income.f1099_div.amt.value > 0) {\n\t\t\ttemp.push(['Dividend', parseInt(Stores.income.f1099_div_qualified.amt.value) + parseInt(Stores.income.f1099_div.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099_int.amt.value > 0) {\n\t\t\ttemp.push(['Interest', parseInt(Stores.income.f1099_int.amt.value)])\n\t\t}\n\t\tif(Stores.income.gambling_other.amt.value > 0) {\n\t\t\ttemp.push(['Gambling/Others', parseInt(Stores.income.gambling_other.amt.value)])\n\t\t}\n\t\tif(Stores.income.espp_discount.amt.value > 0) {\n\t\t\ttemp.push(['ESPP Discount', parseInt(Stores.income.espp_discount.amt.value)])\n\t\t}\n\t\tif(Stores.income.f401k_match.amt.value > 0) {\n\t\t\ttemp.push(['401k match', parseInt(Stores.income.f401k_match.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099_int_taxfree.amt.value > 0) {\n\t\t\ttemp.push(['Tax-exempt interest', parseInt(Stores.income.f1099_int_taxfree.amt.value)])\n\t\t}\n\t\tsetIncomeChartData(temp)\n\n\t}, [Stores.income.income.value]);\n\n    useEffect(() => {\n\t\tlet temp: any = []\n\t\ttemp.push(['income', 'amount'])\n\t\t\n\t\tif(Stores.income.w2.value > 0) {\n\t\t\ttemp.push(['W2', parseInt(Stores.income.w2.value)])\n\t\t}\n\t\tif(Stores.income.f1099misc.amt.value > 0) {\n\t\t\ttemp.push(['Misc/Nec/Rental', parseInt(Stores.income.f1099misc.amt.value)])\n\t\t}\n\t\tif(Stores.income.rsu.amt.value > 0) {\n\t\t\ttemp.push(['RSU/Options', parseInt(Stores.income.rsu.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099b_longterm.amt.value > 0 || Stores.income.f1099b_shortterm.amt.value > 0) {\n\t\t\ttemp.push(['Capital gain', parseInt(Stores.income.f1099b_longterm.amt.value) + parseInt(Stores.income.f1099b_shortterm.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099r.amt.value > 0) {\n\t\t\ttemp.push(['Retirement dist.', parseInt(Stores.income.f1099r.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099g.amt.value > 0) {\n\t\t\ttemp.push(['Unemployment benefits', parseInt(Stores.income.f1099g.amt.value)])\n\t\t}\n\t\tif(Stores.income.farm.amt.value > 0) {\n\t\t\ttemp.push(['Farm income', parseInt(Stores.income.farm.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099_div_qualified.amt.value > 0 || Stores.income.f1099_div.amt.value > 0) {\n\t\t\ttemp.push(['Dividend', parseInt(Stores.income.f1099_div_qualified.amt.value) + parseInt(Stores.income.f1099_div.amt.value)])\n\t\t}\n\t\tif(Stores.income.f1099_int.amt.value > 0) {\n\t\t\ttemp.push(['Interest', parseInt(Stores.income.f1099_int.amt.value)])\n\t\t}\n\t\tif(Stores.income.gambling_other.amt.value > 0) {\n\t\t\ttemp.push(['Gambling/Others', parseInt(Stores.income.gambling_other.amt.value)])\n\t\t}\n\t\tif(Stores.income.espp_discount.amt.value > 0) {\n\t\t\ttemp.push(['ESPP Discount', parseInt(Stores.income.espp_discount.amt.value)])\n\t\t}\n\t\tsetAgiChartData(temp)\n\n\t}, [Stores.income.agi.value]);\n\n\t\n    useEffect(() => {\n\t\tlet temp: any = []\n\t\ttemp.push(['income', 'amount'])\n\t\t\n\t\tif(Stores.income.f1099b_longterm.amt.value > 0) {\n\t\t\ttemp.push(['Long term capital gain', parseInt(Stores.income.f1099b_longterm.amt.value) ])\n\t\t}\n\t\tif(Stores.income.f1099_div_qualified.amt.value > 0) {\n\t\t\ttemp.push(['Qualified Dividend', parseInt(Stores.income.f1099_div_qualified.amt.value) ])\n\t\t}\n\t\tif(Stores.income.f1099_int_taxfree.amt.value > 0) {\n\t\t\ttemp.push(['Tax-exempt Interest', parseInt(Stores.income.f1099_int_taxfree.amt.value)])\n\t\t}\n\t\tif(Stores.income.espp_discount.amt.value > 0) {\n\t\t\ttemp.push(['ESPP Discount', parseInt(Stores.income.espp_discount.amt.value)])\n\t\t}\n\t\tif(Stores.income.f401k_match.amt.value > 0) {\n\t\t\ttemp.push(['401k/403b match', parseInt(Stores.income.f401k_match.amt.value)])\n\t\t}\n\t\tif(Stores.income.f401k_contrib.amt.value > 0) {\n\t\t\ttemp.push(['401k/403b contribution', parseInt(Stores.income.f401k_contrib.amt.value)])\n\t\t}\n\t\tif(Stores.income.ira.amt.value > 0) {\n\t\t\ttemp.push(['IRA contribution', parseInt(Stores.income.ira.amt.value)])\n\t\t}\n\t\tif(Stores.income.fsa.amt.value > 0) {\n\t\t\ttemp.push(['FSA contribution', parseInt(Stores.income.fsa.amt.value)])\n\t\t}\n\t\tif(Stores.income.hsa.amt.value > 0) {\n\t\t\ttemp.push(['HSA contribution', parseInt(Stores.income.hsa.amt.value)])\n\t\t}\n\t\tif(Stores.income.utma_gain.amt.value > 0) {\n\t\t\ttemp.push(['UTMA gain', parseInt(Stores.income.utma_gain.amt.value)])\n\t\t}\n\t\t\n\t\tsetAdvantageData(temp)\n\n\t}, [Stores.income.tax_advantage_income.value]);\n\n\tconst handleDependentCount = (e: Event) => {\n\t\tconst element = e.currentTarget as HTMLInputElement\n\t\tStores.about.dependent_count.value = parseInt(element.value)\n\t};\n\n\tconst handleTaxFiling = (e: Event) => {\n\t\tconst element = e.currentTarget as HTMLSelectElement\n\t\tStores.about.filing_status.value = parseInt(element.value)\n\t};\n\n\tconst options = {\n\t\ttitle: \"Adjusted Gross Income\",\n\t\tpieHole: 0.5,\n\t\tis3D: false,\n\t\ttitleTextStyle: {\n\t\t\tfontName: 'Helvetica',\n\t\t\tfontSize: 14,\n\t\t}\n\t};\n\tconst income_options = {\n\t\ttitle: \"Gross Income\",\n\t\tpieHole: 0.5,\n\t\tis3D: false,\n\t\ttitleTextStyle: {\n\t\t\tfontName: 'Helvetica',\n\t\t\tfontSize: 14,\n\t\t}\n\t};\n\tconst adv_options = {\n\t\ttitle: \"Tax Advantage Income\",\n\t\tpieHole: 0.5,\n\t\tis3D: false,\n\t\ttitleTextStyle: {\n\t\t\tfontName: 'Helvetica',\n\t\t\tfontSize: 14,\n\t\t}\n\t};\n\tconst renderW2Elements = () => {\n\t\tif(Stores.about.filing_status.value === 2) {\n\t\t\treturn <div class=\"row align-items-start\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<IncomeInput store={Stores.income.w2a} title=\"Base pay+bonus (self)\" min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\tdescription=\"Estimated annual W-2, Paycheck based. For eg, you make $60k/year, $5k each on annual bonus, enter $65k.\"/>\n\t\t\t</div>\n\t\t\t<div class=\"col\">\n\t\t\t\t<IncomeInput store={Stores.income.w2b} title=\"Base pay+bonus (spouse)\" min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\tdescription=\"Estimated annual W-2, Paycheck based. For eg, you make $60k/year, $5k each on annual bonus, enter $65k.\"/>\n\t\t\t</div>\n\t\t</div>\n\t\t} else {\n\t\t\treturn \t<div class=\"row align-items-start\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<IncomeInput store={Stores.income.w2a} title=\"Base pay+bonus (self)\" min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\tdescription=\"Estimated annual W-2, Paycheck based. For eg, you make $60k/year, $5k each on annual bonus, enter $65k.\"/>\n\t\t\t</div>\n\t\t\t<div class=\"col\">\n\t\t\t</div>\n\t\t</div>\n\t\t}\n\t}\n\n    return (\n\t\t<div style=\"padding:10px;\">\n\t\t\t<p style=\"height:50px;\"/> \n\n\t\t\t<div class=\"container\">\n\t\t\t\t<h6>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-briefcase\" viewBox=\"0 0 16 16\">\n\t\t\t\t\t\t<path d=\"M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v8A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-8A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5zm1.886 6.914L15 7.151V12.5a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5V7.15l6.614 1.764a1.5 1.5 0 0 0 .772 0zM1.5 4h13a.5.5 0 0 1 .5.5v1.616L8.129 7.948a.5.5 0 0 1-.258 0L1 6.116V4.5a.5.5 0 0 1 .5-.5z\"/>\n\t\t\t\t\t</svg>&nbsp;\n\t\t\t\t\t<i>work-related income</i></h6>\n\t\t\t\t\n\t\t\t\t{renderW2Elements()}\n\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.f1099g} title=\"Unemployment benefits\" min_value=\"0\" max_value=\"500000\"\n\t\t\t\t\t\t\tdescription=\"Estimated income from Unemployment claims or taxable government payment. If joint filing, sum up both.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.rsu} title=\"RSU / options exercised\" min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated RSU or stock option exercised. Those are considered income. If joint filing, sum up both. For eg, you and your spouse have stock grant of $20k/year each, enter $40k.\"/>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.gambling_other} title=\"Gambling or others\"  min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated winning from gambling. If joint filing, sum up both.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.farm} title=\"Farm income\"  min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated income from farming. If joint filing, sum up both.\"/>\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.f1099misc} title=\"1099-MISC/NEC/Rental\" min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated income from 1099-MISC/NEC/rental income. If joint filing, sum up both. Examples are like driving an Uber, freelance job, renting out AirBNB or income from rental property.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t<hr/>\n\t\t\t\t<h6>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-piggy-bank\" viewBox=\"0 0 16 16\">\n\t\t\t\t\t\t<path d=\"M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm1.138-1.496A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.602 7.602 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962z\"/>\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zM2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.558 6.558 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.649 4.649 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393zm12.621-.857a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199z\"/>\n\t\t\t\t\t</svg>&nbsp;\n\t\t\t\t\t<i>investment-related income</i></h6>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.f1099b_shortterm} title=\"Short-term stock gain\"  min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated short-term capital gain income from 1099-B. If joint filing, sum up both. This is only for non-retirement account. This is sale of assets that is held less than 1 year. Short term capital gain is always worst than long-term gain.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.f1099b_longterm} title=\"Long-term stock gain\"  min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated annual long-term capital gain income from 1099-B. If joint filing, sum up both. This is only for non-retirement account. This is sale of assets that is held more than 1 year. Long term capital gain is always better than short-term gain.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.f1099_div} title=\"Ordinary dividend\"  min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated ordinary dividend income from 1099-DIV. If joint filing, sum up both. Ordinary dividends are taxable as ordinary income\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.f1099_div_qualified} title=\"Qualified dividend\"  min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated qualified dividend income from 1099-DIV. If joint filing, sum up both. Qualified dividends that meet certain requirements are taxed at lower capital gain rates\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.f1099_int} title=\"Interest earned\"  min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated interest income from 1099-INT. If joint filing, sum up both. Interest are taxed as ordinary income. Example of interest is interest from banks.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.f1099_int_taxfree} title=\"Tax-exempt interest\"  min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated tax-exempt interest income from 1099-INT. If joint filing, sum up both. nterest income that is not subject to income tax. Tax-exempt interest income is earned from bonds issued by states, cities, or counties and the District of Columbia.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.f1099r} title=\"Retirement distribution\"  min_value=\"0\" max_value=\"2000000\"\n\t\t\t\t\t\t\tdescription=\"Estimated A 1099-R tax form reports distributions from a retirement plan  income you might have to pay federal income tax.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.utma_gain} title=\"UTMA capital gain\"  min_value=\"0\" max_value=\"30000\"\n\t\t\t\t\t\t\tdescription=\"Estimated UTMA capital gain. The first $1,100 in earnings in the UTMA account are tax-free. This earnings figure includes dividends, interest income, and any capital gains. The next $1,100 in earnings is taxable at the child's tax rate. \"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<hr/>\n\t\t\t\t<h6>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-piggy-bank\" viewBox=\"0 0 16 16\">\n\t\t\t\t\t\t<path d=\"M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm1.138-1.496A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.602 7.602 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962z\"/>\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zM2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.558 6.558 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.649 4.649 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393zm12.621-.857a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199z\"/>\n\t\t\t\t\t</svg>&nbsp;\n\t\t\t\t\t<i>investment-related contribution</i></h6>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t<IncomeInput store={Stores.income.f401k_contrib} title=\"401k/401a/403b contrib.\"  min_value=\"0\" max_value=\"41000\"\n\t\t\t\t\t\t\t\tdescription=\"Estimated 401k/401a/403b contribution. If joint filing, sum up both. These are tax-deferred income and can contribute up to $22.5k/year per working person.\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t<IncomeInput store={Stores.income.f401k_match} title=\"401k/401a/403b match\"  min_value=\"0\" max_value=\"41000\"\n\t\t\t\t\t\t\tdescription=\"Estimated retirement matching from employer. If joint filing, sum up both. These are tax-deferred income. Some employers kick in as much $1 for every dollar you contribute up maximum contribution amount. Others contribute nothing.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.hsa} title=\"HSA contribution\" min_value=\"0\" max_value=\"7300\"\n\t\t\t\t\t\t\tdescription=\"Estimated HSA contribution. Maximum contribution amounts for 2022 are $3,650 for self-only and $7,300 for families.  Health Savings Account (HSA) is a type of personal savings account you can set up to pay certain health care costs. An HSA allows you to put money away and withdraw it tax free, as long as you use it for qualified medical expenses, like deductibles, copayments, coinsurance, and more.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.fsa} title=\"FSA contribution\" min_value=\"0\" max_value=\"6100\"\n\t\t\t\t\t\t\tdescription=\"A Flexible Spending Account (FSA, also called a flexible spending arrangement) is a special account you put money into that you use to pay for certain out-of-pocket health care costs. You don't pay taxes on this money. FSA are limited to $3,050 per year per employer.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.espp_discount} title=\"ESPP discount\" min_value=\"0\" max_value=\"100000\"\n\t\t\t\t\t\t\tdescription=\"ESPP is Employee Stock Purchase Program. Estimated discount for ESPP contribution. If joint filing, sum up both. ESPP contribution limit at $25,000 per calendar year per employee. For eg, if you contribution $25k for ESPP and 10% discount, enter $2.5k above.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<IncomeInput store={Stores.income.ira} title=\"Traditional IRA\" min_value=\"0\" max_value=\"6000\"\n\t\t\t\t\t\t\tdescription=\"A traditional IRA is a way to save for retirement that gives you tax advantages. Generally, amounts in your traditional IRA (including earnings and gains) are not taxed until you take a distribution (withdrawal) from your IRA.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<hr/>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<Total store={Stores.income.income} title=\"Estimated Gross Income\" \n\t\t\t\t\t\t\tdescription=\"Gross income is the sum of all wages, salaries, profits, interest payments, rents, and other forms of earnings.\"/>\n\n\t\t\t\t\t\t<Total store={Stores.income.ssa_medicare_contrib} title=\"Estimated SSA/Medicare\" \n\t\t\t\t\t\t\tdescription=\"Social Security and medicare tax going towards retirement.\"/>\n\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<Chart\n\t\t\t\t\t\t\tchartType=\"PieChart\"\n\t\t\t\t\t\t\tdata={incomeChartData}\n\t\t\t\t\t\t\toptions={income_options}\n\t\t\t\t\t\t\twidth={\"450px\"}\n\t\t\t\t\t\t\theight={\"350px\"}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<hr/>\n\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() => route('/basic')}>Back: Basic Info</button>&nbsp;\n\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() => route('/deduction')}>Next: Deductions</button>\n\t\t\t\t<hr/>\t\t\t\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<Total store={Stores.income.agi} title=\"Estimated AGI\" \n\t\t\t\t\t\t\tdescription=\"Adjusted Gross Income (AGI) is defined as gross income minus adjustments to income. Gross income includes your wages, dividends, capital gains, business income, retirement distributions as well as other income. Adjustments to Income include such items as Educator expenses, Student loan interest, Alimony payments or contributions to a retirement account. Your AGI will never be more than your Gross Total Income on you return and in some cases may be lower. This is for modeling purpose only.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<Chart\n\t\t\t\t\t\t\tchartType=\"PieChart\"\n\t\t\t\t\t\t\tdata={agiChartData}\n\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\twidth={\"450px\"}\n\t\t\t\t\t\t\theight={\"350px\"}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row align-items-start\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<Total store={Stores.income.tax_advantage_income} title=\"Tax advantage income\" \n\t\t\t\t\t\t\tdescription=\"These are income that is either tax-free, tax-deferred or free additional income that would have been zero if you didn't participate. Tax deferred income are not tax (401k/403b/Pension). Tax exempted income are tax-free (Tax-exempted interest from municipal bond). Lower tax capital gain is for capital assets held more than 1 year (long-term stock sale). Free money categories are things like ESPP discount and 401k/403b matching from employer. This is for modeling purpose only.\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<Chart\n\t\t\t\t\t\t\tchartType=\"PieChart\"\n\t\t\t\t\t\t\tdata={advantageData}\n\t\t\t\t\t\t\toptions={adv_options}\n\t\t\t\t\t\t\twidth={\"450px\"}\n\t\t\t\t\t\t\theight={\"350px\"}/>\n\t\t\t\t\t</div>\n\n\n\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t\t<br/>\n\t\t\t\n\t\t</div>\n\t\t\n\t);\n};\n\nexport default Income;\n","import { h } from 'preact';\r\nimport { route } from 'preact-router';\r\nimport { useEffect, useState } from 'preact/hooks';\r\nimport IncomeInput from '../../components/IncomeInput';\r\nimport { Stores } from '../../stores/stores';\r\nimport { Chart } from \"react-google-charts\";\r\n\r\nconst Deduction = () => {\r\n\tconst [deductionData, setDeductionData] = useState([['income', 'amount']]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet inputs = document.querySelectorAll('input')\r\n\t\tif(inputs.length > 0) {\r\n\t\t\tinputs[0].focus()\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet temp: any = []\r\n\t\ttemp.push(['income', 'amount'])\r\n\t\t\r\n\t\tlet left_over = parseInt(Stores.income.agi.value) - parseInt(Stores.deduction.deduction.value[1])\r\n\t\tlet deduction = 0\r\n\t\tif(left_over >= 0) {\r\n\t\t\tdeduction = parseInt(Stores.deduction.deduction.value[1])\r\n\t\t} else {\r\n\t\t\tdeduction = parseInt(Stores.deduction.deduction.value[1]) + left_over\r\n\t\t\tif(deduction < 0) {\r\n\t\t\t\tdeduction = 0\r\n\t\t\t}\r\n\t\t} \r\n\t\ttemp.push(['Pretax income', parseInt(Stores.income.pretax.value)])\r\n\t\ttemp.push(['Deductions', deduction])\r\n\t\ttemp.push(['Taxable income', parseInt(Stores.income.agi.value) - deduction])\r\n\r\n\t\tsetDeductionData(temp)\r\n\r\n\t}, [Stores.deduction.deduction.value, Stores.income.agi.value]);\r\n\r\n\tconst deduction_options = {\r\n\t\ttitle: \"Income Distribution\",\r\n\t\tpieHole: 0.5,\r\n\t\tis3D: false,\r\n\t\ttitleTextStyle: {\r\n\t\t\tfontName: 'Helvetica',\r\n\t\t\tfontSize: 14,\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderChildElements = () => {\r\n\t\tif(Stores.about.has_child.value) {\r\n\t\t\treturn \t<div class=\"row align-items-start\">\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<IncomeInput store={Stores.deduction.f529_contribution} title=\"529 contribution\"  min_value=\"0\" max_value=\"32000\"\r\n\t\t\t\t\t\t\t\tdescription=\"Estimated annual 529 contribution. 529 limit is $16k per parent, per year. 529 grows tax-free for education use.\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<IncomeInput store={Stores.deduction.utma_contribution} title=\"UTMA contribution\" min_value=\"0\" max_value=\"32000\"\r\n\t\t\t\t\t\t\t\tdescription=\"Estimated UTMA contribution to child. If joint filing, sum up both. UTMA account contribution is considered gift and limit to $16k per parent, per year.\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t} else {\r\n\t\t\treturn <div/>\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleDependentCount = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLInputElement\r\n\t\tStores.about.dependent_count.value = parseInt(element.value)\r\n\t};\r\n\r\n\tconst handleTaxFiling = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLSelectElement\r\n\t\tStores.about.filing_status.value = parseInt(element.value)\r\n\t};\r\n\r\n    return (\r\n\t\t<div style=\"padding:10px;\">\r\n\t\t\t<p style=\"height:50px;\"/> \r\n\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<h6>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-people\" viewBox=\"0 0 16 16\">\r\n\t\t\t\t\t\t<path d=\"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z\"/>\r\n\t\t\t\t\t</svg>&nbsp;\r\n                    <i>Post-tax Contribution</i></h6>\r\n\t\t\t\t\r\n\t\t\t\t{ renderChildElements() }\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.deduction.roth_ira} title=\"Roth IRA\" min_value=\"0\" max_value=\"14000\"\r\n\t\t\t\t\t\t\tdescription=\"A Roth IRA is a way to save for retirement that gives you tax advantages. Generally, amounts in your Roth IRA (including earnings and gains) are not taxed and able to grow tax-free. The annual contribution limit for 2023 is $6,500, or $7,500 if you're age 50 or older. To qualify, MAGI less than $129,000 for a full contribution or $129,000 - $144,000 for a partial contribution. Married filing jointly: MAGI less than $204,000 for a full contribution or $204,000 - $214,000 for a partial contribution.\"/>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<h6>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-bandaid\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M14.121 1.879a3 3 0 0 0-4.242 0L8.733 3.026l4.261 4.26 1.127-1.165a3 3 0 0 0 0-4.242ZM12.293 8 8.027 3.734 3.738 8.031 8 12.293 12.293 8Zm-5.006 4.994L3.03 8.737 1.879 9.88a3 3 0 0 0 4.241 4.24l.006-.006 1.16-1.121ZM2.679 7.676l6.492-6.504a4 4 0 0 1 5.66 5.653l-1.477 1.529-5.006 5.006-1.523 1.472a4 4 0 0 1-5.653-5.66l.001-.002 1.505-1.492.001-.002Z\"/>\r\n                    <path d=\"M5.56 7.646a.5.5 0 1 1-.706.708.5.5 0 0 1 .707-.708Zm1.415-1.414a.5.5 0 1 1-.707.707.5.5 0 0 1 .707-.707ZM8.39 4.818a.5.5 0 1 1-.708.707.5.5 0 0 1 .707-.707Zm0 5.657a.5.5 0 1 1-.708.707.5.5 0 0 1 .707-.707ZM9.803 9.06a.5.5 0 1 1-.707.708.5.5 0 0 1 .707-.707Zm1.414-1.414a.5.5 0 1 1-.706.708.5.5 0 0 1 .707-.708ZM6.975 9.06a.5.5 0 1 1-.707.708.5.5 0 0 1 .707-.707ZM8.39 7.646a.5.5 0 1 1-.708.708.5.5 0 0 1 .707-.708Zm1.413-1.414a.5.5 0 1 1-.707.707.5.5 0 0 1 .707-.707Z\"/>\r\n                </svg>&nbsp;\r\n                    <i>health & education deduction</i></h6>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.medical_dental_expense} title=\"Medical/Dental Cost\" min_value=\"0\" max_value=\"1000000\"\r\n\t\t\t\t\t\t\tdescription=\"Estimated paymentfor co-pay, out-of-pocket, medical/dental insurance premium. You can deduct the amount of the total un-reimbursed allowable medical care expenses for the 2022 Tax Year that exceeds 7.5% of your Adjusted Gross Income.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.deduction.college_expense} title=\"College expense\" min_value=\"0\" max_value=\"200000\"\r\n\t\t\t\t\t\t\tdescription=\"Estimated annual college expense. The Form 1098-T is a form provided to you and the IRS by an eligible educational institution that reports, among other things, amounts paid for qualified tuition and related expenses. The form may be useful in calculating the amount of the allowable education tax credits.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n                <hr/>\r\n\t\t\t\t<h6>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-piggy-bank\" viewBox=\"0 0 16 16\">\r\n\t\t\t\t\t\t<path d=\"M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm1.138-1.496A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.602 7.602 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962z\"/>\r\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zM2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.558 6.558 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.649 4.649 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393zm12.621-.857a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199z\"/>\r\n\t\t\t\t\t</svg>&nbsp;\r\n                    <i>investment deduction</i></h6>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.salt} title=\"State & Local Tax\" min_value=\"0\" max_value=\"10000\"\r\n\t\t\t\t\t\t\tdescription=\"This includes tax from state/local govt such as property tax, vehicle registrations and sales tax. State and local taxes you pay are deductible if you itemize on your federal income tax return. Limit is $10k.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.mortgage_interest} title=\"Rental Mortgage interest\" min_value=\"0\" max_value=\"100000\"\r\n\t\t\t\t\t\t\tdescription=\"Estimated interest paid on mortgage. The interest you pay on a mortgage on a home other than your main or second home may be deductible if the proceeds of the loan were used for business, investment, or other deductible purposes.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.business_deduction} title=\"Business deduction\" min_value=\"0\" max_value=\"1000000\"\r\n\t\t\t\t\t\t\tdescription=\"Estimated business income deduction. This deduction allows you to deduct up to 20% of your Qualified Business Income.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.deduction.early_withdrawal_penalty} title=\"Retirement withdrawal\" min_value=\"0\" max_value=\"1000000\"\r\n\t\t\t\t\t\t\tdescription=\"10% of total early withdrawal of funds from IRA, 401(k), or other qualified retirement.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.investment_expense} title=\"Investment expense\" min_value=\"0\" max_value=\"1000000\"\r\n\t\t\t\t\t\t\tdescription=\"Estimated investment expense. Any interest you paid on borrowed money to buy taxable investments (property, stocks, etc.).\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n    \t\t\t\t</div>\r\n\t\t\t\t</div>                \r\n                <hr/>\r\n\t\t\t\t<h6>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-currency-dollar\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z\"/>\r\n                  </svg>&nbsp;\r\n                   <i>other deduction</i></h6>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.charity_contribution} title=\"Charitable donation\" min_value=\"0\" max_value=\"2000000\"\r\n\t\t\t\t\t\t\tdescription=\"Donations made to charitable foundation. You can claim up to $500 without receipt.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.deduction.other_deduction} title=\"Other Itemized\" min_value=\"0\" max_value=\"2000000\"\r\n\t\t\t\t\t\t\tdescription=\"Estimated other uncommon itemized deduction.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>                \r\n\t\t\t\t<hr/>\r\n\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() =>route('/income')}>Back: Income</button>&nbsp;\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() =>route('/taxcredit')}>Next: Tax Credit</button>\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<div class=\"mb-3 border rounded\" style=\"width:450px;padding:5px;\">\r\n\t\t\t\t\t\t\t<div class=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\" style=\"width:180px;font-size:11pt;\">{Stores.deduction.deduction.value[0]}</span>\r\n\t\t\t\t\t\t\t\t<input  type=\"number\" id=\"txt_total\" value={Stores.deduction.deduction.value[1]} aria-label=\"Total\" class=\"form-control text-end\" disabled={true}></input>\r\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">.00</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<label style=\"font-size:12px;\">Standard deduction is ${Stores.deduction.standardized_deduction.value}. Itemized deduction is ${Stores.deduction.itemized_deduction.value}. {Stores.deduction.deduction.value[0]} is best for your case.</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<Chart\r\n\t\t\t\t\t\t\tchartType=\"PieChart\"\r\n\t\t\t\t\t\t\tdata={deductionData}\r\n\t\t\t\t\t\t\toptions={deduction_options}\r\n\t\t\t\t\t\t\twidth={\"450px\"}\r\n\t\t\t\t\t\t\theight={\"350px\"}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t\r\n\t);\r\n};\r\n\r\nexport default Deduction;\r\n","import { h } from 'preact';\r\n\r\nconst ReadonlyIncomeInput = (props: any) => {\r\n\r\n    return (\r\n        <div class=\"mb-3 border rounded\" style=\"width:450px;padding:5px;\">\r\n            <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" style=\"width:180px;font-size:10pt;\">{props.title}</span>\r\n                <div class=\"input-group-text\">&nbsp;&nbsp;\r\n                </div>\r\n                <span class=\"input-group-text\">$</span>\r\n                <input type=\"number\" id=\"txt_amt\" value={props.store.amt.value} aria-label=\"Amount\" class=\"form-control text-end\" disabled={true}></input>\r\n                <span class=\"input-group-text\">.00</span>\r\n            </div>\r\n            <label style=\"font-size:11px;padding-left:4px;\">{props.description}</label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ReadonlyIncomeInput;","import { h } from 'preact';\r\nimport { route } from 'preact-router';\r\nimport { useEffect, useState } from 'preact/hooks';\r\nimport IncomeInput from '../../components/IncomeInput';\r\nimport ReadonlyIncomeInput from '../../components/ReadonlyIncomeInput';\r\nimport Total from '../../components/Total';\r\nimport { Stores } from '../../stores/stores';\r\nimport { Chart } from \"react-google-charts\";\r\n\r\nconst TaxCredit = () => {\r\n\tconst [taxCreditData, setTaxCreditData] = useState([['income', 'amount']]);\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet inputs = document.querySelectorAll('input')\r\n\t\tif(inputs.length > 0) {\r\n\t\t\tinputs[0].focus()\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet temp: any = []\r\n\t\ttemp.push(['income', 'amount'])\r\n\t\t\r\n\t\tif(Stores.taxcredit.eic.amt.value > 0) {\r\n\t\t\ttemp.push(['EIC', parseInt(Stores.taxcredit.eic.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.child_tax_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['Child Tax Credit', parseInt(Stores.taxcredit.child_tax_credit.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.dependent_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['Dependent Tax Credit', parseInt(Stores.taxcredit.dependent_credit.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.child_dependent_care_expense.amt.value > 0) {\r\n\t\t\ttemp.push(['Dependent Care Expense', parseInt(Stores.taxcredit.child_dependent_care_expense.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.premium_tax_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['Premium Tax Credit', parseInt(Stores.taxcredit.premium_tax_credit.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.residential_energy_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['Residential Energy Credit', parseInt(Stores.taxcredit.residential_energy_credit.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.ev_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['EV Tax Credit', parseInt(Stores.taxcredit.ev_credit.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.foreign_tax_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['Foreign Tax Credit', parseInt(Stores.taxcredit.foreign_tax_credit.amt.value)])\r\n\t\t}\r\n\t\tsetTaxCreditData(temp)\r\n\r\n\t}, [Stores.taxcredit.total_tax_credit.value]);\r\n\r\n\tconst taxcredit_options = {\r\n\t\ttitle: \"Estimated Tax Credit\",\r\n\t\tpieHole: 0.5,\r\n\t\tis3D: false,\r\n\t\ttitleTextStyle: {\r\n\t\t\tfontName: 'Helvetica',\r\n\t\t\tfontSize: 14,\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleDependentCount = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLInputElement\r\n\t\tStores.about.dependent_count.value = parseInt(element.value)\r\n\t};\r\n\r\n\tconst handleTaxFiling = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLSelectElement\r\n\t\tStores.about.filing_status.value = parseInt(element.value)\r\n\t};\r\n\r\n\tconst renderChildElements = () => {\r\n\t\tlet element= <div>\r\n\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-people\" viewBox=\"0 0 16 16\">\r\n\t\t\t\t\t\t\t\t<path d=\"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z\"/>\r\n\t\t\t\t\t\t\t</svg>&nbsp;                    \r\n\t\t\t\t\t\t\t<i>child related deduction</i>\r\n\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t\t<IncomeInput store={Stores.taxcredit.eic} title=\"Earned income credit\" min_value=\"0\" max_value=\"7500\"\r\n\t\t\t\t\t\t\t\t\tdescription=\"The Earned Income Tax Credit (EITC) helps low- to moderate-income workers and families get a tax break. You cannot get EITC if you file jointly. To qualify for the EITC, you must: Have worked and earned income under $57,414. Have investment income below $10,000 in the tax year. The credit will be worth $600 to $7,430. People without children can qualify.\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t\t<ReadonlyIncomeInput store={Stores.taxcredit.child_tax_credit} title=\"Child tax credit\" \r\n\t\t\t\t\t\t\t\t\tdescription=\"This tax credit helps offset the costs of raising kids. For the 2022 tax year, people with kids under the age of 17 may be eligible to claim a tax credit of up to $2,000 per qualifying dependent.\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t\t<ReadonlyIncomeInput store={Stores.taxcredit.dependent_credit} title=\"Other dependent credit\" \r\n\t\t\t\t\t\t\t\t\tdescription=\"This credit has been calculated for you: it is for dependents who do not qualify for the Child Tax Credit and is worth up to $500 per person. Generally, these dependents are other relatives, such as a grandchild or niece/nephew.\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t\t<IncomeInput store={Stores.taxcredit.child_dependent_care_expense} title=\"Dependent care expense\" min_value=\"0\" max_value=\"8000\"\r\n\t\t\t\t\t\t\t\t\tdescription=\"The Child and Dependent Care Credit provides a tax break for many parents who are responsible for the cost of childcare. Your actual Child and Dependent Expense Amount is used and e-Filed via Form 2441 to determine the Child and Dependent Care Tax Credit Amount. The maximum amount of your credit for 2022 will be $8k. Child and Dependent Care Tax Credit is different from the regular Child Tax Credit.\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\tif(Stores.about.has_child.value) {\r\n\t\t\treturn element\r\n\t\t}\r\n\t}\r\n\r\n    return (\r\n\t\t<div style=\"padding:10px;\">\r\n\t\t\t<p style=\"height:50px;\"/> \r\n\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<hr/>\r\n\t\t\t\t{renderChildElements()}\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<h6>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-currency-dollar\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z\"/>\r\n                  </svg>&nbsp;                    \r\n                    <i>other tax credit</i></h6>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.taxcredit.premium_tax_credit} title=\"Premium tax credit\" min_value=\"0\" max_value=\"500000\"\r\n\t\t\t\t\t\t\tdescription=\"Health Exchange will send you a Health Insurance statement via Form 1095-A following the year of coverage. Your tax credit is based on the income estimate and household information you put on your Marketplace application.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.taxcredit.foreign_tax_credit} title=\"Foreign tax credit\" min_value=\"0\" max_value=\"500000\"\r\n\t\t\t\t\t\t\tdescription=\"If you are paying tax abroad, those tax are credit to you so that you don't get double tax.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.taxcredit.ev_credit} title=\"EV tax credit\" min_value=\"0\" max_value=\"7500\"\r\n                                description=\"All electric and plug-in hybrid vehicles that were purchased new in or after 2010 may be eligible for a federal income tax credit of up to $7.5k. There are specific rules about how much can be credited based on your income, the EV maker and much more.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.taxcredit.residential_energy_credit} title=\"Residential Energy credit\" min_value=\"0\" max_value=\"500000\"\r\n                                description=\"Worth up to 26% of the total cost of installing qualified renewable energy sources in your home.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n                <hr/>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() =>route('/deduction')}>Back: Deduction</button>&nbsp;\r\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() =>route('/analysis')}>Next: Summary & Analysis</button>\t\t\t\t\r\n\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<Total store={Stores.taxcredit.total_tax_credit} title=\"Estimated Tax Credit\" \r\n\t\t\t\t\t\t\tdescription=\"Tax credits reduce the amount of income tax you owe to the federal. Credits are generally designed to encourage or reward certain types of behavior that are considered beneficial to the economy, the environment or to further any other purpose the government deems important. This is for modeling purpose only.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<Chart\r\n\t\t\t\t\t\t\tchartType=\"PieChart\"\r\n\t\t\t\t\t\t\tdata={taxCreditData}\r\n\t\t\t\t\t\t\toptions={taxcredit_options}\r\n\t\t\t\t\t\t\twidth={\"450px\"}\r\n\t\t\t\t\t\t\theight={\"350px\"}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\r\n\t\t\t</div>\r\n\t\t\t<br/>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t\r\n\t);\r\n};\r\n\r\nexport default TaxCredit;\r\n","import {Stores} from './stores'\r\n\r\nexport class Recommendations {\r\n\r\n    static ProcessRecommendations(data: any): string[] {\r\n        let parent = data.recommendations\r\n        let set = new Set()\r\n\r\n        for(let i=0; i<parent.length;++i) {\r\n            let recommendation = parent[i]\r\n            let rules = recommendation.rules\r\n            \r\n            let passedCount = 0\r\n            for(let j=0; j<rules.length; ++j) {\r\n                let rule = rules[j]\r\n                if(!Recommendations.ProcessRule(rule)) {\r\n                    break\r\n                } else {\r\n                    passedCount++\r\n                }\r\n            }\r\n    \r\n            if(passedCount === rules.length){\r\n                // recommend this.\r\n                set.add(recommendation.message)\r\n            }\r\n        }\r\n        return Array.from(set) as string[]\r\n    }\r\n\r\n    static ProcessRule(rule: any): boolean {\r\n        let section = rule.section\r\n        let prop = rule.prop\r\n        let op = rule.op\r\n        let value = rule.value\r\n    \r\n        let data = Recommendations.GetDataObject(section)\r\n        let props = prop.split('.')\r\n        let propertyValue = Recommendations.GetPropertyValue(data, props)\r\n    \r\n        return Recommendations.YieldResult(propertyValue, op, value)\r\n    }\r\n    \r\n\r\n    static GetDataObject(section: any): any {\r\n        let result = null\r\n        switch(section) {\r\n            case \"about\": \r\n                        result = Stores.about\r\n                        break\r\n            case \"income\":\r\n                        result = Stores.income\r\n                        break\r\n            case \"deduction\":\r\n                        result = Stores.deduction\r\n                        break\r\n            case \"taxcredit\":\r\n                        result = Stores.taxcredit\r\n                        break\r\n            case \"tax\": result = Stores.tax\r\n                        break\r\n            default:    break\r\n        }\r\n        return result\r\n    }\r\n    \r\n    static GetPropertyValue(data: any, props: any[]): number {\r\n        let holder = data\r\n        for(let i=0; i<props.length; i++) {\r\n            holder = holder[props[i]]\r\n        }\r\n        return holder.value\r\n    }\r\n    \r\n    static YieldResult(propertyValue: number, op: string, value: number): boolean {\r\n        let result = false\r\n        switch(op) {\r\n            case \"=\": result = propertyValue === value \r\n                      break\r\n            case \">\": result = propertyValue > value \r\n                      break\r\n            case \"<\": result = propertyValue < value \r\n                      break\r\n            case \"!=\": result = propertyValue !== value \r\n                      break\r\n            default: break\r\n        }\r\n        return result\r\n    }\r\n}\r\n","import { h } from 'preact';\r\nimport { route } from 'preact-router';\r\nimport { Stores } from '../../stores/stores';\r\nimport Total from '../../components/Total';\r\nimport { Chart } from \"react-google-charts\";\r\nimport { useEffect, useState } from 'preact/hooks';\r\nimport { Recommendations } from '../../stores/recommendations';\r\n\r\nconst Analysis = () => {\r\n\r\n    const options = {};\r\n    const [showAlertData, setShowAlertData] = useState(false);\r\n    const [flowData, setFlowData] = useState([]);\r\n    const [gaugeData, setGaugeData] = useState([]);\r\n\tconst [incomeChartData, setIncomeChartData] = useState([]);\r\n    const [deductionData, setDeductionData] = useState([]);\r\n\tconst [realDeductionData, setRealDeductionData] = useState([]);\r\n    const [recommendationsData, setRecommendationsData] = useState([] as string[]);\r\n\r\n\tconst deduction_options = {\r\n\t\ttitle: \"Income Distribution\",\r\n\t\tpieHole: 0.5,\r\n\t\tis3D: false,\r\n\t\ttitleTextStyle: {\r\n\t\t\tfontName: 'Helvetica',\r\n\t\t\tfontSize: 14,\r\n\t\t}\r\n\t};\r\n\r\n\tconst real_deduction_options = {\r\n\t\ttitle: \"Deductions/Pre-Tax/Taxable\",\r\n\t\tpieHole: 0.5,\r\n\t\tis3D: false,\r\n\t\ttitleTextStyle: {\r\n\t\t\tfontName: 'Helvetica',\r\n\t\t\tfontSize: 14,\r\n\t\t}\r\n\t};\r\n\r\n    const income_options = {\r\n\t\ttitle: \"Gross Income\",\r\n\t\tpieHole: 0.5,\r\n\t\tis3D: false,\r\n\t\ttitleTextStyle: {\r\n\t\t\tfontName: 'Helvetica',\r\n\t\t\tfontSize: 14,\r\n\t\t}\r\n\t};\r\n\r\n\tconst showSuccessAlert = () => {\r\n\t\tif(showAlertData) {\r\n\t\t\treturn <div id=\"bs-alert\" class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n\t\t\t\t\t\tYour estimated income model is saved.\r\n\t\t\t\t\t<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n\t\t\t  \t</div>\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet temp: any = []\r\n\t\ttemp.push(['income', 'amount'])\r\n\t\t\r\n\t\tlet left_over = parseInt(Stores.income.agi.value) - parseInt(Stores.deduction.deduction.value[1])\r\n\t\tlet deduction = 0\r\n\t\tif(left_over >= 0) {\r\n\t\t\tdeduction = parseInt(Stores.deduction.deduction.value[1])\r\n\t\t} else {\r\n\t\t\tdeduction = parseInt(Stores.deduction.deduction.value[1]) + left_over\r\n\t\t\tif(deduction < 0) {\r\n\t\t\t\tdeduction = 0\r\n\t\t\t}\r\n\t\t} \r\n\t\ttemp.push(['Pretax income', parseInt(Stores.income.pretax.value)])\r\n\t\ttemp.push(['Deductions', deduction])\r\n\t\ttemp.push(['Taxable income', parseInt(Stores.income.agi.value) - deduction])\r\n\r\n\t\tsetRealDeductionData(temp)\r\n\r\n\t}, [Stores.deduction.deduction.value, Stores.income.agi.value]);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(`/data/recommendations.json`, {\r\n\t\t\tmethod:   'GET',\r\n\t\t\theaders:  {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tsetRecommendationsData(Recommendations.ProcessRecommendations(data))\r\n\t\t\t})\r\n\t\t\r\n\t}, [Stores.deduction.deduction.value, Stores.income.agi.value, Stores.taxcredit.total_tax_credit.value]);\r\n\t\r\n\r\n    useEffect(() => {\r\n\t\tlet temp: any = []\r\n\t\ttemp.push(['income', 'amount'])\r\n\t\t\r\n\t\tlet left_over = parseInt(Stores.income.agi.value) - parseInt(Stores.deduction.deduction.value[1])\r\n\t\tlet deduction = 0\r\n\t\tif(left_over >= 0) {\r\n\t\t\tdeduction = parseInt(Stores.deduction.deduction.value[1])\r\n\t\t} else {\r\n\t\t\tdeduction = parseInt(Stores.deduction.deduction.value[1]) + left_over\r\n\t\t\tif(deduction < 0) {\r\n\t\t\t\tdeduction = 0\r\n\t\t\t}\r\n\t\t} \r\n\t\ttemp.push(['Pretax income', parseInt(Stores.income.pretax.value)])\r\n\t\ttemp.push(['Deductions', deduction])\r\n        temp.push(['Tax Credits', Stores.taxcredit.total_tax_credit.value])\r\n\t\ttemp.push(['Tax Due', Math.max(0, Stores.tax.due.value)])\r\n        temp.push(['Net Income', Stores.tax.taxable_income.value - Stores.tax.tax_amount.value - Stores.income.ssa_medicare_contrib.value])\r\n\t\ttemp.push(['SSA/Medicare', Stores.income.ssa_medicare_contrib.value])\r\n\t\tsetDeductionData(temp)\r\n\r\n\t}, [Stores.deduction.deduction.value, Stores.income.agi.value]);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tlet temp : any = [] \r\n\t\ttemp.push(['income', 'amount'])\r\n\t\t\r\n\t\tif(Stores.income.w2.value > 0) {\r\n\t\t\ttemp.push(['W2', parseInt(Stores.income.w2.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099misc.amt.value > 0) {\r\n\t\t\ttemp.push(['Misc/Nec/Rental', parseInt(Stores.income.f1099misc.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.rsu.amt.value > 0) {\r\n\t\t\ttemp.push(['RSU/Options', parseInt(Stores.income.rsu.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099b_longterm.amt.value > 0 || Stores.income.f1099b_shortterm.amt.value > 0) {\r\n\t\t\ttemp.push(['Capital gain', parseInt(Stores.income.f1099b_longterm.amt.value) + parseInt(Stores.income.f1099b_shortterm.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099r.amt.value > 0) {\r\n\t\t\ttemp.push(['Retirement dist.', parseInt(Stores.income.f1099r.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099g.amt.value > 0) {\r\n\t\t\ttemp.push(['Unemployment benefits', parseInt(Stores.income.f1099g.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.farm.amt.value > 0) {\r\n\t\t\ttemp.push(['Farm income', parseInt(Stores.income.farm.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099_div_qualified.amt.value > 0 || Stores.income.f1099_div.amt.value > 0) {\r\n\t\t\ttemp.push(['Dividend', parseInt(Stores.income.f1099_div_qualified.amt.value) + parseInt(Stores.income.f1099_div.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099_int.amt.value > 0) {\r\n\t\t\ttemp.push(['Interest', parseInt(Stores.income.f1099_int.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.gambling_other.amt.value > 0) {\r\n\t\t\ttemp.push(['Gambling/Others', parseInt(Stores.income.gambling_other.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.espp_discount.amt.value > 0) {\r\n\t\t\ttemp.push(['ESPP Discount', parseInt(Stores.income.espp_discount.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f401k_match.amt.value > 0) {\r\n\t\t\ttemp.push(['401k match', parseInt(Stores.income.f401k_match.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099_int_taxfree.amt.value > 0) {\r\n\t\t\ttemp.push(['Tax-exempt interest', parseInt(Stores.income.f1099_int_taxfree.amt.value)])\r\n\t\t}\r\n\t\tsetIncomeChartData(temp)\r\n\r\n\t}, [Stores.income.income.value]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet temp : any = []\r\n\t\ttemp.push(['Label', 'Value'])\r\n\r\n        let score = ((Stores.income.income.value - Stores.tax.due.value) / Stores.income.income.value) * 100\r\n        temp.push(['Score', score])\r\n\r\n        setGaugeData(temp)\r\n\r\n    }, [Stores.tax.due.value])\r\n\r\n\tuseEffect(() => {\r\n    \tlet temp : any = []\r\n\t\ttemp.push(['From', 'To', '$'])\r\n\t\t\r\n\t\tif(Stores.income.w2.value > 0) {\r\n\t\t\ttemp.push(['W2', 'Adjusted Gross Income', parseInt(Stores.income.w2.value)])\r\n\r\n            if(Stores.income.f401k_match.amt.value > 0) {\r\n                temp.push(['W2', '401k + match', parseInt(Stores.income.f401k_match.amt.value) + parseInt(Stores.income.f401k_contrib.amt.value) ])\r\n                temp.push(['401k + match', 'Pre-tax', parseInt(Stores.income.f401k_match.amt.value) + parseInt(Stores.income.f401k_contrib.amt.value) ])\r\n                \r\n            }\r\n            if(Stores.income.hsa.amt.value > 0) {\r\n                temp.push(['W2', 'HSA', parseInt(Stores.income.hsa.amt.value)])\r\n                temp.push(['HSA', 'Pre-tax', parseInt(Stores.income.hsa.amt.value)])\r\n            }\r\n            if(Stores.income.fsa.amt.value > 0) {\r\n                temp.push(['W2', 'FSA', parseInt(Stores.income.fsa.amt.value)])\r\n                temp.push(['FSA', 'Pre-tax', parseInt(Stores.income.fsa.amt.value)])\r\n            }\r\n            temp.push(['W2', 'SSA + Medicare contrib.', Stores.income.ssa_medicare_contrib.value])\r\n            temp.push(['SSA + Medicare contrib.', 'Social Security/Medicare', Stores.income.ssa_medicare_contrib.value])\r\n\t\t}\r\n        if(Stores.income.pretax.value > 0) {\r\n            temp.push(['Pre-tax', 'Tax-advantage Income', parseInt(Stores.income.pretax.value)])\r\n        }\r\n\r\n\t\tif(Stores.income.f1099misc.amt.value > 0) {\r\n\t\t\ttemp.push(['Misc/Nec/Rental', 'Adjusted Gross Income', parseInt(Stores.income.f1099misc.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.rsu.amt.value > 0) {\r\n\t\t\ttemp.push(['RSU/Options', 'Adjusted Gross Income', parseInt(Stores.income.rsu.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099b_longterm.amt.value > 0) {\r\n\t\t\ttemp.push(['long-term cap gain', 'Adjusted Gross Income' , parseInt(Stores.income.f1099b_longterm.amt.value) ])\r\n\t\t\ttemp.push(['Adjusted Gross Income', 'Tax-advantage cap gain', parseInt(Stores.income.f1099_div_qualified.amt.value)])\r\n\t\t\ttemp.push(['Tax-advantage cap gain', 'Tax-advantage Income', parseInt(Stores.income.f1099_div_qualified.amt.value)])\r\n\r\n\t\t}\r\n        if(Stores.income.f1099b_shortterm.amt.value > 0) {\r\n\t\t\ttemp.push(['short-term cap gain', 'Adjusted Gross Income' , parseInt(Stores.income.f1099b_shortterm.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099r.amt.value > 0) {\r\n\t\t\ttemp.push(['Retirement dist.', 'Adjusted Gross Income', parseInt(Stores.income.f1099r.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099g.amt.value > 0) {\r\n\t\t\ttemp.push(['Unemployment benefits', 'Adjusted Gross Income', parseInt(Stores.income.f1099g.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.farm.amt.value > 0) {\r\n\t\t\ttemp.push(['Farm income', 'Adjusted Gross Income', parseInt(Stores.income.farm.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099_div.amt.value > 0) {\r\n\t\t\ttemp.push(['Ordinary Dividend', 'Adjusted Gross Income', parseInt(Stores.income.f1099_div.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.f1099_div_qualified.amt.value > 0) {\r\n\t\t\ttemp.push(['Qualified Dividend', 'Adjusted Gross Income', parseInt(Stores.income.f1099_div_qualified.amt.value)])\r\n\t\t\ttemp.push(['Adjusted Gross Income', 'Tax-advantage Dividend', parseInt(Stores.income.f1099_div_qualified.amt.value)])\r\n\t\t\ttemp.push(['Tax-advantage Dividend', 'Tax-advantage Income', parseInt(Stores.income.f1099_div_qualified.amt.value)])\r\n\t\t}\r\n\r\n        if(Stores.income.f1099_int.amt.value > 0) {\r\n\t\t\ttemp.push(['Interest', 'Adjusted Gross Income', parseInt(Stores.income.f1099_int.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.gambling_other.amt.value > 0) {\r\n\t\t\ttemp.push(['Gambling/Others', 'Adjusted Gross Income', parseInt(Stores.income.gambling_other.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.income.espp_discount.amt.value > 0) {\r\n\t\t\ttemp.push(['ESPP Discount', 'Adjusted Gross Income', parseInt(Stores.income.espp_discount.amt.value)])\r\n\t\t}\r\n\r\n\t\tif(Stores.income.f1099_int_taxfree.amt.value > 0) {\r\n\t\t\ttemp.push(['Tax-exempt interest', 'Pre-tax', parseInt(Stores.income.f1099_int_taxfree.amt.value)])\r\n\t\t}\r\n        if(Stores.income.utma_gain.amt.value > 0) {\r\n            temp.push(['UTMA gain', 'Pre-tax', parseInt(Stores.income.utma_gain.amt.value)])\r\n\t\t}\r\n        if(Stores.income.ira.amt.value > 0) {\r\n            temp.push(['Adjusted Gross Income', 'IRA contribution', parseInt(Stores.income.ira.amt.value)])\r\n            temp.push(['IRA contribution', 'Pre-tax', parseInt(Stores.income.ira.amt.value)])\r\n\t\t}\r\n        if(Stores.income.agi.value > 0) {\r\n            temp.push(['Adjusted Gross Income', 'Deductions', parseInt(Stores.deduction.deduction.value[1])])\r\n            temp.push(['Adjusted Gross Income', 'Taxable Income', parseInt(Stores.tax.taxable_income.value)])\r\n            temp.push(['Deductions', 'Tax-advantage Income', parseInt(Stores.deduction.deduction.value[1])])\r\n\t\t}\r\n        if(Stores.deduction.f529_contribution.amt.value > 0) {\r\n            temp.push(['Taxable Income', '529 contribution', parseInt(Stores.deduction.f529_contribution.amt.value)])\r\n            temp.push(['529 contribution', 'Tax-advantage Income', parseInt(Stores.deduction.f529_contribution.amt.value)])\r\n\t\t}\r\n        if(Stores.deduction.roth_ira.amt.value > 0) {\r\n            temp.push(['Taxable Income', 'Roth IRA contribution', parseInt(Stores.deduction.roth_ira.amt.value)])\r\n            temp.push(['Roth IRA contribution', 'Tax-advantage Income', parseInt(Stores.deduction.roth_ira.amt.value)])\r\n\t\t}\r\n        if(Stores.tax.taxable_income.value > 0) {\r\n            if(Stores.tax.tax_amount.value > 0)\r\n\t\t\t\ttemp.push(['Taxable Income', 'Tax Amount', Stores.tax.tax_amount.value])\r\n\t\t\tif(Stores.tax.taxable_income.value - Stores.tax.tax_amount.value > 0)\r\n            \ttemp.push(['Taxable Income', 'Net Income', Stores.tax.taxable_income.value - Stores.tax.tax_amount.value - Stores.income.ssa_medicare_contrib.value])\r\n        }\r\n        if(Stores.tax.tax_amount.value > 0) {\r\n\t\t\tif(Stores.taxcredit.total_tax_credit.value > 0)\r\n            \ttemp.push(['Tax Amount', 'Tax Credit', Stores.taxcredit.total_tax_credit.value])\r\n\t\t\tif(Stores.tax.due.value > 0)\t\t\t\t\r\n            \ttemp.push(['Tax Amount', 'Tax Due', Stores.tax.due.value])\r\n\t\t\tif(Stores.taxcredit.total_tax_credit.value > 0)\t\t\t\t\r\n            \ttemp.push(['Tax Credit', 'Tax-advantage Income', Stores.taxcredit.total_tax_credit.value])\r\n        }\r\n\r\n\t\tsetFlowData(temp)\r\n\r\n\t}, [Stores.deduction.deduction.value, Stores.income.agi.value, Stores.taxcredit.total_tax_credit.value]);\r\n\r\n    return (\r\n\t\t<div style=\"padding:10px;\">\r\n\t\t\t<p style=\"height:50px;\"/>\r\n\r\n\t\t\t{showSuccessAlert()}\r\n\r\n\t\t\t<div class=\"container\">\r\n                <h5><i>income flow</i></h5>\r\n                <div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n                    <Chart\r\n                        chartType=\"Sankey\"\r\n                        width=\"1000px\"\r\n                        height=\"500px\"\r\n                        data={flowData}\r\n                        options={options}\r\n                        />\r\n\r\n                    </div>\r\n                </div>\r\n                <hr/>\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() => {Stores.Serialize(); setShowAlertData(true)}}>Save Model locally</button>\r\n\t\t\t\t&nbsp;&nbsp;\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() => {Stores.ResetModel(); route('/basic');}}>Reset Model</button>\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<h5><i>income analysis</i></h5>\r\n\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <div class=\"row align-items-start\">\r\n                            <Total store={Stores.income.income} title=\"Estimated Gross Income\" \r\n\t    \t\t\t\t\t\tdescription=\"Total gross income from all income sources.\"/>\r\n                        </div> \r\n                        <div class=\"row align-items-start\">\r\n                            <Total store={Stores.tax.taxable_income} title=\"Estimated Taxable Income\" \r\n\t    \t\t\t\t\t\tdescription=\"Taxable income is AGI minus all deductions.\"/>\r\n                        </div>\r\n                        <div class=\"row align-items-start\">\r\n                            <div class=\"mb-3 border rounded\" style=\"width:450px;padding:5px;\">\r\n                                <div class=\"input-group mb-3\">\r\n                                    <span class=\"input-group-text\" style=\"width:180px;font-size:10pt;\">Effective Tax Rate</span>\r\n                                    <input  type=\"number\" id=\"txt_total\" value={Stores.tax.effective_tax_rate.value} aria-label=\"Total\" class=\"form-control text-end\" disabled={true}></input>\r\n                                    <span class=\"input-group-text\">%</span>\r\n                                </div>\r\n                                <label style=\"font-size:11px;padding-left:4px;\">The real percentage of your taxable income that you pay in taxes is called your effective tax rate. This is due to marginal tax rate.</label>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row align-items-start\">\r\n                            <Total store={Stores.tax.tax_amount} title=\"Estimated Tax\" \r\n\t    \t\t\t\t\t\tdescription=\"Amount of tax before tax credit. This is based on your filing status, income level and other considerations.\"/>\r\n                        </div>  \r\n                        <div class=\"row align-items-start\">\r\n                            <Total store={Stores.taxcredit.total_tax_credit} title=\"Estimated Tax Credit\" \r\n    \t\t\t\t\t\t\tdescription=\"Tax credits reduce the amount of income tax you owe to the federal. Credits are generally designed to encourage or reward certain types of behavior that are considered beneficial to the economy, the environment or to further any other purpose the government deems important.\"/>\r\n                        </div>\r\n                        \r\n                        <div class=\"row align-items-start\">\r\n                            <Total store={Stores.tax.due} title=\"Estimated Due\" \r\n    \t\t\t\t\t\t\tdescription=\"Estimated Tax due. This is estimates for tax minus tax credit. Please note that negative means a refund, positive is tax owed. This is for modeling purpose only.\"/>\r\n                        </div>\r\n\r\n\t\t\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t\t\t\t<h5><i>possible checklist</i></h5>\r\n\t\t\t\t\t\t\t\t<ul class=\"list-group\" style=\"width:460px;\">\r\n\t\t\t\t\t\t\t\t\t{ recommendationsData.map(reco => <li class=\"list-group-item\" style=\"font-size:9.5pt;\">{ reco }</li>) }\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n                    </div>\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <div class=\"row align-items-start\" style=\"margin-left:50px;\">\r\n\r\n                            <Chart\r\n                                width={250}\r\n                                height={250}\r\n                                chartType=\"Gauge\"\r\n                                data={gaugeData}\r\n                                options={{\r\n                                    greehFrom: 80,\r\n                                    greenTo: 100,\r\n                                    yellowFrom: 50,\r\n                                    yellowTo: 80,\r\n                                    redFrom: 0,\r\n                                    redTo: 50,\r\n                                    minorTicks: 5,\r\n                                }}/>\r\n                        </div> \r\n\r\n                        <div class=\"row align-items-start text-center\">\r\n                            <Chart\r\n                                chartType=\"PieChart\"\r\n                                data={incomeChartData}\r\n                                options={income_options}\r\n                                width={\"450px\"}\r\n                                height={\"350px\"}/>\r\n                        </div>\r\n\r\n                        <div class=\"row align-items-start text-center\">\r\n                            <Chart\r\n                                chartType=\"PieChart\"\r\n                                data={deductionData}\r\n                                options={deduction_options}\r\n                                width={\"450px\"}\r\n                                height={\"350px\"}/>\r\n\r\n                        </div>     \r\n                        <div class=\"row align-items-start text-center\">\r\n\t\t\t\t\t\t\t<Chart\r\n\t\t\t\t\t\t\t\tchartType=\"PieChart\"\r\n\t\t\t\t\t\t\t\tdata={realDeductionData}\r\n\t\t\t\t\t\t\t\toptions={real_deduction_options}\r\n\t\t\t\t\t\t\t\twidth={\"450px\"}\r\n\t\t\t\t\t\t\t\theight={\"350px\"}/>\r\n\t\t\t\t\t\t</div>\r\n                    </div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t);\r\n};\r\n\r\nexport default Analysis;\r\n","import { h } from 'preact';\r\nimport { route } from 'preact-router';\r\nimport { Stores } from '../../stores/stores';\r\nimport { useEffect } from 'preact/hooks';\r\nimport { Recommendations } from '../../stores/recommendations';\r\n\r\n\r\nconst Test = () => {\r\n    useEffect(() => {\r\n        fetch(`/data/recommendations.json`, {\r\n            method:   'GET',\r\n            headers:  {\r\n            'Content-Type': 'application/json',\r\n            }\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                //console.log('recommendations: ' + JSON.stringify(data))\r\n                Recommendations.ProcessRecommendations(data)\r\n            })\r\n        \r\n    }, [Stores.deduction.deduction.value, Stores.income.agi.value, Stores.taxcredit.total_tax_credit.value]);\r\n\r\n    return <div style=\"padding:10px;\"></div>\r\n}\r\n\r\nexport default Test;","import { h } from 'preact';\nimport { Route, Router } from 'preact-router';\n\nimport Header from './header';\nimport Home from '../routes/home';\nimport Basic from '../routes/basic';\nimport Income from '../routes/income';\nimport Deduction from '../routes/deduction';\nimport TaxCredit from '../routes/taxcredit';\nimport Analysis from '../routes/analysis';\nimport Test from '../routes/test';\n\nimport './styles.css';\n\n\nconst App = () => {\n\n    return (\n        <div id=\"app\">\n            <Header />\n            <Router>\n                <Route path=\"/\" component={Home} />\n                <Route path=\"/basic/\" component={Basic} />\n                <Route path=\"/income/\" component={Income} />\n                <Route path=\"/deduction/\" component={Deduction} />\n                <Route path=\"/taxcredit/\" component={TaxCredit} />\n                <Route path=\"/analysis/\" component={Analysis} />\n                <Route path=\"/test/\" component={Test} />\n            </Router>\n        </div>\n)};\n\nexport default App;\n","import App from './components/app';\n\nexport default App;\n"],"sourceRoot":""}