{"version":3,"sources":["webpack:///./stores/taxconfig.tsx","webpack:///./stores/stores.tsx"],"names":["TaxConfig","static","taxableIncome","longtermCapgain","filingStatus","brackets","getTaxBracket","taxableIncomeMinusLongTerm","Math","max","taxWithoutLongTerm","getTaxWithBracket","longterm_brackets","getLongTermBracket","getLongTermCapGainTaxWithBracket","tax","prev_ceiling","remainder","i","length","rate","ceilng","amt","min","longtermCapGain","bracket_array","single_filing_longterm_capgain","married_separate_filing_longterm_capgain","married_joint_filing_longterm_capgain","head_household_filing_longterm_capgain","single_filing_bracket","married_separate_filing_bracket","married_joint_filing_bracket","head_of_household_bracket","Number","MAX_VALUE","Stores","about","load","income","deduction","taxcredit","window","localStorage","clear","serialized","serialize","setItem","model_name","JSON","stringify","result","getItem","saved_model","model","parse","filing_status","signal","child_under17_count","dependent_count","has_child","computed","value","w2","enabled","rsu","f401k_match","f401k_contrib","f1099b_longterm","f1099b_shortterm","f1099misc","f1099r","f1099g","farm","f1099_div_qualified","f1099_div","f1099_int_taxfree","f1099_int","gambling_other","espp_discount","ira","hsa","fsa","utma_gain","parseInt","pretax","magi","agi","tax_advantage_income","medical_dental_expense","standard_deduction","business_deduction","mortgage_interest","salt","charity_contribution","other_deduction","college_expense","early_withdrawal_penalty","investment_expense","f529_contribution","utma_contribution","roth_ira","itemized_deduction","medical_dental_qualification","medical_dental_allowed","standardized_deduction","std","res","itemize","eic","child_tax_credit","enable","dependent_credit","child_dependent_care_expense","premium_tax_credit","residential_energy_credit","ev_credit","foreign_tax_credit","total_tax_credit","taxable_income","toFixed","tax_amount","longterm_capgain","getTaxAmount","effective_tax_rate","due"],"mappings":"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","file":"route-analysis~route-basic~route-deduction~route-home~route-income~route-taxcredit.chunk.85ac5.esm.js","sourcesContent":["\r\n\r\n\r\nexport class TaxConfig {\r\n\r\n    static getTaxAmount(taxableIncome: number, longtermCapgain: number, filingStatus: number) {\r\n\r\n        let brackets = TaxConfig.getTaxBracket(filingStatus)\r\n        if(longtermCapgain > 0) {\r\n            let taxableIncomeMinusLongTerm = Math.max(taxableIncome - longtermCapgain, 0)\r\n            let taxWithoutLongTerm = TaxConfig.getTaxWithBracket(taxableIncomeMinusLongTerm, brackets)\r\n\r\n            let longterm_brackets = TaxConfig.getLongTermBracket(filingStatus)\r\n            let longtermTax = TaxConfig.getLongTermCapGainTaxWithBracket(taxableIncome, longtermCapgain, longterm_brackets)\r\n            return taxWithoutLongTerm + longtermTax\r\n\r\n        } else {\r\n            return TaxConfig.getTaxWithBracket(taxableIncome, brackets)    \r\n        }\r\n    }\r\n\r\n    static getTaxWithBracket(taxableIncome: number, brackets: number[][]) {\r\n        let tax = 0\r\n        let prev_ceiling = 0\r\n        let remainder = taxableIncome\r\n\r\n        for(let i=0; i<brackets.length; ++i) {\r\n            if(remainder <= 0) break\r\n\r\n            let rate: number = brackets[i][0]\r\n            let ceilng: number = brackets[i][1]\r\n\r\n            let amt = Math.min(ceilng - prev_ceiling, remainder)\r\n            if(i === brackets.length - 1) { // last index\r\n                amt = remainder\r\n                tax += amt * (rate / 100)\r\n                break\r\n            }\r\n            \r\n            tax += amt * (rate / 100)\r\n            remainder -= (ceilng - prev_ceiling)\r\n            prev_ceiling = ceilng\r\n        }\r\n        return tax\r\n    }\r\n\r\n    static getLongTermCapGainTaxWithBracket(taxableIncome: number, longtermCapGain: number, brackets: number[][]) {\r\n\r\n        let tax = 0\r\n        for(let i=0; i<brackets.length; ++i) {\r\n          \r\n            let rate: number = brackets[i][0]\r\n            let ceilng: number = brackets[i][1]\r\n\r\n            if(ceilng >= taxableIncome) {\r\n                tax = longtermCapGain * (rate / 100)\r\n                break\r\n            }\r\n        }\r\n        return tax\r\n    }\r\n\r\n    static getLongTermBracket(filingStatus: number) : number[][] {\r\n        let bracket_array: number[][] = []\r\n        // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        switch(filingStatus) {\r\n            case 0: bracket_array = TaxConfig.single_filing_longterm_capgain; break;\r\n            case 1: bracket_array = TaxConfig.married_separate_filing_longterm_capgain; break;\r\n            case 2: bracket_array = TaxConfig.married_joint_filing_longterm_capgain; break;\r\n            case 3: bracket_array = TaxConfig.head_household_filing_longterm_capgain; break;\r\n            default: break\r\n        }\r\n        return bracket_array\r\n    }\r\n\r\n    static getTaxBracket(filingStatus: number) : number[][] {\r\n        let bracket_array: number[][] = []\r\n        // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        switch(filingStatus) {\r\n            case 0: bracket_array = TaxConfig.single_filing_bracket; break;\r\n            case 1: bracket_array = TaxConfig.married_separate_filing_bracket; break;\r\n            case 2: bracket_array = TaxConfig.married_joint_filing_bracket; break;\r\n            case 3: bracket_array = TaxConfig.head_of_household_bracket; break;\r\n            default: break\r\n        }\r\n        return bracket_array\r\n    }\r\n\r\n    static married_joint_filing_longterm_capgain = [\r\n        [0, 83350],\r\n        [15, 517200],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static married_separate_filing_longterm_capgain = [\r\n        [0, 41675],\r\n        [15, 258600],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static single_filing_longterm_capgain = [\r\n        [0, 41675],\r\n        [15, 459750],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static head_household_filing_longterm_capgain = [\r\n        [0, 55800],\r\n        [15, 488500],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static married_joint_filing_bracket = [\r\n        [10, 20550],\r\n        [12, 83550],\r\n        [22, 178150],\r\n        [24, 340100],\r\n        [32, 431900],\r\n        [35, 647850],\r\n        [37, Number.MAX_VALUE]\r\n    ]\r\n        \r\n    static single_filing_bracket = [\r\n        [10, 10275],\r\n        [12, 41775],\r\n        [22, 89075],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 539900],\r\n        [37, Number.MAX_VALUE]\r\n    ]    \r\n\r\n    static married_separate_filing_bracket = [\r\n        [10, 10275],\r\n        [12, 41775],\r\n        [22, 89075],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 323925],\r\n        [37, Number.MAX_VALUE]\r\n    ]        \r\n\r\n    static head_of_household_bracket = [\r\n        [10, 14650],\r\n        [12, 55900],\r\n        [22, 89050],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 539900],\r\n        [37, Number.MAX_VALUE]\r\n    ]  \r\n}","import { computed, signal, batch } from \"@preact/signals\"\r\nimport { TaxConfig } from \"./taxconfig\"\r\n\r\nexport class Stores {\r\n    static model_name: string = \"incomee_model\"\r\n\r\n    static ResetModel = () => {\r\n        Stores.about.load(null)\r\n        Stores.income.load(null)\r\n        Stores.deduction.load(null)\r\n        Stores.taxcredit.load(null)\r\n        if (typeof window !== \"undefined\") {\r\n            window.localStorage.clear()\r\n        }\r\n    }\r\n\r\n    static Serialize = () => {\r\n        let serialized = {\r\n            about: Stores.about.serialize(),\r\n            income: Stores.income.serialize(),\r\n            deduction: Stores.deduction.serialize(),\r\n            taxcredit: Stores.taxcredit.serialize(),\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            window.localStorage.setItem(Stores.model_name, JSON.stringify(serialized))\r\n        }\r\n    }\r\n\r\n    static HasSavedModel = () => {\r\n        let result = false\r\n        if (typeof window !== \"undefined\") {\r\n            result = window.localStorage.getItem(Stores.model_name) != null\r\n        }\r\n        return result\r\n    }\r\n    \r\n    static LoadSavedModel = () => {\r\n        if (typeof window !== \"undefined\") {\r\n            let saved_model = window.localStorage.getItem(Stores.model_name)\r\n            if(saved_model != null) {\r\n                let model = JSON.parse(saved_model)\r\n\r\n                Stores.about.load(model.about)\r\n                Stores.income.load(model.income)\r\n                Stores.deduction.load(model.deduction)\r\n                Stores.taxcredit.load(model.taxcredit)\r\n            }\r\n        }\r\n    }\r\n\r\n    static about: any = {\r\n        filing_status: signal(0), // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        child_under17_count: signal(0),// number of child dependent under 17\r\n        dependent_count: signal(0), // number of dependent over 17\r\n        has_child: computed(() => {\r\n            return this.about.child_under17_count.value > 0 || this.about.dependent_count.value > 0\r\n        }),\r\n        serialize: () => {\r\n            return {\r\n                filing_status: Stores.about.filing_status.value,\r\n                child_under17_count: Stores.about.child_under17_count.value,\r\n                dependent_count: Stores.about.dependent_count.value\r\n            }\r\n        },\r\n        load: (about: any) => {\r\n            Stores.about.filing_status.value = (about === null) ? 0 : about.filing_status\r\n            Stores.about.child_under17_count.value = (about === null) ? 0 : about.child_under17_count\r\n            Stores.about.dependent_count.value = (about === null) ? 0 : about.dependent_count\r\n        }\r\n    }\r\n\r\n    static income: any = {\r\n        w2: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        rsu: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },        \r\n        f401k_match: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f401k_contrib: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099b_longterm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099b_shortterm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099misc: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        }, // misc, nec, rental\r\n        f1099r: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099g: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        farm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_div_qualified: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_div: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_int_taxfree: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_int: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        gambling_other: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        espp_discount: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        ira:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        hsa:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        fsa:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        utma_gain:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        income: computed(() => {\r\n            return parseInt(this.income.w2.amt.value) + parseInt(this.income.rsu.amt.value) + parseInt(this.income.f401k_match.amt.value) +\r\n                parseInt(this.income.f1099b_longterm.amt.value) + parseInt(this.income.f1099b_shortterm.amt.value) + parseInt(this.income.f1099_int_taxfree.amt.value) +\r\n                parseInt(this.income.f1099g.amt.value) + parseInt(this.income.f1099misc.amt.value) + parseInt(this.income.f1099r.amt.value) + \r\n                parseInt(this.income.farm.amt.value) + parseInt(this.income.f1099_int.amt.value) + parseInt(this.income.f1099_div.amt.value) + \r\n                parseInt(this.income.f1099_div_qualified.amt.value) + parseInt(this.income.gambling_other.amt.value) + parseInt(this.income.espp_discount.amt.value) +\r\n                parseInt(this.income.utma_gain.amt.value)\r\n        }),              \r\n        pretax: computed(() => {\r\n            return parseInt(this.income.fsa.amt.value) + parseInt(this.income.hsa.amt.value) +\r\n                parseInt(this.income.ira.amt.value) +  parseInt(this.income.f1099_int_taxfree.amt.value) +\r\n                parseInt(this.income.f401k_match.amt.value) + parseInt(this.income.f401k_contrib.amt.value) + \r\n                parseInt(this.income.utma_gain.amt.value)\r\n        }),\r\n        magi: computed(() => {\r\n            return this.income.agi + parseInt(this.income.f1099_int_taxfree.amt.value)\r\n        }),\r\n        agi: computed(() => {\r\n                return this.income.income - this.income.pretax\r\n        }),\r\n        tax_advantage_income: computed(() => {\r\n                return this.income.pretax + parseInt(this.income.espp_discount.amt.value) +\r\n                    parseInt(this.income.f1099_div_qualified.amt.value) + parseInt(this.income.f1099b_longterm.amt.value)\r\n        }),\r\n        serialize: () => {\r\n            return {\r\n                w2: {\r\n                    enabled: Stores.income.w2.enabled.value,\r\n                    amt: Stores.income.w2.amt.value,\r\n                },\r\n                rsu: {\r\n                    enabled: Stores.income.rsu.enabled.value,\r\n                    amt: Stores.income.rsu.amt.value,\r\n                },        \r\n                f401k_match: {\r\n                    enabled: Stores.income.f401k_match.enabled.value,\r\n                    amt: Stores.income.f401k_match.amt.value,\r\n                },\r\n                f401k_contrib: {\r\n                    enabled: Stores.income.f401k_contrib.enabled.value,\r\n                    amt: Stores.income.f401k_contrib.amt.value,\r\n                },\r\n                f1099b_longterm: {\r\n                    enabled: Stores.income.f1099b_longterm.enabled.value,\r\n                    amt: Stores.income.f1099b_longterm.amt.value,\r\n                },\r\n                f1099b_shortterm: {\r\n                    enabled: Stores.income.f1099b_shortterm.enabled.value,\r\n                    amt: Stores.income.f1099b_shortterm.amt.value,\r\n                },\r\n                f1099misc: {\r\n                    enabled: Stores.income.f1099misc.enabled.value,\r\n                    amt: Stores.income.f1099misc.amt.value,\r\n                }, // misc, nec, rental\r\n                f1099r: {\r\n                    enabled: Stores.income.f1099r.enabled.value,\r\n                    amt: Stores.income.f1099r.amt.value,\r\n                },\r\n                f1099g: {\r\n                    enabled: Stores.income.f1099g.enabled.value,\r\n                    amt: Stores.income.f1099g.amt.value,\r\n                },\r\n                farm: {\r\n                    enabled: Stores.income.farm.enabled.value,\r\n                    amt: Stores.income.farm.amt.value,\r\n                },\r\n                f1099_div_qualified: {\r\n                    enabled: Stores.income.f1099_div_qualified.enabled.value,\r\n                    amt: Stores.income.f1099_div_qualified.amt.value,\r\n                },\r\n                f1099_div: {\r\n                    enabled: Stores.income.f1099_div.enabled.value,\r\n                    amt: Stores.income.f1099_div.amt.value,\r\n                },\r\n                f1099_int_taxfree: {\r\n                    enabled: Stores.income.f1099_int_taxfree.enabled.value,\r\n                    amt: Stores.income.f1099_int_taxfree.amt.value,\r\n                },\r\n                f1099_int: {\r\n                    enabled: Stores.income.f1099_int.enabled.value,\r\n                    amt: Stores.income.f1099_int.amt.value,\r\n                },\r\n                gambling_other: {\r\n                    enabled: Stores.income.gambling_other.enabled.value,\r\n                    amt: Stores.income.gambling_other.amt.value,\r\n                },\r\n                espp_discount: {\r\n                    enabled: Stores.income.espp_discount.enabled.value,\r\n                    amt: Stores.income.espp_discount.amt.value,\r\n                },\r\n                ira:  {\r\n                    enabled: Stores.income.ira.enabled.value,\r\n                    amt: Stores.income.ira.amt.value,\r\n                },\r\n                hsa:  {\r\n                    enabled: Stores.income.hsa.enabled.value,\r\n                    amt: Stores.income.hsa.amt.value,\r\n                },\r\n                fsa:  {\r\n                    enabled: Stores.income.fsa.enabled.value,\r\n                    amt: Stores.income.fsa.amt.value,\r\n                },\r\n                utma_gain:  {\r\n                    enabled: Stores.income.utma_gain.enabled.value,\r\n                    amt: Stores.income.utma_gain.amt.value,\r\n                },\r\n            }\r\n        },\r\n        load: (income: any) => {\r\n            Stores.income.w2.enabled.value = (income === null) ? false : income.w2.enabled\r\n            Stores.income.w2.amt.value = (income === null) ? 0 : income.w2.amt\r\n            Stores.income.rsu.enabled.value = (income === null) ? false : income.rsu.enabled\r\n            Stores.income.rsu.amt.value = (income === null) ? 0 : income.rsu.amt\r\n            Stores.income.f401k_match.enabled.value = (income === null) ? false : income.f401k_match.enabled\r\n            Stores.income.f401k_match.amt.value = (income === null) ? 0 : income.f401k_match.amt\r\n            Stores.income.f401k_contrib.enabled.value = (income === null) ? false : income.f401k_contrib.enabled\r\n            Stores.income.f401k_contrib.amt.value = (income === null) ? 0 : income.f401k_contrib.amt\r\n            Stores.income.f1099b_longterm.enabled.value = (income === null) ? false : income.f1099b_longterm.enabled\r\n            Stores.income.f1099b_longterm.amt.value = (income === null) ? 0 : income.f1099b_longterm.amt\r\n            Stores.income.f1099b_shortterm.enabled.value = (income === null) ? false : income.f1099b_shortterm.enabled\r\n            Stores.income.f1099b_shortterm.amt.value = (income === null) ? 0 : income.f1099b_shortterm.amt\r\n            Stores.income.f1099misc.enabled.value = (income === null) ? false : income.f1099misc.enabled\r\n            Stores.income.f1099misc.amt.value = (income === null) ? 0 : income.f1099misc.amt\r\n            Stores.income.f1099r.enabled.value = (income === null) ? false : income.f1099r.enabled\r\n            Stores.income.f1099r.amt.value = (income === null) ? 0 : income.f1099r.amt\r\n            Stores.income.f1099g.enabled.value = (income === null) ? false : income.f1099g.enabled\r\n            Stores.income.f1099g.amt.value = (income === null) ? 0 : income.f1099g.amt\r\n            Stores.income.farm.enabled.value = (income === null) ? false : income.farm.enabled\r\n            Stores.income.farm.amt.value = (income === null) ? 0 : income.farm.amt\r\n            Stores.income.f1099_div_qualified.enabled.value = (income === null) ? false : income.f1099_div_qualified.enabled\r\n            Stores.income.f1099_div_qualified.amt.value = (income === null) ? 0 : income.f1099_div_qualified.amt\r\n            Stores.income.f1099_div.enabled.value = (income === null) ? false : income.f1099_div.enabled\r\n            Stores.income.f1099_div.amt.value = (income === null) ? 0 : income.f1099_div.amt\r\n            Stores.income.f1099_int_taxfree.enabled.value = (income === null) ? false : income.f1099_int_taxfree.enabled\r\n            Stores.income.f1099_int_taxfree.amt.value = (income === null) ? 0 : income.f1099_int_taxfree.amt\r\n            Stores.income.f1099_int.enabled.value = (income === null) ? false : income.f1099_int.enabled\r\n            Stores.income.f1099_int.amt.value = (income === null) ? 0 : income.f1099_int.amt\r\n            Stores.income.gambling_other.enabled.value = (income === null) ? false : income.gambling_other.enabled\r\n            Stores.income.gambling_other.amt.value = (income === null) ? 0 : income.gambling_other.amt\r\n            Stores.income.espp_discount.enabled.value = (income === null) ? false : income.espp_discount.enabled\r\n            Stores.income.espp_discount.amt.value = (income === null) ? 0 : income.espp_discount.amt\r\n            Stores.income.ira.enabled.value = (income === null) ? false : income.ira.enabled\r\n            Stores.income.ira.amt.value = (income === null) ? 0 : income.ira.amt\r\n            Stores.income.hsa.enabled.value = (income === null) ? false : income.hsa.enabled\r\n            Stores.income.hsa.amt.value = (income === null) ? 0 : income.hsa.amt\r\n            Stores.income.fsa.enabled.value = (income === null) ? false : income.fsa.enabled\r\n            Stores.income.fsa.amt.value = (income === null) ? 0 : income.fsa.amt\r\n            Stores.income.utma_gain.enabled.value = (income === null) ? false : income.utma_gain.enabled\r\n            Stores.income.utma_gain.amt.value = (income === null) ? 0 : income.utma_gain.amt                      \r\n        }\r\n    }\r\n\r\n    static deduction: any = {\r\n        medical_dental_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        standard_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        business_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        mortgage_interest:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        salt:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        charity_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        other_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        college_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        early_withdrawal_penalty:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        investment_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f529_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        utma_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        roth_ira:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },            \r\n\r\n        itemized_deduction: computed(() => {\r\n            let medical_dental_qualification = 0.075 * Stores.income.agi.value\r\n            let medical_dental_allowed = Math.max(0, parseInt(this.deduction.medical_dental_expense.amt.value) - medical_dental_qualification)\r\n            \r\n            return parseInt(this.deduction.business_deduction.amt.value) + medical_dental_allowed + \r\n                parseInt(this.deduction.mortgage_interest.amt.value) +  parseInt(this.deduction.salt.amt.value) +\r\n                parseInt(this.deduction.charity_contribution.amt.value) + parseInt(this.deduction.college_expense.amt.value) + \r\n                parseInt(this.deduction.early_withdrawal_penalty.amt.value) + parseInt(this.deduction.investment_expense.amt.value) +\r\n                parseInt(this.deduction.other_deduction.amt.value)\r\n        }),\r\n\r\n        standardized_deduction: computed(() => {\r\n            let std = 0\r\n            let filing = this.about.filing_status.value\r\n            // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n            switch(filing) {\r\n                case 0:\r\n                case 1: std = 12950; break;\r\n                case 2: std = 25900; break;\r\n                case 3: std = 19400; break;\r\n                default: std = 0; break;\r\n            }\r\n\r\n            return std\r\n        }),\r\n        deduction: computed(() => {\r\n            let res = []\r\n            let std = parseInt(this.deduction.standardized_deduction.value)\r\n            let itemize = parseInt(this.deduction.itemized_deduction.value)\r\n\r\n            if(std > itemize) {\r\n                res = ['Standard Deduction',std]\r\n            } else {\r\n                res = ['Itemized Deduction', itemize]\r\n            }\r\n            return res\r\n        }),\r\n        serialize: () => {\r\n            return {\r\n                medical_dental_expense:  {\r\n                    enabled: Stores.deduction.medical_dental_expense.enabled.value,\r\n                    amt: Stores.deduction.medical_dental_expense.amt.value,\r\n                },\r\n                standard_deduction:  {\r\n                    enabled: Stores.deduction.standard_deduction.enabled.value,\r\n                    amt: Stores.deduction.standard_deduction.amt.value,\r\n                },\r\n                business_deduction:  {\r\n                    enabled: Stores.deduction.business_deduction.enabled.value,\r\n                    amt: Stores.deduction.business_deduction.amt.value,\r\n                },\r\n                mortgage_interest:  {\r\n                    enabled: Stores.deduction.mortgage_interest.enabled.value,\r\n                    amt: Stores.deduction.mortgage_interest.amt.value,\r\n                },\r\n                salt:  {\r\n                    enabled: Stores.deduction.salt.enabled.value,\r\n                    amt: Stores.deduction.salt.amt.value,\r\n                },\r\n                charity_contribution:  {\r\n                    enabled: Stores.deduction.charity_contribution.enabled.value,\r\n                    amt: Stores.deduction.charity_contribution.amt.value,\r\n                },\r\n                other_deduction:  {\r\n                    enabled: Stores.deduction.other_deduction.enabled.value,\r\n                    amt: Stores.deduction.other_deduction.amt.value,\r\n                },\r\n                college_expense:  {\r\n                    enabled: Stores.deduction.college_expense.enabled.value,\r\n                    amt: Stores.deduction.college_expense.amt.value,\r\n                },\r\n                early_withdrawal_penalty:  {\r\n                    enabled: Stores.deduction.early_withdrawal_penalty.enabled.value,\r\n                    amt: Stores.deduction.early_withdrawal_penalty.amt.value,\r\n                },\r\n                investment_expense:  {\r\n                    enabled: Stores.deduction.investment_expense.enabled.value,\r\n                    amt: Stores.deduction.investment_expense.amt.value,\r\n                },\r\n                f529_contribution:  {\r\n                    enabled: Stores.deduction.f529_contribution.enabled.value,\r\n                    amt: Stores.deduction.f529_contribution.amt.value,\r\n                },\r\n                utma_contribution:  {\r\n                    enabled: Stores.deduction.utma_contribution.enabled.value,\r\n                    amt: Stores.deduction.utma_contribution.amt.value,\r\n                },  \r\n                roth_ira:  {\r\n                    enabled: Stores.deduction.roth_ira.enabled.value,\r\n                    amt: Stores.deduction.roth_ira.amt.value,\r\n                },     \r\n            }\r\n        },\r\n        load: (deduction: any) => {\r\n            Stores.deduction.medical_dental_expense.enabled.value = (deduction === null) ? false : deduction.medical_dental_expense.enabled\r\n            Stores.deduction.medical_dental_expense.amt.value = (deduction === null) ? 0 : deduction.medical_dental_expense.amt\r\n            Stores.deduction.standard_deduction.enabled.value = (deduction === null) ? false : deduction.standard_deduction.enabled\r\n            Stores.deduction.standard_deduction.amt.value = (deduction === null) ? 0 : deduction.standard_deduction.amt\r\n            Stores.deduction.business_deduction.enabled.value = (deduction === null) ? false : deduction.business_deduction.enabled\r\n            Stores.deduction.business_deduction.amt.value = (deduction === null) ? 0 : deduction.business_deduction.amt\r\n            Stores.deduction.mortgage_interest.enabled.value = (deduction === null) ? false : deduction.mortgage_interest.enabled\r\n            Stores.deduction.mortgage_interest.amt.value = (deduction === null) ? 0 : deduction.mortgage_interest.amt\r\n            Stores.deduction.salt.enabled.value = (deduction === null) ? false : deduction.salt.enabled\r\n            Stores.deduction.salt.amt.value = (deduction === null) ? 0 : deduction.salt.amt       \r\n            Stores.deduction.charity_contribution.enabled.value = (deduction === null) ? false : deduction.charity_contribution.enabled\r\n            Stores.deduction.charity_contribution.amt.value = (deduction === null) ? 0 : deduction.charity_contribution.amt\r\n            Stores.deduction.other_deduction.enabled.value = (deduction === null) ? false : deduction.other_deduction.enabled\r\n            Stores.deduction.other_deduction.amt.value = (deduction === null) ? 0 : deduction.other_deduction.amt\r\n            Stores.deduction.college_expense.enabled.value = (deduction === null) ? false : deduction.college_expense.enabled\r\n            Stores.deduction.college_expense.amt.value = (deduction === null) ? 0 : deduction.college_expense.amt\r\n            Stores.deduction.early_withdrawal_penalty.enabled.value = (deduction === null) ? false : deduction.early_withdrawal_penalty.enabled\r\n            Stores.deduction.early_withdrawal_penalty.amt.value = (deduction === null) ? 0 : deduction.early_withdrawal_penalty.amt\r\n            Stores.deduction.investment_expense.enabled.value = (deduction === null) ? false : deduction.investment_expense.enabled\r\n            Stores.deduction.investment_expense.amt.value = (deduction === null) ? 0 : deduction.investment_expense.amt\r\n            Stores.deduction.f529_contribution.enabled.value = (deduction === null) ? false : deduction.f529_contribution.enabled\r\n            Stores.deduction.f529_contribution.amt.value = (deduction === null) ? 0 : deduction.f529_contribution.amt\r\n            Stores.deduction.utma_contribution.enabled.value = (deduction === null) ? false : deduction.utma_contribution.enabled\r\n            Stores.deduction.utma_contribution.amt.value = (deduction === null) ? 0 : deduction.utma_contribution.amt\r\n            Stores.deduction.roth_ira.enabled.value = (deduction === null) ? false : deduction.roth_ira.enabled\r\n            Stores.deduction.roth_ira.amt.value = (deduction === null) ? 0 : deduction.roth_ira.amt                                                                 \r\n        }\r\n\r\n    }\r\n\r\n    static taxcredit: any = {\r\n        eic:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        child_tax_credit: {\r\n            enabled: signal(false),\r\n            amt: computed(() => {\r\n                let enable = false\r\n                if(this.about.filing_status.value === 2) {\r\n                    enable = (this.income.magi < 400000)\r\n                } else {\r\n                    enable = (this.income.magi < 200000)\r\n                }\r\n\r\n                if(enable) {\r\n                    if(this.about.child_under17_count.value === 0) {\r\n                        enable = false\r\n                    }\r\n                }\r\n\r\n                let res = 0\r\n                if(enable) {\r\n                    res = (this.about.child_under17_count.value * 2000)\r\n                }\r\n                return res\r\n            })\r\n        },  \r\n        dependent_credit:  {\r\n            enabled: signal(false),\r\n            amt: computed(() => {\r\n                let enable = false\r\n                if(this.about.filing_status.value == 2) {\r\n                    enable = (this.income.magi < 400000)\r\n                } else {\r\n                    enable = (this.income.magi < 200000)\r\n                }\r\n\r\n                if(enable) {\r\n                    if(this.about.dependent_count.value === 0) {\r\n                        enable = false\r\n                    }\r\n                }\r\n\r\n                let res = 0\r\n                if(enable) {\r\n                    res = (this.about.dependent_count.value * 500)\r\n                }\r\n                return res\r\n            })\r\n        },  \r\n        child_dependent_care_expense: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        premium_tax_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        residential_energy_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        ev_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        foreign_tax_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        total_tax_credit: computed(() => {\r\n            return parseInt(this.taxcredit.eic.amt.value) + parseInt(this.taxcredit.child_tax_credit.amt.value) + \r\n                    parseInt(this.taxcredit.dependent_credit.amt.value) + parseInt(this.taxcredit.child_dependent_care_expense.amt.value) + \r\n                    parseInt(this.taxcredit.premium_tax_credit.amt.value) + parseInt(this.taxcredit.residential_energy_credit.amt.value) + \r\n                    parseInt(this.taxcredit.ev_credit.amt.value) + parseInt(this.taxcredit.foreign_tax_credit.amt.value)\r\n\r\n        }),\r\n        serialize: () => {\r\n            return {\r\n                eic:  {\r\n                    enabled: Stores.taxcredit.eic.enabled.value,\r\n                    amt: Stores.taxcredit.eic.amt.value,\r\n                },\r\n                child_dependent_care_expense: {\r\n                    enabled: Stores.taxcredit.child_dependent_care_expense.enabled.value,\r\n                    amt: Stores.taxcredit.child_dependent_care_expense.amt.value,\r\n                },  \r\n                premium_tax_credit:  {\r\n                    enabled: Stores.taxcredit.premium_tax_credit.enabled.value,\r\n                    amt: Stores.taxcredit.premium_tax_credit.amt.value,\r\n                },  \r\n                residential_energy_credit:  {\r\n                    enabled: Stores.taxcredit.residential_energy_credit.enabled.value,\r\n                    amt: Stores.taxcredit.residential_energy_credit.amt.value,\r\n                },  \r\n                ev_credit:  {\r\n                    enabled: Stores.taxcredit.ev_credit.enabled.value,\r\n                    amt: Stores.taxcredit.ev_credit.amt.value,\r\n                },  \r\n                foreign_tax_credit:  {\r\n                    enabled: Stores.taxcredit.foreign_tax_credit.enabled.value,\r\n                    amt: Stores.taxcredit.foreign_tax_credit.amt.value,\r\n                },\r\n        \r\n            }\r\n        },\r\n        load: (taxcredit: any) => {\r\n            Stores.taxcredit.eic.enabled.value = (taxcredit === null) ? false : taxcredit.eic.enabled\r\n            Stores.taxcredit.eic.amt.value = (taxcredit === null) ? 0 : taxcredit.eic.amt\r\n            Stores.taxcredit.child_dependent_care_expense.enabled.value = (taxcredit === null) ? false : taxcredit.child_dependent_care_expense.enabled\r\n            Stores.taxcredit.child_dependent_care_expense.amt.value = (taxcredit === null) ? 0 : taxcredit.child_dependent_care_expense.amt\r\n            Stores.taxcredit.premium_tax_credit.enabled.value = (taxcredit === null) ? false : taxcredit.premium_tax_credit.enabled\r\n            Stores.taxcredit.premium_tax_credit.amt.value = (taxcredit === null) ? 0 : taxcredit.premium_tax_credit.amt\r\n            Stores.taxcredit.residential_energy_credit.enabled.value = (taxcredit === null) ? false : taxcredit.residential_energy_credit.enabled\r\n            Stores.taxcredit.residential_energy_credit.amt.value = (taxcredit === null) ? 0 : taxcredit.residential_energy_credit.amt\r\n            Stores.taxcredit.ev_credit.enabled.value = (taxcredit === null) ? false : taxcredit.ev_credit.enabled\r\n            Stores.taxcredit.ev_credit.amt.value = (taxcredit === null) ? 0 : taxcredit.ev_credit.amt\r\n            Stores.taxcredit.foreign_tax_credit.enabled.value = (taxcredit === null) ? false : taxcredit.foreign_tax_credit.enabled\r\n            Stores.taxcredit.foreign_tax_credit.amt.value = (taxcredit === null) ? 0 : taxcredit.foreign_tax_credit.amt                                                            \r\n        }\r\n    }\r\n\r\n    static tax : any = {\r\n        taxable_income: computed(() => {\r\n            return (Math.max(this.income.agi.value - this.deduction.deduction.value[1], 0)).toFixed(0)\r\n        }),\r\n        tax_amount: computed(() => {\r\n            let longterm_capgain = parseInt(this.income.f1099b_longterm.amt.value) + parseInt(this.income.f1099_div_qualified.amt.value)\r\n            return (TaxConfig.getTaxAmount(this.tax.taxable_income.value, longterm_capgain, Stores.about.filing_status.value)).toFixed(0)\r\n        }),\r\n        effective_tax_rate: computed(() => {\r\n            return ((this.tax.tax_amount.value / this.tax.taxable_income.value) * 100).toFixed(2)\r\n        }),\r\n        due: computed(() => {\r\n            return (this.tax.tax_amount.value - this.taxcredit.total_tax_credit.value).toFixed(0)\r\n        })\r\n    }\r\n    \r\n}\r\n"],"sourceRoot":""}