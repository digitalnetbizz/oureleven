(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2626:(e,t,n)=>{"use strict";n.d(t,{D:()=>l,ThemeProvider:()=>r});var s=n(5155),a=n(2115);let i=(0,a.createContext)({theme:"system",setTheme:()=>null});function r(e){let{children:t,defaultTheme:n="system",storageKey:r="vite-ui-theme",enableSystem:l=!0,disableTransitionOnChange:o=!1,...d}=e,[c,m]=(0,a.useState)(()=>"undefined"!=typeof localStorage&&localStorage.getItem(r)||n);return(0,a.useEffect)(()=>{let e=window.document.documentElement;if(o&&(e.classList.add("transition-none"),window.setTimeout(()=>{e.classList.remove("transition-none")},0)),e.classList.remove("light","dark"),"system"===c&&l){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);return}e.classList.add(c)},[c,o,l]),(0,s.jsx)(i.Provider,{...d,value:{theme:c,setTheme:e=>{"undefined"!=typeof localStorage&&localStorage.setItem(r,e),m(e)}},children:t})}let l=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},5934:(e,t,n)=>{Promise.resolve().then(n.bind(n,6587))},6587:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>eB});var s=n(5155),a=n(2115);let i={currentStep:0,basicInfo:{filingStatus:"single",isOver50:!1,isOver65OrBlind:!1,childrenUnder18:0,otherDependents:0},income:{w2Income:0,selfEmploymentIncome:0,unemploymentBenefits:0,companyStock:0,farmIncome:0,rentalIncome:0,gamblingIncome:0},realizedInvestment:{shortTermStockSale:0,longTermStockSale:0,ordinaryDividend:0,interest:0,qualifiedDividend:0,taxExemptInterest:0,retirementDistribution:0,utmaCapitalGain:0},contributions:{retirement401k:0,retirement401kMatch:0,hsaContribution:0,esppDiscount:0,traditionalIraContribution:0,fsaContribution:0,rothIraContribution:0,studentLoanInterest:0,educatorExpense:0,selfEmployedHealthInsurance:0,tuitionAndFees:0,businessExpenses:0,rentalPropertyLosses:0,selfEmploymentTaxDeduction:0},deduction:{medicalDentalCost:0,collegeExpenses:0,estimatedSaltTax:0,pmiInsurance:0,earlyRetirementWithdrawalPenalty:0,selfEmploymentDeduction:0,investmentExpenses:0,propertyTax:0,registrationFees:0,charitableDonations:0,educatorExpense:0,studentLoanInterest:0,otherItemizedDeduction:0},taxCredit:{healthcarePremiumCredit:0,foreignTaxCredit:0,greenTaxCredit:0,childTaxCredit:0,otherDependentCredit:0}},r=(0,a.createContext)(void 0),l=e=>{let{children:t}=e,[n,l]=(0,a.useState)(i);return(0,a.useEffect)(()=>{let e=e=>{var t;null==(t=e.preventDefault)||t.call(e),0!==n.currentStep&&l(e=>({...e,currentStep:0}))};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[n.currentStep]),(0,s.jsx)(r.Provider,{value:{state:n,updateBasicInfo:e=>{l(t=>({...t,basicInfo:{...t.basicInfo,...e}}))},updateIncome:e=>{l(t=>({...t,income:{...t.income,...e}}))},updateRealizedInvestment:e=>{l(t=>({...t,realizedInvestment:{...t.realizedInvestment,...e}}))},updateContributions:e=>{l(t=>({...t,contributions:{...t.contributions,...e}}))},updateDeduction:e=>{l(t=>({...t,deduction:{...t.deduction,...e}}))},updateTaxCredit:e=>{l(t=>({...t,taxCredit:{...t.taxCredit,...e}}))},nextStep:()=>{l(e=>0===e.currentStep?{...i,currentStep:1}:{...e,currentStep:Math.min(e.currentStep+1,8)})},prevStep:()=>{l(e=>({...e,currentStep:Math.max(e.currentStep-1,0)}))},goToStep:e=>{e>=0&&e<=8&&l(t=>({...t,currentStep:e}))}},children:t})},o=()=>{let e=(0,a.useContext)(r);if(void 0===e)throw Error("useTaxCalculator must be used within a TaxCalculatorProvider");return e};var d=n(968),c=n(2596),m=n(9688);function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,m.QP)((0,c.$)(t))}function x(e){let{className:t,...n}=e;return(0,s.jsx)(d.b,{"data-slot":"label",className:u("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...n})}var h=n(4884);function p(e){let{className:t,...n}=e;return(0,s.jsx)(h.bL,{"data-slot":"switch",className:u("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:(0,s.jsx)(h.zi,{"data-slot":"switch-thumb",className:u("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var f=n(4582),g=n(6474),j=n(5196),y=n(7863);function v(e){let{...t}=e;return(0,s.jsx)(f.bL,{"data-slot":"select",...t})}function b(e){let{...t}=e;return(0,s.jsx)(f.WT,{"data-slot":"select-value",...t})}function N(e){let{className:t,size:n="default",children:a,...i}=e;return(0,s.jsxs)(f.l9,{"data-slot":"select-trigger","data-size":n,className:u("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[a,(0,s.jsx)(f.In,{asChild:!0,children:(0,s.jsx)(g.A,{className:"size-4 opacity-50"})})]})}function I(e){let{className:t,children:n,position:a="popper",...i}=e;return(0,s.jsx)(f.ZL,{children:(0,s.jsxs)(f.UC,{"data-slot":"select-content",className:u("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...i,children:[(0,s.jsx)(C,{}),(0,s.jsx)(f.LM,{className:u("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),(0,s.jsx)(w,{})]})})}function S(e){let{className:t,children:n,...a}=e;return(0,s.jsxs)(f.q7,{"data-slot":"select-item",className:u("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...a,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(f.VF,{children:(0,s.jsx)(j.A,{className:"size-4"})})}),(0,s.jsx)(f.p4,{children:n})]})}function C(e){let{className:t,...n}=e;return(0,s.jsx)(f.PP,{"data-slot":"select-scroll-up-button",className:u("flex cursor-default items-center justify-center py-1",t),...n,children:(0,s.jsx)(y.A,{className:"size-4"})})}function w(e){let{className:t,...n}=e;return(0,s.jsx)(f.wn,{"data-slot":"select-scroll-down-button",className:u("flex cursor-default items-center justify-center py-1",t),...n,children:(0,s.jsx)(g.A,{className:"size-4"})})}function T(e){let{className:t,...n}=e;return(0,s.jsx)("div",{"data-slot":"card",className:u("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...n})}function E(e){let{className:t,...n}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:u("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...n})}function k(e){let{className:t,...n}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:u("leading-none font-semibold",t),...n})}function D(e){let{className:t,...n}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:u("text-muted-foreground text-sm",t),...n})}function M(e){let{className:t,...n}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:u("px-6",t),...n})}function F(e){let{className:t,...n}=e;return(0,s.jsx)("div",{"data-slot":"card-footer",className:u("flex items-center px-6 [.border-t]:pt-6",t),...n})}var A=n(9708);let L=(0,n(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function P(e){let{className:t,variant:n,size:a,asChild:i=!1,...r}=e,l=i?A.DX:"button";return(0,s.jsx)(l,{"data-slot":"button",className:u(L({variant:n,size:a,className:t})),...r})}let B=(e,t)=>{window.gtag&&window.gtag("event",e,t)},_={START_CALCULATION:"start_calculation",COMPLETE_STEP:"complete_step",PRINT_SUMMARY:"print_summary",RESET_CALCULATION:"reset_calculation"},z=e=>{let{title:t,description:n,children:a,onNext:i,onPrev:r,showBackButton:l=!0,showNextButton:d=!0,nextButtonText:c="Next",backButtonText:m="Back"}=e,{prevStep:u,nextStep:x,state:h,goToStep:p}=o(),f=async()=>{i?await i()&&(B(_.COMPLETE_STEP,{step:h.currentStep,step_name:t}),x()):(B(_.COMPLETE_STEP,{step:h.currentStep,step_name:t}),x())};return(0,s.jsxs)(T,{className:"w-full max-w-4xl mx-auto shadow-lg",children:[(0,s.jsxs)(E,{children:[h.currentStep>0&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Step ",h.currentStep," of 8"]}),(0,s.jsx)(k,{className:"text-2xl font-bold",children:t}),(0,s.jsx)(D,{children:n})]}),(0,s.jsx)(M,{children:a}),(0,s.jsxs)(F,{className:"flex justify-between",children:[l&&h.currentStep>=1&&(0,s.jsx)(P,{variant:"outline",onClick:()=>{r&&r(),1===h.currentStep?p(0):u()},children:1===h.currentStep?"Back to Welcome":m}),(0,s.jsx)("div",{className:"flex-grow"}),d&&(0,s.jsx)(P,{onClick:f,children:c})]})]})},R=()=>{let{state:e,updateBasicInfo:t}=o(),{basicInfo:n}=e,a=(e,n)=>{t({[e]:n})},i=Array.from({length:10},(e,t)=>t);return(0,s.jsx)(z,{title:"Basic Information",description:"Let's start with some basic information about your tax situation.",nextButtonText:"Continue to Income",showBackButton:!0,children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(x,{htmlFor:"filingStatus",children:"Filing Status"}),(0,s.jsxs)(v,{value:n.filingStatus,onValueChange:e=>a("filingStatus",e),children:[(0,s.jsx)(N,{id:"filingStatus",children:(0,s.jsx)(b,{placeholder:"Select filing status"})}),(0,s.jsxs)(I,{children:[(0,s.jsx)(S,{value:"single",children:"Single"}),(0,s.jsx)(S,{value:"married_joint",children:"Married Filing Jointly"}),(0,s.jsx)(S,{value:"married_separate",children:"Married Filing Separately"}),(0,s.jsx)(S,{value:"head_of_household",children:"Head of Household"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p,{id:"isOver50",checked:n.isOver50,onCheckedChange:e=>a("isOver50",e)}),(0,s.jsx)(x,{htmlFor:"isOver50",children:"Age 50 or over"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p,{id:"isOver65OrBlind",checked:n.isOver65OrBlind,onCheckedChange:e=>a("isOver65OrBlind",e)}),(0,s.jsx)(x,{htmlFor:"isOver65OrBlind",children:"Age 65 or over, or legally blind"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(x,{htmlFor:"childrenUnder18",children:"Number of children under 18"}),(0,s.jsxs)(v,{value:n.childrenUnder18.toString(),onValueChange:e=>a("childrenUnder18",parseInt(e)),children:[(0,s.jsx)(N,{id:"childrenUnder18",className:"w-full",children:(0,s.jsx)(b,{children:n.childrenUnder18.toString()})}),(0,s.jsx)(I,{children:i.map(e=>(0,s.jsx)(S,{value:e.toString(),children:e},e))})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(x,{htmlFor:"otherDependents",children:"Number of other qualified dependents"}),(0,s.jsxs)(v,{value:n.otherDependents.toString(),onValueChange:e=>a("otherDependents",parseInt(e)),children:[(0,s.jsx)(N,{id:"otherDependents",className:"w-full",children:(0,s.jsx)(b,{children:n.otherDependents.toString()})}),(0,s.jsx)(I,{children:i.map(e=>(0,s.jsx)(S,{value:e.toString(),children:e},e))})]})]})]})})};function O(e){let{className:t,type:n,...a}=e;return(0,s.jsx)("input",{type:n,"data-slot":"input",className:u("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}var q=n(4788),U=n(9613);let W=e=>{let{children:t,delayDuration:n=300,skipDelayDuration:a=300,...i}=e;return(0,s.jsx)(U.Kq,{delayDuration:n,skipDelayDuration:a,...i,children:t})},H=U.bL,G=U.l9,$=a.forwardRef((e,t)=>{let{className:n,sideOffset:a=4,...i}=e;return(0,s.jsx)(U.UC,{ref:t,sideOffset:a,className:u("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})});$.displayName=U.UC.displayName;let V=e=>{let{text:t}=e,[n,i]=(0,a.useState)(!1),r=()=>{i(!n)},l=()=>{i(!1)};return(0,s.jsx)(W,{children:(0,s.jsxs)(H,{open:n,onOpenChange:i,children:[(0,s.jsx)(G,{asChild:!0,onClick:r,children:(0,s.jsx)("span",{className:"inline-flex items-center cursor-pointer ml-1",role:"button",tabIndex:0,"aria-label":"Show help information",onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(r(),e.preventDefault()),"Escape"===e.key&&l()},children:(0,s.jsx)(q.A,{className:"h-4 w-4 text-muted-foreground"})})}),(0,s.jsx)($,{className:"max-w-xs text-xs p-2",side:"top",sideOffset:5,avoidCollisions:!0,children:(0,s.jsx)("p",{children:t})})]})})};var Y=n(4416);let Z=e=>{let{text:t}=e,[n,i]=(0,a.useState)(!1),r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=e=>{r.current&&!r.current.contains(e.target)&&i(!1)};return n&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[n]),(0,s.jsxs)("div",{className:"inline-block relative",ref:r,children:[(0,s.jsx)("button",{type:"button",onClick:()=>{i(!n)},className:"inline-flex items-center ml-1","aria-label":"Show help information","aria-expanded":n,children:(0,s.jsx)(q.A,{className:"h-4 w-4 text-muted-foreground"})}),n&&(0,s.jsxs)("div",{className:"absolute z-50 top-6 left-0 max-w-xs w-64 p-3 rounded-md border bg-popover text-popover-foreground shadow-md text-xs",role:"tooltip",children:[(0,s.jsx)("button",{type:"button",className:"absolute right-1 top-1 p-1 text-muted-foreground hover:text-foreground",onClick:()=>i(!1),"aria-label":"Close help tooltip",children:(0,s.jsx)(Y.A,{className:"h-3 w-3"})}),(0,s.jsx)("p",{children:t})]})]})},Q=e=>{let{text:t}=e,[n,i]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{l(!0);let e=()=>{let e=!!("ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0),t=window.innerWidth<768;i(e||t)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),r)?n?(0,s.jsx)(Z,{text:t}):(0,s.jsx)(V,{text:t}):(0,s.jsx)("span",{className:"inline-flex items-center ml-1",children:(0,s.jsx)("span",{className:"h-4 w-4"})})},J={w2Income:"Income from W-2 employment where your employer withholds taxes.",selfEmploymentIncome:"Income from self-employment or freelance work that requires you to pay both employer and employee portions of FICA taxes.",unemploymentBenefits:"Unemployment compensation received from state or federal programs.",companyStock:"Taxable value of company stock or options granted as compensation.",farmIncome:"Income from agricultural activities, including farming and ranching.",rentalIncome:"Income received from renting real estate or personal property.",gamblingIncome:"Winnings from lotteries, casinos, betting, or other games of chance.",medicalDentalCost:"Qualifying medical and dental expenses that exceed 7.5% of your adjusted gross income.",collegeExpenses:"Qualified education expenses such as tuition and fees for eligible students.",estimatedSaltTax:"State and local taxes paid, including income and property taxes (capped at $10,000).",pmiInsurance:"Private Mortgage Insurance premiums that may be deductible if you meet income requirements.",earlyRetirementWithdrawalPenalty:"Penalties paid for early withdrawal from retirement accounts.",selfEmploymentDeduction:"Business expenses related to self-employment income (Note: This is separate from the automatic deduction for half of self-employment tax).",investmentExpenses:"Expenses related to investment activities, such as investment advisory fees.",propertyTax:"Real estate property taxes paid on personal or rental properties.",registrationFees:"Vehicle registration fees that are based on the value of the vehicle.",charitableDonations:"Donations to qualified charitable organizations, including cash and property contributions.",otherItemizedDeduction:"Other qualifying itemized deductions not covered in the categories above.",retirement401k:"Pre-tax contributions to employer-sponsored retirement plans like 401(k), 401(a), or 403(b).",retirement401kMatch:"Employer matching contributions to your retirement plan (not taxable in current year).",hsaContribution:"Pre-tax contributions to a Health Savings Account for qualified medical expenses.",esppDiscount:"Discount received when purchasing company stock through an Employee Stock Purchase Plan.",traditionalIraContribution:"Contributions to a Traditional IRA, which may be tax-deductible depending on income and other factors.",fsaContribution:"Pre-tax contributions to a Flexible Spending Account for healthcare or dependent care.",rothIraContribution:"After-tax contributions to a Roth IRA (not tax-deductible, but qualified withdrawals are tax-free).",healthcarePremiumCredit:"Premium Tax Credit for purchasing health insurance through the marketplace.",foreignTaxCredit:"Credit for foreign income taxes paid to prevent double taxation.",greenTaxCredit:"Tax credits for environmentally friendly purchases like electric vehicles or solar panels.",shortTermStockSale:"Profits from selling stocks or investments held for less than one year (taxed as ordinary income).",longTermStockSale:"Profits from selling stocks or investments held for more than one year (taxed at lower capital gains rates).",ordinaryDividend:"Dividends that don't qualify for the lower qualified dividend tax rate.",interest:"Interest income from sources like bank accounts, CDs, or bonds.",qualifiedDividend:"Dividends that qualify for lower tax rates, typically from U.S. corporations or qualified foreign corporations.",taxExemptInterest:"Interest income that's exempt from federal taxes, such as from municipal bonds.",retirementDistribution:"Withdrawals from retirement accounts that are typically taxable as ordinary income."},K=()=>{let{state:e,updateIncome:t}=o(),{income:n}=e,a=(e,n)=>{t({[e]:""===n?0:parseInt(n)})};return(0,s.jsx)(z,{title:"Income Information",description:"Please enter your income details from all sources.",nextButtonText:"Continue to Investments",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"w2Income",children:"W2 Income"}),(0,s.jsx)(Q,{text:J.w2Income})]}),(0,s.jsx)(O,{id:"w2Income",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.w2Income||"",onChange:e=>a("w2Income",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"selfEmploymentIncome",children:"Self-employment Income"}),(0,s.jsx)(Q,{text:J.selfEmploymentIncome})]}),(0,s.jsx)(O,{id:"selfEmploymentIncome",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.selfEmploymentIncome||"",onChange:e=>a("selfEmploymentIncome",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"unemploymentBenefits",children:"Unemployment Benefits"}),(0,s.jsx)(Q,{text:J.unemploymentBenefits})]}),(0,s.jsx)(O,{id:"unemploymentBenefits",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.unemploymentBenefits||"",onChange:e=>a("unemploymentBenefits",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"companyStock",children:"Company Stock (RSU)"}),(0,s.jsx)(Q,{text:J.companyStock})]}),(0,s.jsx)(O,{id:"companyStock",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.companyStock||"",onChange:e=>a("companyStock",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"farmIncome",children:"Farm Income"}),(0,s.jsx)(Q,{text:J.farmIncome})]}),(0,s.jsx)(O,{id:"farmIncome",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.farmIncome||"",onChange:e=>a("farmIncome",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"rentalIncome",children:"Rental Income"}),(0,s.jsx)(Q,{text:J.rentalIncome})]}),(0,s.jsx)(O,{id:"rentalIncome",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.rentalIncome||"",onChange:e=>a("rentalIncome",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"gamblingIncome",children:"Gambling/Other Income"}),(0,s.jsx)(Q,{text:J.gamblingIncome})]}),(0,s.jsx)(O,{id:"gamblingIncome",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.gamblingIncome||"",onChange:e=>a("gamblingIncome",e.target.value),className:"w-full"})]})]})})},X=()=>{let{state:e,updateRealizedInvestment:t}=o(),{realizedInvestment:n}=e,a=(e,n)=>{t({[e]:""===n?0:parseInt(n)})};return(0,s.jsx)(z,{title:"Realized Investments",description:"Enter your investment income from various sources.",nextButtonText:"Continue to Contributions",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"shortTermStockSale",children:"Short Term Stock Sale (1099-B)"}),(0,s.jsx)(Q,{text:J.shortTermStockSale})]}),(0,s.jsx)(O,{id:"shortTermStockSale",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.shortTermStockSale||"",onChange:e=>a("shortTermStockSale",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"longTermStockSale",children:"Long Term Stock Sale (1099-B)"}),(0,s.jsx)(Q,{text:J.longTermStockSale})]}),(0,s.jsx)(O,{id:"longTermStockSale",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.longTermStockSale||"",onChange:e=>a("longTermStockSale",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"ordinaryDividend",children:"Ordinary Dividend (1099-DIV)"}),(0,s.jsx)(Q,{text:J.ordinaryDividend})]}),(0,s.jsx)(O,{id:"ordinaryDividend",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.ordinaryDividend||"",onChange:e=>a("ordinaryDividend",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"qualifiedDividend",children:"Qualified Dividend (1099-DIV)"}),(0,s.jsx)(Q,{text:J.qualifiedDividend})]}),(0,s.jsx)(O,{id:"qualifiedDividend",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.qualifiedDividend||"",onChange:e=>a("qualifiedDividend",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"interest",children:"Interest (1099-INT)"}),(0,s.jsx)(Q,{text:J.interest})]}),(0,s.jsx)(O,{id:"interest",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.interest||"",onChange:e=>a("interest",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"taxExemptInterest",children:"Tax-exempted Interest"}),(0,s.jsx)(Q,{text:J.taxExemptInterest})]}),(0,s.jsx)(O,{id:"taxExemptInterest",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.taxExemptInterest||"",onChange:e=>a("taxExemptInterest",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"retirementDistribution",children:"Retirement Distribution (1099-R)"}),(0,s.jsx)(Q,{text:J.retirementDistribution})]}),(0,s.jsx)(O,{id:"retirementDistribution",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.retirementDistribution||"",onChange:e=>a("retirementDistribution",e.target.value),className:"w-full"})]})]})})};var ee=n(7489);function et(e){let{className:t,orientation:n="horizontal",decorative:a=!0,...i}=e;return(0,s.jsx)(ee.b,{"data-slot":"separator-root",decorative:a,orientation:n,className:u("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}let en=()=>{let{state:e,updateContributions:t}=o(),{contributions:n,income:a,basicInfo:i}=e,r=a.w2Income+a.selfEmploymentIncome,l=(()=>{let e=i.isOver50,t=1e3*!!e;return{retirement401k:{limit:23e3+7500*!!e,requiresEarnedIncome:!0},traditionalIraContribution:{limit:7e3+t,requiresEarnedIncome:!0},rothIraContribution:{limit:7e3+t,requiresEarnedIncome:!0},hsaContribution:{limit:("single"===i.filingStatus?4150:8300)+1e3*!!e,requiresEarnedIncome:!0}}})(),d=(e,n)=>{var s,a;let i=""===n?0:parseFloat(n);if((null==(s=l[e])?void 0:s.requiresEarnedIncome)&&r<=0)return;let o=null==(a=l[e])?void 0:a.limit;o&&i>o||t({[e]:i})};return(0,s.jsx)(z,{title:"Contributions & Other Above the line Adjustments",description:"Enter your retirement contributions and other above the line adjustments that reduce your AGI.",nextButtonText:"Continue to Income Stats",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"retirement401k",children:"401k / 401a / 403b Contributions"}),(0,s.jsx)(Q,{text:"".concat(J.retirement401k," ").concat(r<=0?"Requires earned income (W2 or self-employment).":"Limit: $".concat(l.retirement401k.limit.toLocaleString()))})]}),(0,s.jsx)(O,{id:"retirement401k",type:"number",inputMode:"numeric",placeholder:"0",min:"0",max:l.retirement401k.limit,step:"1",value:n.retirement401k||"",onChange:e=>d("retirement401k",e.target.value),className:"w-full",disabled:r<=0}),r<=0&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Requires earned income (W2 or self-employment) to contribute."})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"retirement401kMatch",children:"401k / 401a / 403b Match"}),(0,s.jsx)(Q,{text:J.retirement401kMatch})]}),(0,s.jsx)(O,{id:"retirement401kMatch",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.retirement401kMatch||"",onChange:e=>d("retirement401kMatch",e.target.value),className:"w-full",disabled:r<=0}),r<=0&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Requires earned income (W2 or self-employment) to receive employer match."})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"hsaContribution",children:"HSA Contribution"}),(0,s.jsx)(Q,{text:"".concat(J.hsaContribution," ").concat(r<=0?"Requires earned income (W2 or self-employment).":"Limit: $".concat(l.hsaContribution.limit.toLocaleString()))})]}),(0,s.jsx)(O,{id:"hsaContribution",type:"number",inputMode:"numeric",placeholder:"0",min:"0",max:l.hsaContribution.limit,step:"1",value:n.hsaContribution||"",onChange:e=>d("hsaContribution",e.target.value),className:"w-full",disabled:r<=0}),r<=0&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Requires earned income (W2 or self-employment) to contribute to HSA."})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"esppDiscount",children:"ESPP Discount"}),(0,s.jsx)(Q,{text:J.esppDiscount})]}),(0,s.jsx)(O,{id:"esppDiscount",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.esppDiscount||"",onChange:e=>d("esppDiscount",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"traditionalIraContribution",children:"Traditional IRA Contribution"}),(0,s.jsx)(Q,{text:"".concat(J.traditionalIraContribution," ").concat(r<=0?"Requires earned income (W2 or self-employment).":"Limit: $".concat(l.traditionalIraContribution.limit.toLocaleString()))})]}),(0,s.jsx)(O,{id:"traditionalIraContribution",type:"number",inputMode:"numeric",placeholder:"0",min:"0",max:l.traditionalIraContribution.limit,step:"1",value:n.traditionalIraContribution||"",onChange:e=>d("traditionalIraContribution",e.target.value),className:"w-full",disabled:r<=0}),r<=0&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Requires earned income (W2 or self-employment) to contribute to Traditional IRA."})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"fsaContribution",children:"FSA Contribution"}),(0,s.jsx)(Q,{text:J.fsaContribution})]}),(0,s.jsx)(O,{id:"fsaContribution",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.fsaContribution||"",onChange:e=>d("fsaContribution",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"rothIraContribution",children:"Roth IRA Contribution"}),(0,s.jsx)(Q,{text:"".concat(J.rothIraContribution," ").concat(r<=0?"Requires earned income (W2 or self-employment).":"Limit: $".concat(l.rothIraContribution.limit.toLocaleString()))})]}),(0,s.jsx)(O,{id:"rothIraContribution",type:"number",inputMode:"numeric",placeholder:"0",min:"0",max:l.rothIraContribution.limit,step:"1",value:n.rothIraContribution||"",onChange:e=>d("rothIraContribution",e.target.value),className:"w-full",disabled:r<=0}),r<=0&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Requires earned income (W2 or self-employment) to contribute to Roth IRA."})]}),(0,s.jsx)(et,{className:"my-6"}),(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Other Above the line Adjustments"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"These adjustments reduce your Adjusted Gross Income (AGI)"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"studentLoanInterest",children:"Student Loan Interest"}),(0,s.jsx)(Q,{text:"Interest paid on student loans, up to $2,500"})]}),(0,s.jsx)(O,{id:"studentLoanInterest",type:"number",inputMode:"numeric",placeholder:"0",min:"0",max:"2500",step:"1",value:n.studentLoanInterest||"",onChange:e=>d("studentLoanInterest",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"educatorExpense",children:"Educator Expenses"}),(0,s.jsx)(Q,{text:"For K-12 teachers, up to $300 ($600 for married teachers)"})]}),(0,s.jsx)(O,{id:"educatorExpense",type:"number",inputMode:"numeric",placeholder:"0",min:"0",max:"600",step:"1",value:n.educatorExpense||"",onChange:e=>d("educatorExpense",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"selfEmployedHealthInsurance",children:"Self-employed Health Insurance"}),(0,s.jsx)(Q,{text:"Health insurance premiums for self-employed individuals"})]}),(0,s.jsx)(O,{id:"selfEmployedHealthInsurance",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.selfEmployedHealthInsurance||"",onChange:e=>d("selfEmployedHealthInsurance",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"tuitionAndFees",children:"Tuition and Fees"}),(0,s.jsx)(Q,{text:"Qualified education expenses for higher education"})]}),(0,s.jsx)(O,{id:"tuitionAndFees",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.tuitionAndFees||"",onChange:e=>d("tuitionAndFees",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"businessExpenses",children:"Business Expenses (Schedule C)"}),(0,s.jsx)(Q,{text:"Business expenses for self-employed individuals"})]}),(0,s.jsx)(O,{id:"businessExpenses",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.businessExpenses||"",onChange:e=>d("businessExpenses",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"rentalPropertyLosses",children:"Rental/Property Losses (Schedule E)"}),(0,s.jsx)(Q,{text:"Losses from rental properties and real estate investments"})]}),(0,s.jsx)(O,{id:"rentalPropertyLosses",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.rentalPropertyLosses||"",onChange:e=>d("rentalPropertyLosses",e.target.value),className:"w-full"})]})]})})};var es=n(5028);let ea=(0,es.default)(()=>Promise.all([n.e(840),n.e(774)]).then(n.bind(n,1514)),{loadableGenerated:{webpack:()=>[1514]},ssr:!1,loading:()=>(0,s.jsx)("div",{children:"Loading chart..."})}),ei={socialSecurity:.062,medicare:.0145,selfEmploymentSocialSecurity:.124,selfEmploymentMedicare:.029,socialSecurityWageBase:176100,additionalMedicare:.009},er=()=>{let{state:e}=o(),{income:t,realizedInvestment:n,contributions:i,deduction:r,basicInfo:l}=e,d=e=>isNaN(e)||null==e?0:e,c=(0,a.useMemo)(()=>{let e=t.w2Income||0,n=t.selfEmploymentIncome||0,s=Math.min(e,ei.socialSecurityWageBase)*ei.socialSecurity,a=e*ei.medicare,i=Math.min(n,Math.max(0,ei.socialSecurityWageBase-e))*ei.selfEmploymentSocialSecurity,r=n*ei.selfEmploymentMedicare,o=e+n,d="married_joint"===l.filingStatus?25e4:"married_separate"===l.filingStatus?125e3:2e5;if(o>d){let t=(o-d)*ei.additionalMedicare;a+=e/o*t,r+=n/o*t}let c=(i+r)/2,m=s+a+i+r;return console.log("FICA Tax Calculation in Sankey:",{w2Income:e,selfEmploymentIncome:n,w2SocialSecurityTax:s,w2MedicareTax:a,selfEmploymentSocialSecurityTax:i,selfEmploymentMedicareTax:r,selfEmploymentTaxDeduction:c,total:m}),{w2SocialSecurityTax:s,w2MedicareTax:a,selfEmploymentSocialSecurityTax:i,selfEmploymentMedicareTax:r,selfEmploymentTaxDeduction:c,total:m}},[t,l.filingStatus]),m=(0,a.useMemo)(()=>{let e=t.w2Income+t.selfEmploymentIncome+t.unemploymentBenefits+t.companyStock+t.farmIncome+t.rentalIncome+t.gamblingIncome+n.shortTermStockSale+n.longTermStockSale+n.ordinaryDividend+n.interest+n.qualifiedDividend+n.retirementDistribution;return console.log("Gross Income in Sankey:",{w2Income:t.w2Income,selfEmploymentIncome:t.selfEmploymentIncome,unemploymentBenefits:t.unemploymentBenefits,companyStock:t.companyStock,farmIncome:t.farmIncome,rentalIncome:t.rentalIncome,gamblingIncome:t.gamblingIncome,shortTermStockSale:n.shortTermStockSale,longTermStockSale:n.longTermStockSale,ordinaryDividend:n.ordinaryDividend,interest:n.interest,qualifiedDividend:n.qualifiedDividend,retirementDistribution:n.retirementDistribution,total:e}),e},[t,n]),u=(0,a.useMemo)(()=>{let e=e=>isNaN(e)||null==e?0:e,t=e(i.retirement401k)+e(i.hsaContribution)+e(i.traditionalIraContribution)+e(i.fsaContribution),n=e(r.educatorExpense)+e(i.studentLoanInterest)+e(i.selfEmployedHealthInsurance)+e(i.tuitionAndFees)+e(i.businessExpenses)+e(i.rentalPropertyLosses)+e(c.selfEmploymentTaxDeduction);console.log("Above-the-Line Deductions in Sankey:",{educatorExpense:e(r.educatorExpense),studentLoanInterest:e(i.studentLoanInterest),selfEmployedHealthInsurance:e(i.selfEmployedHealthInsurance),tuitionAndFees:e(i.tuitionAndFees),businessExpenses:e(i.businessExpenses),rentalPropertyLosses:e(i.rentalPropertyLosses),selfEmploymentTaxDeduction:e(c.selfEmploymentTaxDeduction),total:n});let s=m-t-n;return console.log("AGI in Sankey:",{grossIncome:m,preTaxContributions:t,aboveLineDeductions:n,result:s}),s},[m,i,r,c.selfEmploymentTaxDeduction]),x=(0,a.useMemo)(()=>{let e=Math.min(t.w2Income,ei.socialSecurityWageBase)*ei.socialSecurity,s=t.w2Income*ei.medicare,a=Math.max(0,ei.socialSecurityWageBase-t.w2Income),l=Math.min(t.selfEmploymentIncome,a)*ei.selfEmploymentSocialSecurity,o=t.selfEmploymentIncome*ei.selfEmploymentMedicare,m=d(i.retirement401k)+d(i.hsaContribution)+d(i.traditionalIraContribution)+d(i.fsaContribution),x=d(r.educatorExpense)+d(i.studentLoanInterest)+d(i.selfEmployedHealthInsurance)+d(i.tuitionAndFees)+d(i.businessExpenses)+d(i.rentalPropertyLosses)+d(c.selfEmploymentTaxDeduction);return{nodes:[{name:"Gross Income"},{name:"W2 Income"},{name:"Self-Employment Income"},{name:"Investment Income"},{name:"Earned Income"},{name:"Pre-tax Contributions"},{name:"Other Above the line Adjustments"},{name:"AGI"},{name:"FICA Taxes"}],links:[{source:1,target:4,value:t.w2Income,color:"rgba(31, 119, 180, 0.6)"},{source:2,target:4,value:t.selfEmploymentIncome,color:"rgba(31, 119, 180, 0.6)"},{source:3,target:0,value:t.unemploymentBenefits+t.companyStock+t.farmIncome+t.rentalIncome+t.gamblingIncome+n.shortTermStockSale+n.longTermStockSale+n.ordinaryDividend+n.interest+n.qualifiedDividend+n.retirementDistribution,color:"rgba(255, 127, 14, 0.6)"},{source:4,target:0,value:t.w2Income+t.selfEmploymentIncome,color:"rgba(31, 119, 180, 0.6)"},{source:0,target:5,value:m,color:"rgba(44, 160, 44, 0.6)"},{source:0,target:6,value:x,color:"rgba(214, 39, 40, 0.6)"},{source:0,target:8,value:e+s+l+o,color:"rgba(148, 103, 189, 0.6)"},{source:0,target:7,value:u,color:"rgba(31, 119, 180, 0.6)"}]}},[t,n,i,r,c.selfEmploymentTaxDeduction,u]),h=[{type:"sankey",orientation:"h",valueformat:"$,.0f",valuesuffix:" USD",node:{pad:15,thickness:20,line:{color:"black",width:.5},label:x.nodes.map(e=>e.name)},link:{source:x.links.map(e=>e.source),target:x.links.map(e=>e.target),value:x.links.map(e=>e.value),color:x.links.map(e=>e.color)}}];return(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)("div",{className:"w-full h-[600px]",children:(0,s.jsx)(ea,{data:h,layout:{title:"Income Flow Visualization",font:{size:12},autosize:!0,margin:{l:25,r:25,b:25,t:40,pad:4}},config:{responsive:!0,displayModeBar:!1,scrollZoom:!1,modeBarButtonsToRemove:["lasso2d","select2d"],displaylogo:!1,toImageButtonOptions:{format:"png",filename:"income_flow",height:600,width:800,scale:2}},style:{width:"100%",height:"100%"},useResizeHandler:!0})})})},el={socialSecurity:.062,medicare:.0145,selfEmploymentSocialSecurity:.124,selfEmploymentMedicare:.029,socialSecurityWageBase:176100,additionalMedicare:.009},eo=()=>{let{state:e}=o(),{income:t,realizedInvestment:n,contributions:i,basicInfo:r,deduction:l}=e,d=(0,a.useMemo)(()=>t.w2Income+t.selfEmploymentIncome+t.unemploymentBenefits+t.companyStock+t.farmIncome+t.rentalIncome+t.gamblingIncome+n.shortTermStockSale+n.longTermStockSale+n.ordinaryDividend+n.interest+n.qualifiedDividend+n.retirementDistribution,[t,n]),c=(0,a.useMemo)(()=>i.retirement401k+i.retirement401kMatch+i.hsaContribution+i.traditionalIraContribution+i.fsaContribution+n.taxExemptInterest+i.rothIraContribution,[i,n]),m=(0,a.useMemo)(()=>{let e=t.w2Income||0,n=t.selfEmploymentIncome||0,s=Math.min(e,el.socialSecurityWageBase)*el.socialSecurity,a=e*el.medicare,i=Math.min(n,Math.max(0,el.socialSecurityWageBase-e))*el.selfEmploymentSocialSecurity,l=n*el.selfEmploymentMedicare,o=e+n,d="married_joint"===r.filingStatus?25e4:"married_separate"===r.filingStatus?125e3:2e5;if(o>d){let t=(o-d)*el.additionalMedicare;a+=e/o*t,l+=n/o*t}let c=(i+l)/2,m=s+a+i+l;return console.log("FICA Tax Calculation:",{w2Income:e,selfEmploymentIncome:n,w2SocialSecurityTax:s,w2MedicareTax:a,selfEmploymentSocialSecurityTax:i,selfEmploymentMedicareTax:l,selfEmploymentTaxDeduction:c,total:m}),{w2SocialSecurityTax:s,w2MedicareTax:a,selfEmploymentSocialSecurityTax:i,selfEmploymentMedicareTax:l,selfEmploymentTaxDeduction:c,total:m}},[t,r.filingStatus]),u=(0,a.useMemo)(()=>{let e=e=>isNaN(e)||null==e?0:e,t=e(i.retirement401k)+e(i.hsaContribution)+e(i.traditionalIraContribution)+e(i.fsaContribution),n=e(l.educatorExpense)+e(i.studentLoanInterest)+e(i.selfEmployedHealthInsurance)+e(i.tuitionAndFees)+e(i.businessExpenses)+e(i.rentalPropertyLosses)+e(m.selfEmploymentTaxDeduction);console.log("Pre-tax Contributions Breakdown:",{retirement401k:e(i.retirement401k),hsaContribution:e(i.hsaContribution),traditionalIraContribution:e(i.traditionalIraContribution),fsaContribution:e(i.fsaContribution),total:t}),console.log("Above-the-Line Deductions Breakdown:",{educatorExpense:e(l.educatorExpense),studentLoanInterest:e(i.studentLoanInterest),selfEmployedHealthInsurance:e(i.selfEmployedHealthInsurance),tuitionAndFees:e(i.tuitionAndFees),businessExpenses:e(i.businessExpenses),rentalPropertyLosses:e(i.rentalPropertyLosses),selfEmploymentTaxDeduction:e(m.selfEmploymentTaxDeduction),total:n});let s=d-t-n;return console.log("AGI Calculation:",{grossIncome:d,preTaxContributions:t,aboveLineDeductions:n,result:s}),s},[d,i,l,m.selfEmploymentTaxDeduction]),x=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e),h=e=>isNaN(e)||null==e?0:e;return(0,s.jsx)(z,{title:"Income Statistics",description:"Review your estimated income statistics and tax implications.",nextButtonText:"Continue to Deductions",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(T,{children:[(0,s.jsx)(E,{className:"pb-2",children:(0,s.jsx)(k,{className:"text-lg",children:"Estimated Gross Income"})}),(0,s.jsx)(M,{children:(0,s.jsx)("p",{className:"text-2xl font-bold",children:x(d)})})]}),(0,s.jsxs)(T,{children:[(0,s.jsx)(E,{className:"pb-2",children:(0,s.jsx)(k,{className:"text-lg",children:"Estimated AGI"})}),(0,s.jsx)(M,{children:(0,s.jsx)("p",{className:"text-2xl font-bold",children:x(u)})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(T,{children:[(0,s.jsx)(E,{className:"pb-2",children:(0,s.jsx)(k,{className:"text-lg",children:"Pre-Tax & Tax-Advantaged Contributions"})}),(0,s.jsxs)(M,{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:x(c)}),(0,s.jsxs)("div",{className:"mt-2 text-sm text-muted-foreground",children:[(0,s.jsx)("p",{children:"Includes:"}),(0,s.jsxs)("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[(0,s.jsxs)("li",{children:["401k/401a/403b Contributions:"," ",x(i.retirement401k)]}),(0,s.jsxs)("li",{children:["401k/401a/403b Employer Match:"," ",x(i.retirement401kMatch)]}),(0,s.jsxs)("li",{children:["HSA Contributions:"," ",x(i.hsaContribution)]}),(0,s.jsxs)("li",{children:["Traditional IRA:"," ",x(i.traditionalIraContribution)]}),(0,s.jsxs)("li",{children:["FSA Contributions:"," ",x(i.fsaContribution)]}),(0,s.jsxs)("li",{children:["Tax-Exempt Interest:"," ",x(n.taxExemptInterest)]}),(0,s.jsxs)("li",{children:["Roth IRA:"," ",x(i.rothIraContribution)]})]})]})]})]}),(0,s.jsxs)(T,{children:[(0,s.jsx)(E,{className:"pb-2",children:(0,s.jsx)(k,{className:"text-lg",children:"Other Above the line Adjustments"})}),(0,s.jsx)(M,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[l.educatorExpense>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Educator Expense:"}),(0,s.jsx)("span",{className:"font-medium",children:x(l.educatorExpense)})]}),i.studentLoanInterest>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Student Loan Interest:"}),(0,s.jsx)("span",{className:"font-medium",children:x(i.studentLoanInterest)})]}),i.selfEmployedHealthInsurance>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Self-Employed Health Insurance:"}),(0,s.jsx)("span",{className:"font-medium",children:x(i.selfEmployedHealthInsurance)})]}),i.tuitionAndFees>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Tuition and Fees:"}),(0,s.jsx)("span",{className:"font-medium",children:x(i.tuitionAndFees)})]}),i.businessExpenses>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Business Expenses:"}),(0,s.jsx)("span",{className:"font-medium",children:x(i.businessExpenses)})]}),i.rentalPropertyLosses>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Rental Property Losses:"}),(0,s.jsx)("span",{className:"font-medium",children:x(i.rentalPropertyLosses)})]}),m.selfEmploymentTaxDeduction>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Self-Employment Tax Deduction:"}),(0,s.jsx)("span",{className:"font-medium",children:x(m.selfEmploymentTaxDeduction)})]}),(0,s.jsx)(et,{className:"my-2"}),(0,s.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,s.jsx)("span",{children:"Total Other Above-the-Line Adjustments:"}),(0,s.jsx)("span",{children:x(h(l.educatorExpense)+h(i.studentLoanInterest)+h(i.selfEmployedHealthInsurance)+h(i.tuitionAndFees)+h(i.businessExpenses)+h(i.rentalPropertyLosses)+h(m.selfEmploymentTaxDeduction))})]})]})})]})]})]}),(0,s.jsxs)(T,{children:[(0,s.jsx)(E,{className:"pb-2",children:(0,s.jsx)(k,{className:"text-lg",children:"Income Flow Visualization"})}),(0,s.jsx)(M,{children:(0,s.jsx)(er,{})})]}),(0,s.jsxs)(T,{children:[(0,s.jsx)(E,{children:(0,s.jsx)(k,{children:"FICA Taxes (Social Security & Medicare)"})}),(0,s.jsx)(M,{children:(0,s.jsx)("div",{className:"space-y-2",children:t.w2Income>0||t.selfEmploymentIncome>0?(0,s.jsxs)(s.Fragment,{children:[t.w2Income>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"W2 Social Security Tax (6.2%):"}),(0,s.jsx)("span",{className:"font-medium",children:x(m.w2SocialSecurityTax)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"W2 Medicare Tax (1.45%+):"}),(0,s.jsx)("span",{className:"font-medium",children:x(m.w2MedicareTax)})]})]}),t.selfEmploymentIncome>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Self-employment Social Security Tax (12.4%):"}),(0,s.jsx)("span",{className:"font-medium",children:x(m.selfEmploymentSocialSecurityTax)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Self-employment Medicare Tax (2.9%+):"}),(0,s.jsx)("span",{className:"font-medium",children:x(m.selfEmploymentMedicareTax)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-muted-foreground",children:[(0,s.jsx)("span",{children:"Half SE Tax Deduction:"}),(0,s.jsxs)("span",{className:"font-medium",children:["-"," ",x(m.selfEmploymentTaxDeduction)]})]})]}),(0,s.jsx)(et,{}),(0,s.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,s.jsx)("span",{children:"Total FICA Taxes:"}),(0,s.jsx)("span",{children:x(m.total)})]})]}):(0,s.jsx)("div",{className:"text-center py-2",children:(0,s.jsx)("span",{className:"text-muted-foreground",children:"No earned income (no FICA taxes apply)"})})})})]})]})})},ed={single:15e3,married_joint:3e4,married_separate:15e3,head_of_household:22500,over65OrBlind:2e3,over65OrBlindMarried:1600},ec=()=>{let{state:e,updateDeduction:t}=o(),{deduction:n,basicInfo:i,income:r,contributions:l,realizedInvestment:d}=e,c=(0,a.useMemo)(()=>{let e=e=>isNaN(e)||null==e?0:e,t=e(r.w2Income)+e(r.selfEmploymentIncome)+e(r.unemploymentBenefits)+e(r.companyStock)+e(r.farmIncome)+e(r.rentalIncome)+e(r.gamblingIncome)+e(d.shortTermStockSale)+e(d.longTermStockSale)+e(d.ordinaryDividend)+e(d.interest)+e(d.qualifiedDividend)+e(d.retirementDistribution);return t-(e(l.retirement401k)+e(l.hsaContribution)+e(l.traditionalIraContribution)+e(l.fsaContribution))-(e(n.educatorExpense)+e(l.studentLoanInterest)+e(l.selfEmployedHealthInsurance)+e(l.tuitionAndFees)+e(l.businessExpenses)+e(l.rentalPropertyLosses)+e(l.selfEmploymentTaxDeduction))},[r,l,n,d]),m=(0,a.useMemo)(()=>{let e=.075*c,t=n.medicalDentalCost||0,s=Math.max(0,t-e);return{threshold:Math.round(e),rawAmount:t,deductibleAmount:s}},[c,n.medicalDentalCost]),u=(e,n)=>{t({[e]:""===n?0:parseInt(n)})},h=(0,a.useMemo)(()=>{let e=e=>isNaN(Number(e))||null==e?0:Number(e);return m.deductibleAmount+e(n.collegeExpenses)+e(n.estimatedSaltTax)+e(n.pmiInsurance)+e(n.earlyRetirementWithdrawalPenalty)+e(n.selfEmploymentDeduction)+e(n.investmentExpenses)+e(n.propertyTax)+e(n.registrationFees)+e(n.charitableDonations)+e(n.otherItemizedDeduction)},[n,m]),p=(0,a.useMemo)(()=>{let e=ed[i.filingStatus];return i.isOver50&&(e+=i.filingStatus.includes("married")?ed.over65OrBlindMarried:ed.over65OrBlind),e},[i]),f=(0,a.useMemo)(()=>h>p?"itemized":"standard",[h,p]),g=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e);return(0,s.jsx)(z,{title:"Deductions",description:"Enter your itemized deductions to see if they exceed your standard deduction.",nextButtonText:"Continue to Tax Credits",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)(T,{children:[(0,s.jsx)(E,{className:"pb-2",children:(0,s.jsx)(k,{className:"text-lg",children:"Standard Deduction"})}),(0,s.jsxs)(M,{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:g(p)}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Based on your filing status:"," ",i.filingStatus.replace("_"," "),i.isOver50?" (with age adjustment)":""]})]})]}),(0,s.jsxs)(T,{children:[(0,s.jsx)(E,{className:"pb-2",children:(0,s.jsx)(k,{className:"text-lg",children:"Itemized Deduction"})}),(0,s.jsxs)(M,{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:g(h)}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"itemized"===f?"Itemized deduction is better for you!":"Standard deduction is better for you!"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"medicalDentalCost",children:"Medical / Dental Cost"}),(0,s.jsx)(Q,{text:"".concat(J.medicalDentalCost," (7.5% of AGI threshold: $").concat(m.threshold.toLocaleString(),")")})]}),(0,s.jsx)(O,{id:"medicalDentalCost",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.medicalDentalCost||"",onChange:e=>u("medicalDentalCost",e.target.value),className:"w-full"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Only the amount exceeding 7.5% of your AGI ($",m.threshold.toLocaleString(),") is deductible.",m.rawAmount>0&&(0,s.jsxs)("span",{children:[" ","Deductible amount: $",m.deductibleAmount.toLocaleString()]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"collegeExpenses",children:"College Expenses"}),(0,s.jsx)(Q,{text:J.collegeExpenses})]}),(0,s.jsx)(O,{id:"collegeExpenses",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.collegeExpenses||"",onChange:e=>u("collegeExpenses",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"estimatedSaltTax",children:"Estimated SALT Tax"}),(0,s.jsx)(Q,{text:J.estimatedSaltTax})]}),(0,s.jsx)(O,{id:"estimatedSaltTax",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.estimatedSaltTax||"",onChange:e=>u("estimatedSaltTax",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"pmiInsurance",children:"PMI Insurance"}),(0,s.jsx)(Q,{text:J.pmiInsurance})]}),(0,s.jsx)(O,{id:"pmiInsurance",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.pmiInsurance||"",onChange:e=>u("pmiInsurance",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"earlyRetirementWithdrawalPenalty",children:"Early Retirement Withdrawal Penalty"}),(0,s.jsx)(Q,{text:J.earlyRetirementWithdrawalPenalty})]}),(0,s.jsx)(O,{id:"earlyRetirementWithdrawalPenalty",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.earlyRetirementWithdrawalPenalty||"",onChange:e=>u("earlyRetirementWithdrawalPenalty",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"selfEmploymentDeduction",children:"Self-employment Deduction (business expenses)"}),(0,s.jsx)(Q,{text:J.selfEmploymentDeduction})]}),(0,s.jsx)(O,{id:"selfEmploymentDeduction",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.selfEmploymentDeduction||"",onChange:e=>u("selfEmploymentDeduction",e.target.value),className:"w-full"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter business expenses here. Note: Half of self-employment tax is automatically deducted in AGI calculation."})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"investmentExpenses",children:"Investment Expenses"}),(0,s.jsx)(Q,{text:J.investmentExpenses})]}),(0,s.jsx)(O,{id:"investmentExpenses",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.investmentExpenses||"",onChange:e=>u("investmentExpenses",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"propertyTax",children:"Property Tax"}),(0,s.jsx)(Q,{text:J.propertyTax})]}),(0,s.jsx)(O,{id:"propertyTax",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.propertyTax||"",onChange:e=>u("propertyTax",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"registrationFees",children:"Registration Fees"}),(0,s.jsx)(Q,{text:J.registrationFees})]}),(0,s.jsx)(O,{id:"registrationFees",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.registrationFees||"",onChange:e=>u("registrationFees",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"charitableDonations",children:"Charitable Donations"}),(0,s.jsx)(Q,{text:J.charitableDonations})]}),(0,s.jsx)(O,{id:"charitableDonations",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.charitableDonations||"",onChange:e=>u("charitableDonations",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"otherItemizedDeduction",children:"Other Itemized Deduction"}),(0,s.jsx)(Q,{text:J.otherItemizedDeduction})]}),(0,s.jsx)(O,{id:"otherItemizedDeduction",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.otherItemizedDeduction||"",onChange:e=>u("otherItemizedDeduction",e.target.value),className:"w-full"})]})]})]})})},em=()=>{let{state:e,updateTaxCredit:t}=o(),{taxCredit:n,basicInfo:a}=e,i=(e,n)=>{t({[e]:""===n?0:parseInt(n)})},r=2e3*a.childrenUnder18,l=500*a.otherDependents,d=r+l+n.healthcarePremiumCredit+n.foreignTaxCredit+n.greenTaxCredit,c=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e);return(0,s.jsx)(z,{title:"Tax Credits",description:"Enter any tax credits you're eligible for.",nextButtonText:"View Summary",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(T,{children:[(0,s.jsx)(E,{className:"pb-2",children:(0,s.jsx)(k,{className:"text-lg",children:"Total Tax Credits"})}),(0,s.jsxs)(M,{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:c(d)}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tax credits directly reduce your tax liability"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"childTaxCredit",children:"Child Tax Credit"}),(0,s.jsx)(Q,{text:"Up to $2,000 per qualifying child under age 18"})]}),(0,s.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm",children:"Based on your information from Step 1:"}),(0,s.jsxs)("p",{className:"text-sm mt-2",children:["Number of children under 18: ",a.childrenUnder18]}),(0,s.jsxs)("p",{className:"text-sm mt-1",children:["Child Tax Credit: ",c(r)]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"otherDependentCredit",children:"Other Dependent Credit"}),(0,s.jsx)(Q,{text:"Up to $500 per qualifying dependent who is not a qualifying child"})]}),(0,s.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm",children:"Based on your information from Step 1:"}),(0,s.jsxs)("p",{className:"text-sm mt-2",children:["Number of other dependents: ",a.otherDependents]}),(0,s.jsxs)("p",{className:"text-sm mt-1",children:["Other Dependent Credit: ",c(l)]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"healthcarePremiumCredit",children:"Health Care Premium Tax Credit (ACA)"}),(0,s.jsx)(Q,{text:J.healthcarePremiumCredit})]}),(0,s.jsx)(O,{id:"healthcarePremiumCredit",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.healthcarePremiumCredit||"",onChange:e=>i("healthcarePremiumCredit",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"foreignTaxCredit",children:"Foreign Tax Credit"}),(0,s.jsx)(Q,{text:J.foreignTaxCredit})]}),(0,s.jsx)(O,{id:"foreignTaxCredit",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.foreignTaxCredit||"",onChange:e=>i("foreignTaxCredit",e.target.value),className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x,{htmlFor:"greenTaxCredit",children:"Green Tax Credit"}),(0,s.jsx)(Q,{text:J.greenTaxCredit})]}),(0,s.jsx)(O,{id:"greenTaxCredit",type:"number",inputMode:"numeric",placeholder:"0",min:"0",step:"1",value:n.greenTaxCredit||"",onChange:e=>i("greenTaxCredit",e.target.value),className:"w-full"})]})]})]})})},eu={single:[{rate:0,upto:48350},{rate:.15,upto:533400},{rate:.2,upto:1/0}],married_joint:[{rate:0,upto:96700},{rate:.15,upto:600050},{rate:.2,upto:1/0}],married_separate:[{rate:0,upto:48350},{rate:.15,upto:3e5},{rate:.2,upto:1/0}],head_of_household:[{rate:0,upto:64750},{rate:.15,upto:566700},{rate:.2,upto:1/0}],netInvestmentIncomeTax:{threshold:{single:2e5,married_joint:25e4,married_separate:125e3,head_of_household:2e5},rate:.038}},ex=(e,t,n)=>{let s=eu[t],a=0,i=e;for(let e=0;e<s.length;e++){let{rate:t,upto:r}=s[e];if(n>(e>0?s[e-1].upto:0)){let e=Math.min(i,Math.max(0,r-n));a+=e*t,i-=e}if(i<=0)break}let r=eu.netInvestmentIncomeTax.threshold[t];return n>r&&(a+=Math.min(e,n-r)*eu.netInvestmentIncomeTax.rate),a},eh=(0,es.default)(()=>Promise.all([n.e(840),n.e(774)]).then(n.bind(n,1514)),{loadableGenerated:{webpack:()=>[1514]},ssr:!1}),ep=()=>{let{state:e}=o(),{income:t,realizedInvestment:n,contributions:i,deduction:r,taxCredit:l,basicInfo:d}=e,c=e=>isNaN(e)||null==e?0:e,m={socialSecurity:.062,medicare:.0145,selfEmploymentSocialSecurity:.124,selfEmploymentMedicare:.029,additionalMedicare:.009,socialSecurityWageBase:176100},u=(0,a.useMemo)(()=>{let e=t.w2Income||0,n=t.selfEmploymentIncome||0,s=Math.min(e,m.socialSecurityWageBase)*m.socialSecurity,a=e*m.medicare,i=Math.min(n,Math.max(0,m.socialSecurityWageBase-e))*m.selfEmploymentSocialSecurity,r=n*m.selfEmploymentMedicare,l=e+n,o="married_joint"===d.filingStatus?25e4:"married_separate"===d.filingStatus?125e3:2e5;if(l>o){let t=(l-o)*m.additionalMedicare;a+=e/l*t,r+=n/l*t}let c=(i+r)/2,u=s+a+i+r,x=u-c;return console.log("FICA Tax Calculation:",{w2Income:e,selfEmploymentIncome:n,w2SocialSecurityTax:s,w2MedicareTax:a,selfEmploymentSocialSecurityTax:i,selfEmploymentMedicareTax:r,selfEmploymentTaxDeduction:c,grossFicaTaxes:u,netFicaTaxes:x}),{w2SocialSecurityTax:s,w2MedicareTax:a,selfEmploymentSocialSecurityTax:i,selfEmploymentMedicareTax:r,selfEmploymentTaxDeduction:c,total:x}},[t,d.filingStatus]),x=c(i.retirement401k)+c(i.hsaContribution)+c(i.traditionalIraContribution)+c(i.fsaContribution);console.log("Pre-tax Contributions Breakdown:",{retirement401k:c(i.retirement401k),hsaContribution:c(i.hsaContribution),traditionalIraContribution:c(i.traditionalIraContribution),fsaContribution:c(i.fsaContribution),total:x});let h=c(r.educatorExpense)+c(i.studentLoanInterest)+c(i.selfEmployedHealthInsurance)+c(i.tuitionAndFees)+c(i.businessExpenses)+c(i.rentalPropertyLosses)+c(u.selfEmploymentTaxDeduction);console.log("Above-the-Line Deductions Breakdown:",{educatorExpense:c(r.educatorExpense),studentLoanInterest:c(i.studentLoanInterest),selfEmployedHealthInsurance:c(i.selfEmployedHealthInsurance),tuitionAndFees:c(i.tuitionAndFees),businessExpenses:c(i.businessExpenses),rentalPropertyLosses:c(i.rentalPropertyLosses),selfEmploymentTaxDeduction:c(u.selfEmploymentTaxDeduction),total:h});let p=c(t.w2Income)+c(t.selfEmploymentIncome)+c(t.unemploymentBenefits)+c(t.companyStock)+c(t.farmIncome)+c(t.rentalIncome)+c(t.gamblingIncome)+c(n.shortTermStockSale)+c(n.longTermStockSale)+c(n.ordinaryDividend)+c(n.interest)+c(n.qualifiedDividend)+c(n.retirementDistribution),f=p-x-h;console.log("AGI Calculation in Sankey:",{grossIncome:p,preTaxContributions:x,aboveLineDeductions:h,agi:f});let g=0;switch(d.filingStatus){case"single":case"married_separate":default:g=15e3;break;case"married_joint":g=3e4;break;case"head_of_household":g=22500}let j=Math.max(g,c(r.medicalDentalCost)+c(r.estimatedSaltTax)+c(r.propertyTax)+c(r.charitableDonations)+c(r.otherItemizedDeduction)),y=Math.max(0,f-j),v=0,b=function(e){switch(e){case"single":default:return[{min:0,max:11e3,rate:.1},{min:11e3,max:44725,rate:.12},{min:44725,max:95375,rate:.22},{min:95375,max:182100,rate:.24},{min:182100,max:231250,rate:.32},{min:231250,max:578125,rate:.35},{min:578125,max:1/0,rate:.37}];case"married_joint":return[{min:0,max:22e3,rate:.1},{min:22e3,max:89450,rate:.12},{min:89450,max:190750,rate:.22},{min:190750,max:364200,rate:.24},{min:364200,max:462500,rate:.32},{min:462500,max:693750,rate:.35},{min:693750,max:1/0,rate:.37}];case"married_separate":return[{min:0,max:11e3,rate:.1},{min:11e3,max:44725,rate:.12},{min:44725,max:95375,rate:.22},{min:95375,max:182100,rate:.24},{min:182100,max:231250,rate:.32},{min:231250,max:346875,rate:.35},{min:346875,max:1/0,rate:.37}];case"head_of_household":return[{min:0,max:15700,rate:.1},{min:15700,max:59850,rate:.12},{min:59850,max:95350,rate:.22},{min:95350,max:182100,rate:.24},{min:182100,max:231250,rate:.32},{min:231250,max:578100,rate:.35},{min:578100,max:1/0,rate:.37}]}}(d.filingStatus),N=c(n.longTermStockSale)+c(n.qualifiedDividend),I=y-N;console.log("Sankey Tax Calculation:",{taxableIncome:y,longTermGains:N,regularIncome:I,filingStatus:d.filingStatus});let S=I,C=0;for(let e of b){let t=Math.min(Math.max(0,S),e.max-C);if(v+=t*e.rate,S-=t,C=e.max,console.log("Sankey Tax Bracket:",{min:e.min,max:e.max,rate:e.rate,taxableAmountInBracket:t,taxInBracket:t*e.rate,cumulativeTax:v}),S<=0)break}if(N>0){let e=ex(N,d.filingStatus,y);console.log("Sankey Long-term Capital Gains Tax:",{longTermGains:N,filingStatus:d.filingStatus,taxableIncome:y,longTermGainsTax:e}),v+=e}console.log("Sankey Final Tax Before Credits:",{regularIncomeTax:v-(N>0?ex(N,d.filingStatus,y):0),longTermGainsTax:N>0?ex(N,d.filingStatus,y):0,totalTax:v});let w=y-v,T=c(l.healthcarePremiumCredit)+c(l.foreignTaxCredit)+c(l.greenTaxCredit)+Math.min(2e3*d.childrenUnder18,v)+Math.min(500*d.otherDependents,v-Math.min(2e3*d.childrenUnder18,v));console.log("Sankey Tax Credits:",{childrenUnder18:d.childrenUnder18,childTaxCredit:Math.min(2e3*d.childrenUnder18,v),otherDependents:d.otherDependents,otherDependentCredit:Math.min(500*d.otherDependents,v-Math.min(2e3*d.childrenUnder18,v)),healthcarePremiumCredit:c(l.healthcarePremiumCredit),foreignTaxCredit:c(l.foreignTaxCredit),greenTaxCredit:c(l.greenTaxCredit),totalCredits:T});let E=Math.max(0,v-T);console.log("Sankey Final Tax After Credits:",{taxBeforeCredits:v,totalCredits:T,finalTax:E});let k=[{label:"Gross Income",color:"rgba(31, 119, 180, 0.8)"},{label:"Pre-tax Contributions",color:"rgba(255, 127, 14, 0.8)"},{label:"Other Above the line Adjustments",color:"rgba(44, 160, 44, 0.8)"},{label:"AGI",color:"rgba(148, 103, 189, 0.8)"},{label:"Standard/Itemized Deduction",color:"rgba(140, 86, 75, 0.8)"},{label:"Taxable Income",color:"rgba(227, 119, 194, 0.8)"},{label:"Federal Tax",color:"rgba(214, 39, 40, 0.8)"},{label:"Tax Credits",color:"rgba(188, 189, 34, 0.8)"},{label:"Final Tax Liability",color:"rgba(33, 186, 69, 1)"},{label:"FICA Taxes",color:"rgba(214, 39, 40, 0.8)"},{label:"Take-Home Income",color:"rgba(33, 186, 69, 1)"}],D=[{source:0,target:1,value:x,color:"rgba(255, 127, 14, 0.6)"},{source:0,target:2,value:h,color:"rgba(44, 160, 44, 0.6)"},{source:0,target:9,value:u.total,color:"rgba(214, 39, 40, 0.6)"},{source:0,target:3,value:p-x-h-u.total,color:"rgba(148, 103, 189, 0.6)"},{source:3,target:4,value:j,color:"rgba(140, 86, 75, 0.6)"},{source:3,target:5,value:y,color:"rgba(227, 119, 194, 0.6)"},{source:5,target:6,value:v,color:"rgba(214, 39, 40, 0.6)"},{source:5,target:10,value:w,color:"rgba(33, 186, 69, 0.6)"},{source:6,target:7,value:T,color:"rgba(188, 189, 34, 0.6)"},{source:6,target:8,value:E,color:"rgba(33, 186, 69, 0.6)"}].filter(e=>e.value>0),M=[{type:"sankey",orientation:"h",valueformat:"$,.0f",valuesuffix:" USD",arrangement:"snap",node:{pad:20,thickness:25,line:{color:"black",width:.5},label:k.map((e,t)=>7===t||10===t?"<b>".concat(e.label,"</b>"):e.label),color:k.map(e=>e.color)},link:{source:D.map(e=>e.source),target:D.map(e=>e.target),value:D.map(e=>e.value),color:D.map(e=>e.color)}}];return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)("div",{className:"w-full h-[700px]",children:(0,s.jsx)(eh,{data:M,layout:{title:"Tax Flow from Gross Income to Final Tax Liability and Take-Home Income",font:{size:13,family:"system-ui, -apple-system, sans-serif"},autosize:!0,margin:{l:25,r:25,b:25,t:50,pad:4}},config:{responsive:!0,displayModeBar:!1},style:{width:"100%",height:"100%"}})})})},ef={single:[{min:0,max:11e3,rate:.1},{min:11e3,max:44725,rate:.12},{min:44725,max:95375,rate:.22},{min:95375,max:182100,rate:.24},{min:182100,max:231250,rate:.32},{min:231250,max:578125,rate:.35},{min:578125,max:1/0,rate:.37}],married_joint:[{min:0,max:22e3,rate:.1},{min:22e3,max:89450,rate:.12},{min:89450,max:190750,rate:.22},{min:190750,max:364200,rate:.24},{min:364200,max:462500,rate:.32},{min:462500,max:693750,rate:.35},{min:693750,max:1/0,rate:.37}],married_separate:[{min:0,max:11e3,rate:.1},{min:11e3,max:44725,rate:.12},{min:44725,max:95375,rate:.22},{min:95375,max:182100,rate:.24},{min:182100,max:231250,rate:.32},{min:231250,max:346875,rate:.35},{min:346875,max:1/0,rate:.37}],head_of_household:[{min:0,max:15700,rate:.1},{min:15700,max:59850,rate:.12},{min:59850,max:95350,rate:.22},{min:95350,max:182100,rate:.24},{min:182100,max:231250,rate:.32},{min:231250,max:578100,rate:.35},{min:578100,max:1/0,rate:.37}]},eg={single:15e3,married_joint:3e4,married_separate:15e3,head_of_household:22500,over65OrBlind:2e3,over65OrBlindMarried:1600},ej=()=>{let{state:e,goToStep:t}=o(),{income:n,realizedInvestment:i,contributions:r,deduction:l,taxCredit:d,basicInfo:c}=e,m=(0,a.useMemo)(()=>n.w2Income+n.selfEmploymentIncome+n.unemploymentBenefits+n.companyStock+n.farmIncome+n.rentalIncome+n.gamblingIncome+i.shortTermStockSale+i.longTermStockSale+i.ordinaryDividend+i.interest+i.qualifiedDividend+i.retirementDistribution,[n,i]),u=(0,a.useMemo)(()=>{let e=n.w2Income||0,t=n.selfEmploymentIncome||0;return{selfEmploymentTaxDeduction:(.124*Math.min(t,Math.max(0,176100-e))+.029*t)/2}},[n.w2Income,n.selfEmploymentIncome]),x=(0,a.useMemo)(()=>{let e=e=>isNaN(e)||null==e?0:e,t=e(r.retirement401k)+e(r.hsaContribution)+e(r.traditionalIraContribution)+e(r.fsaContribution),n=e(l.educatorExpense)+e(r.studentLoanInterest)+e(r.selfEmployedHealthInsurance)+e(r.tuitionAndFees)+e(r.businessExpenses)+e(r.rentalPropertyLosses)+e(u.selfEmploymentTaxDeduction);return console.log("AGI Calculation in Step8Summary:",{grossIncome:m,preTaxContributions:t,aboveLineDeductions:n,result:m-t-n}),m-t-n},[m,r,l,u.selfEmploymentTaxDeduction]),h=(0,a.useMemo)(()=>{let e=e=>isNaN(Number(e))||null==e?0:Number(e);return e(l.medicalDentalCost)+e(l.collegeExpenses)+e(l.estimatedSaltTax)+e(l.pmiInsurance)+e(l.earlyRetirementWithdrawalPenalty)+e(l.selfEmploymentDeduction)+e(l.investmentExpenses)+e(l.propertyTax)+e(l.registrationFees)+e(l.charitableDonations)+e(l.otherItemizedDeduction)},[l]),p=(0,a.useMemo)(()=>{let e=eg[c.filingStatus];return c.isOver50&&(e+=c.filingStatus.includes("married")?eg.over65OrBlindMarried:eg.over65OrBlind),e},[c]),f=(0,a.useMemo)(()=>{let e=h>p?h:p;return console.log("Taxable Income Calculation:",{agi:x,totalItemizedDeduction:h,standardDeduction:p,deductionToUse:e,result:Math.max(0,x-e)}),Math.max(0,x-e)},[x,h,p]),g=(0,a.useMemo)(()=>{let e=f-(i.longTermStockSale||0)-(i.qualifiedDividend||0);console.log("Regular Income Tax Calculation:",{taxableIncome:f,longTermStockSale:i.longTermStockSale||0,qualifiedDividend:i.qualifiedDividend||0,regularIncome:e});let t=ef[c.filingStatus],n=0;for(let s=0;s<t.length;s++){let{min:a,max:i,rate:r}=t[s];if(e>a){let t=Math.min(e-a,i-a);n+=t*r,console.log("Tax Bracket ".concat(s+1,":"),{min:a,max:i,rate:r,taxableInBracket:t,taxInBracket:t*r,cumulativeTax:n})}}let s=(i.longTermStockSale||0)+(i.qualifiedDividend||0);if(s>0){let e=ex(s,c.filingStatus,f);console.log("Long-term Capital Gains Tax:",{longTermGains:s,filingStatus:c.filingStatus,taxableIncome:f,longTermGainsTax:e}),n+=e}return console.log("Final Income Tax:",{regularIncomeTax:n-(s>0?ex(s,c.filingStatus,f):0),longTermGainsTax:s>0?ex(s,c.filingStatus,f):0,totalTax:n}),n},[f,c.filingStatus,i]),j=(0,a.useMemo)(()=>{let e=Math.min(2e3*c.childrenUnder18,g),t=Math.min(500*c.otherDependents,g-e);return console.log("Tax Credits Calculation:",{childrenUnder18:c.childrenUnder18,childTaxCredit:e,otherDependents:c.otherDependents,otherDependentCredit:t,healthcarePremiumCredit:d.healthcarePremiumCredit,foreignTaxCredit:d.foreignTaxCredit,greenTaxCredit:d.greenTaxCredit}),Math.max(0,g-(e+t+d.healthcarePremiumCredit+d.foreignTaxCredit+d.greenTaxCredit))},[g,d,c.childrenUnder18,c.otherDependents]),y=(0,a.useMemo)(()=>m>0?j/m*100:0,[j,m]),v=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e);return(0,s.jsx)(z,{title:"Tax Summary",description:"Review your estimated tax calculation for the year.",showNextButton:!1,children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(T,{children:[(0,s.jsxs)(E,{className:"pb-4",children:[(0,s.jsx)(k,{className:"text-xl",children:"Estimated Tax Due"}),(0,s.jsx)(D,{children:"Based on your inputs, here's your estimated federal tax"})]}),(0,s.jsxs)(M,{children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-4xl font-bold text-primary",children:v(j)}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-1",children:["Effective Tax Rate: ",y.toFixed(2),"%"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Gross Income:"}),(0,s.jsx)("span",{className:"font-medium",children:v(m)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Adjusted Gross Income (AGI):"}),(0,s.jsx)("span",{className:"font-medium",children:v(x)})]}),u.selfEmploymentTaxDeduction>0&&(0,s.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:"Includes deduction for half of self-employment tax:"}),(0,s.jsxs)("span",{children:["- ",v(u.selfEmploymentTaxDeduction)]})]}),(l.educatorExpense>0||l.studentLoanInterest>0)&&(0,s.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:"Includes above-the-line deductions:"}),(0,s.jsxs)("span",{children:["-"," ",v((l.educatorExpense||0)+(l.studentLoanInterest||0))]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:[h>p?"Itemized":"Standard"," ","Deduction:"]}),(0,s.jsx)("span",{className:"font-medium",children:v(Math.max(h,p))})]}),(0,s.jsx)(et,{}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Taxable Income:"}),(0,s.jsx)("span",{className:"font-medium",children:v(f)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Federal Income Tax:"}),(0,s.jsx)("span",{className:"font-medium",children:v(g)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Tax Credits:"}),(0,s.jsxs)("span",{className:"font-medium",children:[""," ",v(d.healthcarePremiumCredit+d.foreignTaxCredit+d.greenTaxCredit)]})]}),(0,s.jsx)(et,{}),(0,s.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,s.jsx)("span",{children:"Final Tax Due:"}),(0,s.jsx)("span",{children:v(j)})]})]})]})]}),(0,s.jsxs)(T,{children:[(0,s.jsxs)(E,{children:[(0,s.jsx)(k,{children:"Path to Take-Home Pay"}),(0,s.jsx)(D,{children:"See how your income flows from gross earnings to what actually reaches your pocket"})]}),(0,s.jsx)(M,{children:(0,s.jsx)(ep,{})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(P,{variant:"outline",className:"w-full text-base md:text-sm h-14 md:h-10",onClick:()=>{B(_.RESET_CALCULATION),t(0)},children:"Start Over"}),(0,s.jsx)(P,{variant:"outline",className:"w-full text-base md:text-sm h-14 md:h-10",onClick:()=>{B(_.PRINT_SUMMARY),window.print()},children:"Print Summary"})]})]})})};var ey=n(6740),ev=n(4355),eb=n(232),eN=n(7081),eI=n(2098),eS=n(3509),eC=n(2626),ew=n(9449),eT=n(3052),eE=n(9428);let ek=ew.bL,eD=ew.l9;ew.YJ,ew.ZL,ew.Pb,ew.z6,a.forwardRef((e,t)=>{let{className:n,inset:a,children:i,...r}=e;return(0,s.jsxs)(ew.ZP,{ref:t,className:u("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",n),...r,children:[i,(0,s.jsx)(eT.A,{className:"ml-auto h-4 w-4"})]})}).displayName=ew.ZP.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(ew.G5,{ref:t,className:u("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...a})}).displayName=ew.G5.displayName;let eM=a.forwardRef((e,t)=>{let{className:n,sideOffset:a=4,...i}=e;return(0,s.jsx)(ew.ZL,{children:(0,s.jsx)(ew.UC,{ref:t,sideOffset:a,className:u("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})})});eM.displayName=ew.UC.displayName;let eF=a.forwardRef((e,t)=>{let{className:n,inset:a,...i}=e;return(0,s.jsx)(ew.q7,{ref:t,className:u("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",n),...i})});function eA(){let{setTheme:e}=(0,eC.D)();return(0,s.jsxs)(ek,{children:[(0,s.jsx)(eD,{asChild:!0,children:(0,s.jsxs)(P,{variant:"outline",size:"icon",children:[(0,s.jsx)(eI.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(eS.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(eM,{align:"end",children:[(0,s.jsx)(eF,{onClick:()=>e("light"),children:"Light"}),(0,s.jsx)(eF,{onClick:()=>e("dark"),children:"Dark"}),(0,s.jsx)(eF,{onClick:()=>e("system"),children:"System"})]})]})}eF.displayName=ew.q7.displayName,a.forwardRef((e,t)=>{let{className:n,children:a,checked:i,...r}=e;return(0,s.jsxs)(ew.H_,{ref:t,className:u("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:i,...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(ew.VF,{children:(0,s.jsx)(j.A,{className:"h-4 w-4"})})}),a]})}).displayName=ew.H_.displayName,a.forwardRef((e,t)=>{let{className:n,children:a,...i}=e;return(0,s.jsxs)(ew.hN,{ref:t,className:u("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(ew.VF,{children:(0,s.jsx)(eE.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=ew.hN.displayName,a.forwardRef((e,t)=>{let{className:n,inset:a,...i}=e;return(0,s.jsx)(ew.JU,{ref:t,className:u("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",n),...i})}).displayName=ew.JU.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(ew.wv,{ref:t,className:u("-mx-1 my-1 h-px bg-muted",n),...a})}).displayName=ew.wv.displayName;let eL=()=>{let{nextStep:e}=o();return(0,s.jsxs)("div",{className:"space-y-6 relative",children:[(0,s.jsx)("div",{className:"absolute top-0 right-4 z-10",children:(0,s.jsx)(eA,{})}),(0,s.jsx)("div",{className:"flex justify-center items-center mb-8 pt-10",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"2025 Tax Estimator"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Estimate your federal tax liability based on 2025 US tax rules"}),(0,s.jsx)("p",{children:(0,s.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,children:(0,s.jsx)("source",{src:"/investing.mp4",type:"video/mp4"})})})]})}),(0,s.jsxs)(T,{className:"border-2 border-primary/20",children:[(0,s.jsxs)(E,{className:"pb-4",children:[(0,s.jsx)(k,{className:"text-2xl",children:"Welcome to Your Personal Tax Estimation Tool"}),(0,s.jsx)(D,{className:"text-lg mt-2",children:"A secure, private way to understand your tax situation"})]}),(0,s.jsxs)(M,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)(ey.A,{className:"h-8 w-8 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-lg",children:"Accurate Tax Estimation"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Calculates your estimated federal tax liability based on the latest tax brackets, deductions, and credits for 2025."})]})]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)(ev.A,{className:"h-8 w-8 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-lg",children:"Detailed Breakdown"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Get a comprehensive view of your income, deductions, credits, and final tax obligation with clear visualizations."})]})]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)(eb.A,{className:"h-8 w-8 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-lg",children:"100% Private & Secure"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:[(0,s.jsx)("strong",{children:"All calculations happen in your browser."})," Your financial information is never sent to any server or stored anywhere."]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)(eN.A,{className:"h-8 w-8 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-lg",children:"Tax Optimization Insights"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Identify potential tax-saving opportunities by understanding how different inputs affect your tax situation."})]})]})]}),(0,s.jsxs)("div",{className:"bg-muted p-4 rounded-lg mt-6",children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"What You'll Need:"}),(0,s.jsxs)("ul",{className:"list-disc pl-6 space-y-1",children:[(0,s.jsx)("li",{children:"Basic information (filing status, age, dependents)"}),(0,s.jsx)("li",{children:"Income details (W2, unemployment, investments, etc.)"}),(0,s.jsx)("li",{children:"Investment information (capital gains, dividends, etc.)"}),(0,s.jsx)("li",{children:"Deduction estimates (medical expenses, charitable giving, etc.)"}),(0,s.jsx)("li",{children:"Tax credit information (if applicable)"})]})]})]}),(0,s.jsxs)(F,{className:"flex flex-col space-y-4",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground text-center mb-2",children:[(0,s.jsx)("p",{className:"mb-1 font-medium",children:"Your Privacy is Guaranteed"}),(0,s.jsx)("p",{children:"This is a client-side application - all calculations happen in your browser. No data is ever sent to our servers or stored anywhere."})]}),(0,s.jsx)(P,{onClick:()=>{B(_.START_CALCULATION),e()},className:"w-full md:w-auto md:px-8",size:"lg",children:"Get Started"})]})]}),(0,s.jsx)("div",{className:"text-center text-sm text-muted-foreground mt-6",children:(0,s.jsxs)("p",{children:["This calculator is for estimation purposes only.",(0,s.jsx)("br",{}),"Always consult with a tax professional for accurate tax advice."]})})]})};function eP(){let{state:e}=o(),{currentStep:t}=e;switch(t){case 0:default:return(0,s.jsx)(eL,{});case 1:return(0,s.jsx)(R,{});case 2:return(0,s.jsx)(K,{});case 3:return(0,s.jsx)(X,{});case 4:return(0,s.jsx)(en,{});case 5:return(0,s.jsx)(eo,{});case 6:return(0,s.jsx)(ec,{});case 7:return(0,s.jsx)(em,{});case 8:return(0,s.jsx)(ej,{})}}function eB(){return(0,s.jsx)("main",{className:"min-h-screen bg-background py-12 px-4",children:(0,s.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,s.jsx)(l,{children:(0,s.jsx)(eP,{})})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[460,441,684,358],()=>t(5934)),_N_E=e.O()}]);