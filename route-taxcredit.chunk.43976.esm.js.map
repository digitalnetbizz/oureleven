{"version":3,"sources":["webpack:///./components/IncomeInput/index.tsx","webpack:///./components/Total/index.tsx","webpack:///./stores/taxconfig.tsx","webpack:///./stores/stores.tsx","webpack:///./components/ReadonlyIncomeInput/index.tsx","webpack:///./routes/taxcredit/index.tsx"],"names":["IncomeInput","props","showErrorBlink","element","bg","style","backgroundColor","setTimeout","class","title","onChange","e","preventDefault","store","enabled","value","amt","inputs","document","querySelectorAll","nextFocusIndex","target","idx","i","length","getNextFocusIndex","focus","select","focusNextElement","type","checked","onBlur","currentTarget","val","parseInt","min_value","max_value","disabled","description","Total","id","TaxConfig","static","taxableIncome","longtermCapgain","filingStatus","brackets","getTaxBracket","taxableIncomeMinusLongTerm","Math","max","taxWithoutLongTerm","getTaxWithBracket","longterm_brackets","getLongTermBracket","getLongTermCapGainTaxWithBracket","tax","prev_ceiling","remainder","rate","ceilng","min","longtermCapGain","bracket_array","single_filing_longterm_capgain","married_separate_filing_longterm_capgain","married_joint_filing_longterm_capgain","head_household_filing_longterm_capgain","single_filing_bracket","married_separate_filing_bracket","married_joint_filing_bracket","head_of_household_bracket","Number","MAX_VALUE","Stores","filing_status","signal","child_under17_count","dependent_count","has_child","computed","about","w2","rsu","f401k_match","f401k_contrib","f1099b_longterm","f1099b_shortterm","f1099misc","f1099r","f1099g","farm","f1099_div_qualified","f1099_div","f1099_int_taxfree","f1099_int","gambling_other","espp_discount","ira","hsa","fsa","utma_gain","income","pretax","magi","agi","tax_advantage_income","medical_dental_expense","standard_deduction","business_deduction","mortgage_interest","salt","charity_contribution","other_deduction","college_expense","early_withdrawal_penalty","investment_expense","f529_contribution","utma_contribution","roth_ira","itemized_deduction","medical_dental_qualification","medical_dental_allowed","deduction","standardized_deduction","std","res","itemize","eic","child_tax_credit","enable","dependent_credit","child_dependent_care_expense","premium_tax_credit","residential_energy_credit","ev_credit","foreign_tax_credit","total_tax_credit","taxcredit","taxable_income","toFixed","tax_amount","longterm_capgain","getTaxAmount","effective_tax_rate","due","ReadonlyIncomeInput","TaxCredit","taxCreditData","setTaxCreditData","useState","useEffect","temp","push","xmlns","width","height","fill","viewBox","d","renderChildElements","onClick","route","chartType","data","options","pieHole","is3D","titleTextStyle","fontName","fontSize"],"mappings":"6FAAA,gBAyFeA,IAtFMC,IAEpB,MA4DSC,EAAkBC,IACpB,IAAIC,EAAKD,EAAQE,MAAMC,gBACvBH,EAAQE,MAAMC,gBAAkB,OAChCC,YAAW,KACPJ,EAAQE,MAAMC,gBAAkBF,CAAE,GACnC,IAAI,EAGX,OACI,mBAAKI,MAAM,sBAAsBH,MAAM,4BACnC,mBAAKG,MAAM,oBACP,oBAAMA,MAAM,mBAAmBH,MAAM,+BAA+BJ,EAAMQ,OAC1E,mBAAKD,MAAM,oBACP,qBAAOE,SAzEVC,IACTA,EAAEC,iBACRX,EAAMY,MAAMC,QAAQC,OAASd,EAAMY,MAAMC,QAAQC,OAEV,IAA9Bd,EAAMY,MAAMC,QAAQC,MACnBd,EAAMY,MAAMG,IAAID,MAAQ,EAMhC,SAA0BJ,GACtB,IAAIM,EAASC,SAASC,iBAAiB,SACnCC,EASR,SAA2BH,EAAsCI,GAC7D,IAAIC,EAAM,EAEV,IAAI,IAAIC,EAAE,EAAGA,EAAEN,EAAOO,SAAUD,EAC5B,GAAGN,EAAOM,IAAMF,GAETE,IAAMN,EAAOO,OAAS,EAAG,CACxBF,EAAMC,EAAE,EACR,KACJ,CAGR,OAAOD,CACX,CAtByBG,CAAkBR,EAAQN,EAAEU,QACjDd,YAAW,KACP,IAAIJ,EAAUc,EAAOG,GACrBjB,EAAQuB,QACRvB,EAAQwB,QAAQ,GACjB,EAEP,CAbQC,CAAiBjB,EACrB,EAiEqCH,MAAM,wBAAwBqB,KAAK,WAAW,aAAW,oCAAoCC,QAAS7B,EAAMY,MAAMC,QAAQC,SAEvJ,oBAAMP,MAAM,oBAAkB,KAC9B,qBAAOuB,OAvCEpB,IACvB,MAAMR,EAAUQ,EAAEqB,cACZ,GAAqB,KAAlB7B,EAAQY,MACPZ,EAAQY,MAAQ,IAChBd,EAAMY,MAAMC,QAAQC,OAAQ,EAC5Bb,EAAeC,OACZ,CACH,IAAI8B,EAAMC,SAAS/B,EAAQY,OACxBkB,EAAMhC,EAAMkC,UACRF,EAAMhC,EAAMmC,WACXlC,EAAeC,GACfA,EAAQY,MAAQd,EAAMmC,WAEtBnC,EAAMY,MAAMG,IAAID,MAAQkB,GAG5B/B,EAAeC,GACfF,EAAMY,MAAMG,IAAID,MAAQ,EACxBd,EAAMY,MAAMC,QAAQC,OAAQ,EAEpC,GAmBoCc,KAAK,SAASd,MAAOd,EAAMY,MAAMG,IAAID,MAAO,aAAW,SAASP,MAAM,wBAAwB6B,UAAwC,IAA9BpC,EAAMY,MAAMC,QAAQC,QACxJ,oBAAMP,MAAM,oBAAkB,QAElC,qBAAOH,MAAM,oCAAoCJ,EAAMqC,aACrD,C,oCCrFd,gBAiBeC,IAfAtC,GAGP,mBAAKO,MAAM,sBAAsBH,MAAM,4BACnC,mBAAKG,MAAM,oBACP,oBAAMA,MAAM,mBAAmBH,MAAM,+BAA+BJ,EAAMQ,OAC1E,oBAAMD,MAAM,oBAAkB,KAC9B,qBAAQqB,KAAK,SAASW,GAAG,YAAYzB,MAAOd,EAAMY,MAAME,MAAO,aAAW,QAAQP,MAAM,wBAAwB6B,UAAU,IAC1H,oBAAM7B,MAAM,oBAAkB,QAElC,qBAAOH,MAAM,oCAAoCJ,EAAMqC,a,s+BCT5D,MAAMG,EAETC,oBAAoBC,EAAuBC,EAAyBC,GAEhE,IAAIC,EAAWL,EAAUM,cAAcF,GACvC,GAAGD,EAAkB,EAAG,CACpB,IAAII,EAA6BC,KAAKC,IAAIP,EAAgBC,EAAiB,GACvEO,EAAqBV,EAAUW,kBAAkBJ,EAA4BF,GAE7EO,EAAoBZ,EAAUa,mBAAmBT,GAErD,OAAOM,EADWV,EAAUc,iCAAiCZ,EAAeC,EAAiBS,EAGjG,CACI,OAAOZ,EAAUW,kBAAkBT,EAAeG,EAE1D,CAEAJ,yBAAyBC,EAAuBG,GAC5C,IAAIU,EAAM,EACNC,EAAe,EACfC,EAAYf,EAEhB,IAAI,IAAIpB,EAAE,EAAGA,EAAEuB,EAAStB,UACjBkC,GAAa,KADcnC,EAAG,CAGjC,IAAIoC,EAAeb,EAASvB,GAAG,GAC3BqC,EAAiBd,EAASvB,GAAG,GAE7BP,EAAMiC,KAAKY,IAAID,EAASH,EAAcC,GAC1C,GAAGnC,IAAMuB,EAAStB,OAAS,EAAG,CAC1BR,EAAM0C,EACNF,GAAOxC,GAAO2C,EAAO,KACrB,KACJ,CAEAH,GAAOxC,GAAO2C,EAAO,KACrBD,GAAcE,EAASH,EACvBA,EAAeG,CACnB,CACA,OAAOJ,CACX,CAEAd,wCAAwCC,EAAuBmB,EAAyBhB,GAEpF,IAAIU,EAAM,EACV,IAAI,IAAIjC,EAAE,EAAGA,EAAEuB,EAAStB,SAAUD,EAAG,CAKjC,GAFqBuB,EAASvB,GAAG,IAEpBoB,EAAe,CACxBa,EAAMM,GAJShB,EAASvB,GAAG,GAIK,KAChC,KACJ,CACJ,CACA,OAAOiC,CACX,CAEAd,0BAA0BG,GACtB,IAAIkB,EAA4B,GAEhC,OAAOlB,GACH,KAAK,EAAGkB,EAAgBtB,EAAUuB,+BAAgC,MAClE,KAAK,EAAGD,EAAgBtB,EAAUwB,yCAA0C,MAC5E,KAAK,EAAGF,EAAgBtB,EAAUyB,sCAAuC,MACzE,KAAK,EAAGH,EAAgBtB,EAAU0B,uCAGtC,OAAOJ,CACX,CAEArB,qBAAqBG,GACjB,IAAIkB,EAA4B,GAEhC,OAAOlB,GACH,KAAK,EAAGkB,EAAgBtB,EAAU2B,sBAAuB,MACzD,KAAK,EAAGL,EAAgBtB,EAAU4B,gCAAiC,MACnE,KAAK,EAAGN,EAAgBtB,EAAU6B,6BAA8B,MAChE,KAAK,EAAGP,EAAgBtB,EAAU8B,0BAGtC,OAAOR,CACX,EAiEH,EApJYtB,EAAS,wCAqF6B,CAC3C,CAAC,EAAG,OACJ,CAAC,GAAI,QACL,CAAC,GAAI+B,OAAOC,aACf,EAzFQhC,EAAS,2CA2FgC,CAC9C,CAAC,EAAG,OACJ,CAAC,GAAI,QACL,CAAC,GAAI+B,OAAOC,aACf,EA/FQhC,EAAS,iCAiGsB,CACpC,CAAC,EAAG,OACJ,CAAC,GAAI,QACL,CAAC,GAAI+B,OAAOC,aACf,EArGQhC,EAAS,yCAuG8B,CAC5C,CAAC,EAAG,OACJ,CAAC,GAAI,QACL,CAAC,GAAI+B,OAAOC,aACf,EA3GQhC,EAAS,+BA6GoB,CAClC,CAAC,GAAI,OACL,CAAC,GAAI,OACL,CAAC,GAAI,QACL,CAAC,GAAI,QACL,CAAC,GAAI,QACL,CAAC,GAAI,QACL,CAAC,GAAI+B,OAAOC,aACf,EArHQhC,EAAS,wBAuHa,CAC3B,CAAC,GAAI,OACL,CAAC,GAAI,OACL,CAAC,GAAI,OACL,CAAC,GAAI,QACL,CAAC,GAAI,QACL,CAAC,GAAI,QACL,CAAC,GAAI+B,OAAOC,aACf,EA/HQhC,EAAS,kCAiIuB,CACrC,CAAC,GAAI,OACL,CAAC,GAAI,OACL,CAAC,GAAI,OACL,CAAC,GAAI,QACL,CAAC,GAAI,QACL,CAAC,GAAI,QACL,CAAC,GAAI+B,OAAOC,aACf,EAzIQhC,EAAS,4BA2IiB,CAC/B,CAAC,GAAI,OACL,CAAC,GAAI,OACL,CAAC,GAAI,OACL,CAAC,GAAI,QACL,CAAC,GAAI,QACL,CAAC,GAAI,QACL,CAAC,GAAI+B,OAAOC,aClJb,MAAMC,GAoTZ,EApTYA,EAAM,QACK,CAChBC,cAAeC,YAAO,GACtBC,oBAAqBD,YAAO,GAC5BE,gBAAiBF,YAAO,GACxBG,UAAWC,aAAS,IALfN,EAMWO,MAAMJ,oBAAoB9D,MAAQ,GAN7C2D,EAMuDO,MAAMH,gBAAgB/D,MAAQ,MAE7F,EARQ2D,EAAM,SAUM,CACjBQ,GAAI,CACApE,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBO,IAAK,CACDrE,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBQ,YAAa,CACTtE,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBS,cAAe,CACXvE,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBU,gBAAiB,CACbxE,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBW,iBAAkB,CACdzE,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBY,UAAW,CACP1E,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBa,OAAQ,CACJ3E,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBc,OAAQ,CACJ5E,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBe,KAAM,CACF7E,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBgB,oBAAqB,CACjB9E,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBiB,UAAW,CACP/E,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBkB,kBAAmB,CACfhF,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBmB,UAAW,CACPjF,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBoB,eAAgB,CACZlF,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBqB,cAAe,CACXnF,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBsB,IAAM,CACFpF,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBuB,IAAM,CACFrF,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBwB,IAAM,CACFtF,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhByB,UAAY,CACRvF,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhB0B,OAAQtB,aAAS,IACN9C,SA5FNwC,EA4FoB4B,OAAOpB,GAAGlE,IAAID,OAASmB,SA5F3CwC,EA4FyD4B,OAAOnB,IAAInE,IAAID,OAASmB,SA5FjFwC,EA4F+F4B,OAAOlB,YAAYpE,IAAID,OACnHmB,SA7FHwC,EA6FiB4B,OAAOhB,gBAAgBtE,IAAID,OAASmB,SA7FrDwC,EA6FmE4B,OAAOf,iBAAiBvE,IAAID,OAASmB,SA7FxGwC,EA6FsH4B,OAAOR,kBAAkB9E,IAAID,OAChJmB,SA9FHwC,EA8FiB4B,OAAOZ,OAAO1E,IAAID,OAASmB,SA9F5CwC,EA8F0D4B,OAAOd,UAAUxE,IAAID,OAASmB,SA9FxFwC,EA8FsG4B,OAAOb,OAAOzE,IAAID,OACrHmB,SA/FHwC,EA+FiB4B,OAAOX,KAAK3E,IAAID,OAASmB,SA/F1CwC,EA+FwD4B,OAAOP,UAAU/E,IAAID,OAASmB,SA/FtFwC,EA+FoG4B,OAAOT,UAAU7E,IAAID,OACtHmB,SAhGHwC,EAgGiB4B,OAAOV,oBAAoB5E,IAAID,OAASmB,SAhGzDwC,EAgGuE4B,OAAON,eAAehF,IAAID,OAASmB,SAhG1GwC,EAgGwH4B,OAAOL,cAAcjF,IAAID,OAC9ImB,SAjGHwC,EAiGiB4B,OAAOD,UAAUrF,IAAID,SAE3CwF,OAAQvB,aAAS,IACN9C,SApGNwC,EAoGoB4B,OAAOF,IAAIpF,IAAID,OAASmB,SApG5CwC,EAoG0D4B,OAAOH,IAAInF,IAAID,OACtEmB,SArGHwC,EAqGiB4B,OAAOJ,IAAIlF,IAAID,OAAUmB,SArG1CwC,EAqGwD4B,OAAOR,kBAAkB9E,IAAID,OAClFmB,SAtGHwC,EAsGiB4B,OAAOlB,YAAYpE,IAAID,OAASmB,SAtGjDwC,EAsG+D4B,OAAOjB,cAAcrE,IAAID,OACrFmB,SAvGHwC,EAuGiB4B,OAAOD,UAAUrF,IAAID,SAE3CyF,KAAMxB,aAAS,IAzGVN,EA0GW4B,OAAOG,IAAMvE,SA1GxBwC,EA0GsC4B,OAAOR,kBAAkB9E,IAAID,SAExE0F,IAAKzB,aAAS,IA5GTN,EA6Ge4B,OAAOA,OA7GtB5B,EA6GoC4B,OAAOC,SAEhDG,qBAAsB1B,aAAS,IA/G1BN,EAgHe4B,OAAOC,OAASrE,SAhH/BwC,EAgH6C4B,OAAOL,cAAcjF,IAAID,OAC/DmB,SAjHPwC,EAiHqB4B,OAAOV,oBAAoB5E,IAAID,OAASmB,SAjH7DwC,EAiH2E4B,OAAOhB,gBAAgBtE,IAAID,WAE9G,EAnHQ2D,EAAM,YAqHS,CACpBiC,uBAAyB,CACrB7F,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBgC,mBAAqB,CACjB9F,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBiC,mBAAqB,CACjB/F,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBkC,kBAAoB,CAChBhG,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBmC,KAAO,CACHjG,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBoC,qBAAuB,CACnBlG,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBqC,gBAAkB,CACdnG,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAGhBsC,gBAAkB,CACdpG,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBuC,yBAA2B,CACvBrG,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBwC,mBAAqB,CACjBtG,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhByC,kBAAoB,CAChBvG,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhB0C,kBAAoB,CAChBxG,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhB2C,SAAW,CACPzG,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAGhB4C,mBAAoBxC,aAAS,KACzB,IAAIyC,EAA+B,KAAQ/C,EAAO4B,OAAOG,IAAI1F,MACzD2G,EAAyBzE,KAAKC,IAAI,EAAGhB,SA9KxCwC,EA8KsDiD,UAAUhB,uBAAuB3F,IAAID,OAAS0G,GAErG,OAAOvF,SAhLNwC,EAgLoBiD,UAAUd,mBAAmB7F,IAAID,OAAS2G,EAC3DxF,SAjLHwC,EAiLiBiD,UAAUb,kBAAkB9F,IAAID,OAAUmB,SAjL3DwC,EAiLyEiD,UAAUZ,KAAK/F,IAAID,OACzFmB,SAlLHwC,EAkLiBiD,UAAUX,qBAAqBhG,IAAID,OAASmB,SAlL7DwC,EAkL2EiD,UAAUT,gBAAgBlG,IAAID,OACtGmB,SAnLHwC,EAmLiBiD,UAAUR,yBAAyBnG,IAAID,OAASmB,SAnLjEwC,EAmL+EiD,UAAUP,mBAAmBpG,IAAID,OAC7GmB,SApLHwC,EAoLiBiD,UAAUV,gBAAgBjG,IAAID,MAAM,IAG1D6G,uBAAwB5C,aAAS,KAC7B,IAAI6C,EAAM,EAGV,OA3LCnD,EAyLiBO,MAAMN,cAAc5D,OAGlC,KAAK,EACL,KAAK,EAAG8G,EAAM,MAAO,MACrB,KAAK,EAAGA,EAAM,MAAO,MACrB,KAAK,EAAGA,EAAM,MAAO,MACrB,QAASA,EAAM,EAGnB,OAAOA,CAAG,IAEdF,UAAW3C,aAAS,KAChB,IAAI8C,EAAM,GACND,EAAM3F,SAvMTwC,EAuMuBiD,UAAUC,uBAAuB7G,OACrDgH,EAAU7F,SAxMbwC,EAwM2BiD,UAAUH,mBAAmBzG,OAOzD,OAJI+G,EADDD,EAAME,EACC,CAAC,qBAAqBF,GAEtB,CAAC,qBAAsBE,GAE1BD,CAAG,MAGjB,EAlNQpD,EAAM,YAoNS,CACpBsD,IAAM,CACFlH,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhBqD,iBAAkB,CACdnH,QAAS8D,aAAO,GAChB5D,IAAKgE,aAAS,KACV,IAAIkD,GAAS,EAETA,EADkC,IA7NzCxD,EA6NWO,MAAMN,cAAc5D,MA7N/B2D,EA8NsB4B,OAAOE,KAAO,IA9NpC9B,EAgOsB4B,OAAOE,KAAO,IAG9B0B,GAC6C,IApOnDxD,EAoOeO,MAAMJ,oBAAoB9D,QAC9BmH,GAAS,GAIjB,IAAIJ,EAAM,EAIV,OAHGI,IACCJ,EAA8C,IA3OrDpD,EA2OmBO,MAAMJ,oBAAoB9D,OAEnC+G,CAAG,KAGlBK,iBAAmB,CACfrH,QAAS8D,aAAO,GAChB5D,IAAKgE,aAAS,KACV,IAAIkD,GAAS,EAETA,EADiC,GApPxCxD,EAoPWO,MAAMN,cAAc5D,MApP/B2D,EAqPsB4B,OAAOE,KAAO,IArPpC9B,EAuPsB4B,OAAOE,KAAO,IAG9B0B,GACyC,IA3P/CxD,EA2PeO,MAAMH,gBAAgB/D,QAC1BmH,GAAS,GAIjB,IAAIJ,EAAM,EAIV,OAHGI,IACCJ,EAA0C,IAlQjDpD,EAkQmBO,MAAMH,gBAAgB/D,OAE/B+G,CAAG,KAGlBM,6BAA8B,CAC1BtH,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhByD,mBAAqB,CACjBvH,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhB0D,0BAA4B,CACxBxH,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhB2D,UAAY,CACRzH,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhB4D,mBAAqB,CACjB1H,QAAS8D,aAAO,GAChB5D,IAAK4D,YAAO,IAEhB6D,iBAAkBzD,aAAS,IAChB9C,SA5RNwC,EA4RoBgE,UAAUV,IAAIhH,IAAID,OAASmB,SA5R/CwC,EA4R6DgE,UAAUT,iBAAiBjH,IAAID,OACrFmB,SA7RPwC,EA6RqBgE,UAAUP,iBAAiBnH,IAAID,OAASmB,SA7R7DwC,EA6R2EgE,UAAUN,6BAA6BpH,IAAID,OAC/GmB,SA9RPwC,EA8RqBgE,UAAUL,mBAAmBrH,IAAID,OAASmB,SA9R/DwC,EA8R6EgE,UAAUJ,0BAA0BtH,IAAID,OAC9GmB,SA/RPwC,EA+RqBgE,UAAUH,UAAUvH,IAAID,OAASmB,SA/RtDwC,EA+RoEgE,UAAUF,mBAAmBxH,IAAID,WAG7G,EAlSQ2D,EAAM,MAoSI,CACfiE,eAAgB3D,aAAS,IACb/B,KAAKC,IAtSZwB,EAsSqB4B,OAAOG,IAAI1F,MAtShC2D,EAsS6CiD,UAAUA,UAAU5G,MAAM,GAAI,GAAI6H,QAAQ,KAE5FC,WAAY7D,aAAS,KACjB,IAAI8D,EAAmB5G,SAzStBwC,EAySoC4B,OAAOhB,gBAAgBtE,IAAID,OAASmB,SAzSxEwC,EAySsF4B,OAAOV,oBAAoB5E,IAAID,OACtH,OAAQ0B,EAAUsG,aA1SjBrE,EA0SmClB,IAAImF,eAAe5H,MAAO+H,EAAkBpE,EAAOO,MAAMN,cAAc5D,OAAQ6H,QAAQ,EAAE,IAEjII,mBAAoBhE,aAAS,KA5SxBN,EA6SalB,IAAIqF,WAAW9H,MA7S5B2D,EA6SyClB,IAAImF,eAAe5H,MAAS,KAAK6H,QAAQ,KAEvFK,IAAKjE,aAAS,KA/STN,EAgTYlB,IAAIqF,WAAW9H,MAhT3B2D,EAgTwCgE,UAAUD,iBAAiB1H,OAAO6H,QAAQ,M,iGChShFM,MAjBcjJ,GAGrB,mBAAKO,MAAM,sBAAsBH,MAAM,4BACnC,mBAAKG,MAAM,oBACP,oBAAMA,MAAM,mBAAmBH,MAAM,+BAA+BJ,EAAMQ,OAC1E,mBAAKD,MAAM,oBAAkB,MAE7B,oBAAMA,MAAM,oBAAkB,KAC9B,qBAAOqB,KAAK,SAASW,GAAG,UAAUzB,MAAOd,EAAMY,MAAMG,IAAID,MAAO,aAAW,SAASP,MAAM,wBAAwB6B,UAAU,IAC5H,oBAAM7B,MAAM,oBAAkB,QAElC,qBAAOH,MAAM,oCAAoCJ,EAAMqC,c,oCCuJpD6G,UA5JG,KACjB,MAAOC,EAAeC,GAAoBC,YAAS,CAAC,CAAC,SAAU,YAE/DC,aAAU,KACT,IAAItI,EAASC,SAASC,iBAAiB,SACpCF,EAAOO,OAAS,GAClBP,EAAO,GAAGS,OACX,GACE,IAEH6H,aAAU,KACT,IAAIC,EAAY,GAChBA,EAAKC,KAAK,CAAC,SAAU,WAElB/E,IAAOgE,UAAUV,IAAIhH,IAAID,MAAQ,GACnCyI,EAAKC,KAAK,CAAC,MAAOvH,SAASwC,IAAOgE,UAAUV,IAAIhH,IAAID,SAElD2D,IAAOgE,UAAUT,iBAAiBjH,IAAID,MAAQ,GAChDyI,EAAKC,KAAK,CAAC,mBAAoBvH,SAASwC,IAAOgE,UAAUT,iBAAiBjH,IAAID,SAE5E2D,IAAOgE,UAAUP,iBAAiBnH,IAAID,MAAQ,GAChDyI,EAAKC,KAAK,CAAC,uBAAwBvH,SAASwC,IAAOgE,UAAUP,iBAAiBnH,IAAID,SAEhF2D,IAAOgE,UAAUN,6BAA6BpH,IAAID,MAAQ,GAC5DyI,EAAKC,KAAK,CAAC,yBAA0BvH,SAASwC,IAAOgE,UAAUN,6BAA6BpH,IAAID,SAE9F2D,IAAOgE,UAAUL,mBAAmBrH,IAAID,MAAQ,GAClDyI,EAAKC,KAAK,CAAC,qBAAsBvH,SAASwC,IAAOgE,UAAUL,mBAAmBrH,IAAID,SAEhF2D,IAAOgE,UAAUJ,0BAA0BtH,IAAID,MAAQ,GACzDyI,EAAKC,KAAK,CAAC,4BAA6BvH,SAASwC,IAAOgE,UAAUJ,0BAA0BtH,IAAID,SAE9F2D,IAAOgE,UAAUH,UAAUvH,IAAID,MAAQ,GACzCyI,EAAKC,KAAK,CAAC,gBAAiBvH,SAASwC,IAAOgE,UAAUH,UAAUvH,IAAID,SAElE2D,IAAOgE,UAAUF,mBAAmBxH,IAAID,MAAQ,GAClDyI,EAAKC,KAAK,CAAC,qBAAsBvH,SAASwC,IAAOgE,UAAUF,mBAAmBxH,IAAID,SAEnFsI,EAAiBG,EAAK,GAEpB,CAAC9E,IAAOgE,UAAUD,iBAAiB1H,QAwDnC,OACF,mBAAKV,MAAM,iBACV,iBAAGA,MAAM,iBAET,mBAAKG,MAAM,aACV,uBAvCyB,MAC3B,IAAIL,EAAS,uBACT,sBACC,mBAAKuJ,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAerJ,MAAM,eAAesJ,QAAQ,aAC/G,oBAAMC,EAAE,onBACH,IACN,iDAED,mBAAKvJ,MAAM,yBACV,mBAAKA,MAAM,OACV,YAACR,EAAA,EAAW,CAACa,MAAO6D,IAAOgE,UAAUV,IAAKvH,MAAM,uBAAuB0B,UAAU,IAAIC,UAAU,OAC9FE,YAAY,0WAEd,mBAAK9B,MAAM,OACV,YAAC,EAAmB,CAACK,MAAO6D,IAAOgE,UAAUT,iBAAkBxH,MAAM,mBACpE6B,YAAY,0MAGf,mBAAK9B,MAAM,yBACV,mBAAKA,MAAM,OACV,YAAC,EAAmB,CAACK,MAAO6D,IAAOgE,UAAUP,iBAAkB1H,MAAM,yBACpE6B,YAAY,0OAEd,mBAAK9B,MAAM,OACV,YAACR,EAAA,EAAW,CAACa,MAAO6D,IAAOgE,UAAUN,6BAA8B3H,MAAM,yBAAyB0B,UAAU,IAAIC,UAAU,OACzHE,YAAY,0ZAInB,GAAGoC,IAAOO,MAAMF,UAAUhE,MACzB,OAAOZ,CACR,EASG6J,GACD,uBACA,sBACgB,mBAAKN,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,KAAK,eAAerJ,MAAM,wBAAwBsJ,QAAQ,aACzH,oBAAMC,EAAE,2fACJ,IACJ,0CAChB,mBAAKvJ,MAAM,yBACV,mBAAKA,MAAM,OACV,YAACR,EAAA,EAAW,CAACa,MAAO6D,IAAOgE,UAAUL,mBAAoB5H,MAAM,qBAAqB0B,UAAU,IAAIC,UAAU,SAC3GE,YAAY,mOAEd,mBAAK9B,MAAM,OACQ,YAACR,EAAA,EAAW,CAACa,MAAO6D,IAAOgE,UAAUF,mBAAoB/H,MAAM,qBAAqB0B,UAAU,IAAIC,UAAU,SAC7HE,YAAY,kGAGf,mBAAK9B,MAAM,yBACV,mBAAKA,MAAM,OACQ,YAACR,EAAA,EAAW,CAACa,MAAO6D,IAAOgE,UAAUH,UAAW9H,MAAM,gBAAgB0B,UAAU,IAAIC,UAAU,OACtFE,YAAY,iQAEvC,mBAAK9B,MAAM,OACQ,YAACR,EAAA,EAAW,CAACa,MAAO6D,IAAOgE,UAAUJ,0BAA2B7H,MAAM,4BAA4B0B,UAAU,IAAIC,UAAU,SAClHE,YAAY,uGAG5B,uBACX,sBAAQT,KAAK,SAASrB,MAAM,yBAAyByJ,QAAS,IAAKC,gBAAM,eAAc,mBAAyB,IAChH,sBAAQrI,KAAK,SAASrB,MAAM,yBAAyByJ,QAAS,IAAKC,gBAAM,cAAa,4BAEvF,uBACA,mBAAK1J,MAAM,yBACV,mBAAKA,MAAM,OACV,YAAC+B,EAAA,EAAK,CAAC1B,MAAO6D,IAAOgE,UAAUD,iBAAkBhI,MAAM,uBACtD6B,YAAY,2TAEd,mBAAK9B,MAAM,OACV,YAAC,IAAK,CACL2J,UAAU,WACVC,KAAMhB,EACNiB,QArGoB,CACzB5J,MAAO,uBACP6J,QAAS,GACTC,MAAM,EACNC,eAAgB,CACfC,SAAU,YACVC,SAAU,KAgGNf,MAAO,QACPC,OAAQ,aAIZ,uBAEK,C","file":"route-taxcredit.chunk.43976.esm.js","sourcesContent":["import { h } from 'preact';\r\nimport { useEffect } from 'preact/hooks';\r\n\r\nconst IncomeInput = (props: any) => {\r\n\r\n\tconst toggle = (e: Event) => {\r\n        e.preventDefault()\r\n\t\tprops.store.enabled.value = !props.store.enabled.value\r\n\r\n        if(props.store.enabled.value === false) {\r\n            props.store.amt.value = 0\r\n        } else {\r\n            focusNextElement(e)\r\n        }\r\n\t};\r\n\r\n    function focusNextElement(e: Event) { \r\n        let inputs = document.querySelectorAll('input')\r\n        let nextFocusIndex = getNextFocusIndex(inputs, e.target as HTMLElement)\r\n        setTimeout(() => {\r\n            let element = inputs[nextFocusIndex]\r\n            element.focus()\r\n            element.select()\r\n        }, 0)\r\n        \r\n    }\r\n\r\n    function getNextFocusIndex(inputs: NodeListOf<HTMLInputElement>, target: HTMLElement) {\r\n        let idx = 0\r\n\r\n        for(let i=0; i<inputs.length; ++i) {\r\n            if(inputs[i] == target) {\r\n                // found \r\n                if(i !== inputs.length - 1) {\r\n                    idx = i+1\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        return idx\r\n    }\r\n\r\n    const updateValue = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLInputElement\r\n        if(element.value === '') {\r\n            element.value = \"0\"\r\n            props.store.enabled.value = false\r\n            showErrorBlink(element)\r\n        } else {\r\n            let val = parseInt(element.value)\r\n            if(val > props.min_value) {\r\n                if(val > props.max_value) {\r\n                    showErrorBlink(element)\r\n                    element.value = props.max_value\r\n                } else {\r\n                    props.store.amt.value = val\r\n                }\r\n            } else {\r\n                showErrorBlink(element)\r\n                props.store.amt.value = 0\r\n                props.store.enabled.value = false    \r\n            }\r\n        }\r\n\t};\r\n\r\n    const showErrorBlink = (element: HTMLInputElement) => {\r\n        let bg = element.style.backgroundColor\r\n        element.style.backgroundColor = 'pink'\r\n        setTimeout(()=>{\r\n            element.style.backgroundColor = bg\r\n        }, 500)\r\n    }\r\n\r\n    return (\r\n        <div class=\"mb-3 border rounded\" style=\"width:450px;padding:5px;\">\r\n            <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" style=\"width:180px;font-size:10pt;\">{props.title}</span>\r\n                <div class=\"input-group-text\">\r\n                    <input onChange={toggle} class=\"form-check-input mt-0\" type=\"checkbox\" aria-label=\"Checkbox for following text input\" checked={props.store.enabled.value}/>\r\n                </div>\r\n                <span class=\"input-group-text\">$</span>\r\n                <input onBlur={updateValue} type=\"number\" value={props.store.amt.value} aria-label=\"Amount\" class=\"form-control text-end\" disabled={props.store.enabled.value === false}></input>\r\n                <span class=\"input-group-text\">.00</span>\r\n            </div>\r\n            <label style=\"font-size:11px;padding-left:4px;\">{props.description}</label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IncomeInput;","import { h } from 'preact';\r\n\r\nconst Total = (props: any) => {\r\n\r\n    return (\r\n        <div class=\"mb-3 border rounded\" style=\"width:450px;padding:5px;\">\r\n            <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" style=\"width:180px;font-size:10pt;\">{props.title}</span>\r\n                <span class=\"input-group-text\">$</span>\r\n                <input  type=\"number\" id=\"txt_total\" value={props.store.value} aria-label=\"Total\" class=\"form-control text-end\" disabled={true}></input>\r\n                <span class=\"input-group-text\">.00</span>\r\n            </div>\r\n            <label style=\"font-size:11px;padding-left:4px;\">{props.description}</label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Total;","\r\n\r\n\r\nexport class TaxConfig {\r\n\r\n    static getTaxAmount(taxableIncome: number, longtermCapgain: number, filingStatus: number) {\r\n\r\n        let brackets = TaxConfig.getTaxBracket(filingStatus)\r\n        if(longtermCapgain > 0) {\r\n            let taxableIncomeMinusLongTerm = Math.max(taxableIncome - longtermCapgain, 0)\r\n            let taxWithoutLongTerm = TaxConfig.getTaxWithBracket(taxableIncomeMinusLongTerm, brackets)\r\n\r\n            let longterm_brackets = TaxConfig.getLongTermBracket(filingStatus)\r\n            let longtermTax = TaxConfig.getLongTermCapGainTaxWithBracket(taxableIncome, longtermCapgain, longterm_brackets)\r\n            return taxWithoutLongTerm + longtermTax\r\n\r\n        } else {\r\n            return TaxConfig.getTaxWithBracket(taxableIncome, brackets)    \r\n        }\r\n    }\r\n\r\n    static getTaxWithBracket(taxableIncome: number, brackets: number[][]) {\r\n        let tax = 0\r\n        let prev_ceiling = 0\r\n        let remainder = taxableIncome\r\n\r\n        for(let i=0; i<brackets.length; ++i) {\r\n            if(remainder <= 0) break\r\n\r\n            let rate: number = brackets[i][0]\r\n            let ceilng: number = brackets[i][1]\r\n\r\n            let amt = Math.min(ceilng - prev_ceiling, remainder)\r\n            if(i === brackets.length - 1) { // last index\r\n                amt = remainder\r\n                tax += amt * (rate / 100)\r\n                break\r\n            }\r\n            \r\n            tax += amt * (rate / 100)\r\n            remainder -= (ceilng - prev_ceiling)\r\n            prev_ceiling = ceilng\r\n        }\r\n        return tax\r\n    }\r\n\r\n    static getLongTermCapGainTaxWithBracket(taxableIncome: number, longtermCapGain: number, brackets: number[][]) {\r\n\r\n        let tax = 0\r\n        for(let i=0; i<brackets.length; ++i) {\r\n          \r\n            let rate: number = brackets[i][0]\r\n            let ceilng: number = brackets[i][1]\r\n\r\n            if(ceilng >= taxableIncome) {\r\n                tax = longtermCapGain * (rate / 100)\r\n                break\r\n            }\r\n        }\r\n        return tax\r\n    }\r\n\r\n    static getLongTermBracket(filingStatus: number) : number[][] {\r\n        let bracket_array: number[][] = []\r\n        // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        switch(filingStatus) {\r\n            case 0: bracket_array = TaxConfig.single_filing_longterm_capgain; break;\r\n            case 1: bracket_array = TaxConfig.married_separate_filing_longterm_capgain; break;\r\n            case 2: bracket_array = TaxConfig.married_joint_filing_longterm_capgain; break;\r\n            case 3: bracket_array = TaxConfig.head_household_filing_longterm_capgain; break;\r\n            default: break\r\n        }\r\n        return bracket_array\r\n    }\r\n\r\n    static getTaxBracket(filingStatus: number) : number[][] {\r\n        let bracket_array: number[][] = []\r\n        // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        switch(filingStatus) {\r\n            case 0: bracket_array = TaxConfig.single_filing_bracket; break;\r\n            case 1: bracket_array = TaxConfig.married_separate_filing_bracket; break;\r\n            case 2: bracket_array = TaxConfig.married_joint_filing_bracket; break;\r\n            case 3: bracket_array = TaxConfig.head_of_household_bracket; break;\r\n            default: break\r\n        }\r\n        return bracket_array\r\n    }\r\n\r\n    static married_joint_filing_longterm_capgain = [\r\n        [0, 83350],\r\n        [15, 517200],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static married_separate_filing_longterm_capgain = [\r\n        [0, 41675],\r\n        [15, 258600],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static single_filing_longterm_capgain = [\r\n        [0, 41675],\r\n        [15, 459750],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static head_household_filing_longterm_capgain = [\r\n        [0, 55800],\r\n        [15, 488500],\r\n        [20, Number.MAX_VALUE]\r\n    ]\r\n\r\n    static married_joint_filing_bracket = [\r\n        [10, 20550],\r\n        [12, 83550],\r\n        [22, 178150],\r\n        [24, 340100],\r\n        [32, 431900],\r\n        [35, 647850],\r\n        [37, Number.MAX_VALUE]\r\n    ]\r\n        \r\n    static single_filing_bracket = [\r\n        [10, 10275],\r\n        [12, 41775],\r\n        [22, 89075],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 539900],\r\n        [37, Number.MAX_VALUE]\r\n    ]    \r\n\r\n    static married_separate_filing_bracket = [\r\n        [10, 10275],\r\n        [12, 41775],\r\n        [22, 89075],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 323925],\r\n        [37, Number.MAX_VALUE]\r\n    ]        \r\n\r\n    static head_of_household_bracket = [\r\n        [10, 14650],\r\n        [12, 55900],\r\n        [22, 89050],\r\n        [24, 170050],\r\n        [32, 215950],\r\n        [35, 539900],\r\n        [37, Number.MAX_VALUE]\r\n    ]  \r\n}","import { computed, signal } from \"@preact/signals\"\r\nimport { TaxConfig } from \"./taxconfig\"\r\n\r\nexport class Stores {\r\n    static about: any = {\r\n        filing_status: signal(0), // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n        child_under17_count: signal(0),// number of child dependent under 17\r\n        dependent_count: signal(0), // number of dependent over 17\r\n        has_child: computed(() => {\r\n            return this.about.child_under17_count.value > 0 || this.about.dependent_count.value > 0\r\n        })\r\n    }\r\n\r\n    static income: any = {\r\n        w2: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        rsu: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },        \r\n        f401k_match: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f401k_contrib: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099b_longterm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099b_shortterm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099misc: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        }, // misc, nec, rental\r\n        f1099r: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099g: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        farm: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_div_qualified: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_div: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_int_taxfree: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f1099_int: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        gambling_other: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        espp_discount: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        ira:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        hsa:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        fsa:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        utma_gain:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        income: computed(() => {\r\n            return parseInt(this.income.w2.amt.value) + parseInt(this.income.rsu.amt.value) + parseInt(this.income.f401k_match.amt.value) +\r\n                parseInt(this.income.f1099b_longterm.amt.value) + parseInt(this.income.f1099b_shortterm.amt.value) + parseInt(this.income.f1099_int_taxfree.amt.value) +\r\n                parseInt(this.income.f1099g.amt.value) + parseInt(this.income.f1099misc.amt.value) + parseInt(this.income.f1099r.amt.value) + \r\n                parseInt(this.income.farm.amt.value) + parseInt(this.income.f1099_int.amt.value) + parseInt(this.income.f1099_div.amt.value) + \r\n                parseInt(this.income.f1099_div_qualified.amt.value) + parseInt(this.income.gambling_other.amt.value) + parseInt(this.income.espp_discount.amt.value) +\r\n                parseInt(this.income.utma_gain.amt.value)\r\n        }),              \r\n        pretax: computed(() => {\r\n            return parseInt(this.income.fsa.amt.value) + parseInt(this.income.hsa.amt.value) +\r\n                parseInt(this.income.ira.amt.value) +  parseInt(this.income.f1099_int_taxfree.amt.value) +\r\n                parseInt(this.income.f401k_match.amt.value) + parseInt(this.income.f401k_contrib.amt.value) + \r\n                parseInt(this.income.utma_gain.amt.value)\r\n        }),\r\n        magi: computed(() => {\r\n            return this.income.agi + parseInt(this.income.f1099_int_taxfree.amt.value)\r\n        }),\r\n        agi: computed(() => {\r\n                return this.income.income - this.income.pretax\r\n        }),\r\n        tax_advantage_income: computed(() => {\r\n                return this.income.pretax + parseInt(this.income.espp_discount.amt.value) +\r\n                    parseInt(this.income.f1099_div_qualified.amt.value) + parseInt(this.income.f1099b_longterm.amt.value)\r\n        })\r\n    }\r\n\r\n    static deduction: any = {\r\n        medical_dental_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        standard_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        business_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        mortgage_interest:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        salt:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        charity_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        other_deduction:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n    \r\n        college_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        early_withdrawal_penalty:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        investment_expense:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        f529_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        utma_contribution:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        roth_ira:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },            \r\n\r\n        itemized_deduction: computed(() => {\r\n            let medical_dental_qualification = 0.075 * Stores.income.agi.value\r\n            let medical_dental_allowed = Math.max(0, parseInt(this.deduction.medical_dental_expense.amt.value) - medical_dental_qualification)\r\n            \r\n            return parseInt(this.deduction.business_deduction.amt.value) + medical_dental_allowed + \r\n                parseInt(this.deduction.mortgage_interest.amt.value) +  parseInt(this.deduction.salt.amt.value) +\r\n                parseInt(this.deduction.charity_contribution.amt.value) + parseInt(this.deduction.college_expense.amt.value) + \r\n                parseInt(this.deduction.early_withdrawal_penalty.amt.value) + parseInt(this.deduction.investment_expense.amt.value) +\r\n                parseInt(this.deduction.other_deduction.amt.value)\r\n        }),\r\n\r\n        standardized_deduction: computed(() => {\r\n            let std = 0\r\n            let filing = this.about.filing_status.value\r\n            // 0: single, 1: married separate filing, 2: married file jointly, 3: Head of household\r\n            switch(filing) {\r\n                case 0:\r\n                case 1: std = 12950; break;\r\n                case 2: std = 25900; break;\r\n                case 3: std = 19400; break;\r\n                default: std = 0; break;\r\n            }\r\n\r\n            return std\r\n        }),\r\n        deduction: computed(() => {\r\n            let res = []\r\n            let std = parseInt(this.deduction.standardized_deduction.value)\r\n            let itemize = parseInt(this.deduction.itemized_deduction.value)\r\n\r\n            if(std > itemize) {\r\n                res = ['Standard Deduction',std]\r\n            } else {\r\n                res = ['Itemized Deduction', itemize]\r\n            }\r\n            return res\r\n        })\r\n\r\n    }\r\n\r\n    static taxcredit: any = {\r\n        eic:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        child_tax_credit: {\r\n            enabled: signal(false),\r\n            amt: computed(() => {\r\n                let enable = false\r\n                if(this.about.filing_status.value === 2) {\r\n                    enable = (this.income.magi < 400000)\r\n                } else {\r\n                    enable = (this.income.magi < 200000)\r\n                }\r\n\r\n                if(enable) {\r\n                    if(this.about.child_under17_count.value === 0) {\r\n                        enable = false\r\n                    }\r\n                }\r\n\r\n                let res = 0\r\n                if(enable) {\r\n                    res = (this.about.child_under17_count.value * 2000)\r\n                }\r\n                return res\r\n            })\r\n        },  \r\n        dependent_credit:  {\r\n            enabled: signal(false),\r\n            amt: computed(() => {\r\n                let enable = false\r\n                if(this.about.filing_status.value == 2) {\r\n                    enable = (this.income.magi < 400000)\r\n                } else {\r\n                    enable = (this.income.magi < 200000)\r\n                }\r\n\r\n                if(enable) {\r\n                    if(this.about.dependent_count.value === 0) {\r\n                        enable = false\r\n                    }\r\n                }\r\n\r\n                let res = 0\r\n                if(enable) {\r\n                    res = (this.about.dependent_count.value * 500)\r\n                }\r\n                return res\r\n            })\r\n        },  \r\n        child_dependent_care_expense: {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        premium_tax_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        residential_energy_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        ev_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },  \r\n        foreign_tax_credit:  {\r\n            enabled: signal(false),\r\n            amt: signal(0),\r\n        },\r\n        total_tax_credit: computed(() => {\r\n            return parseInt(this.taxcredit.eic.amt.value) + parseInt(this.taxcredit.child_tax_credit.amt.value) + \r\n                    parseInt(this.taxcredit.dependent_credit.amt.value) + parseInt(this.taxcredit.child_dependent_care_expense.amt.value) + \r\n                    parseInt(this.taxcredit.premium_tax_credit.amt.value) + parseInt(this.taxcredit.residential_energy_credit.amt.value) + \r\n                    parseInt(this.taxcredit.ev_credit.amt.value) + parseInt(this.taxcredit.foreign_tax_credit.amt.value)\r\n\r\n        })\r\n    }\r\n\r\n    static tax : any = {\r\n        taxable_income: computed(() => {\r\n            return (Math.max(this.income.agi.value - this.deduction.deduction.value[1], 0)).toFixed(0)\r\n        }),\r\n        tax_amount: computed(() => {\r\n            let longterm_capgain = parseInt(this.income.f1099b_longterm.amt.value) + parseInt(this.income.f1099_div_qualified.amt.value)\r\n            return (TaxConfig.getTaxAmount(this.tax.taxable_income.value, longterm_capgain, Stores.about.filing_status.value)).toFixed(0)\r\n        }),\r\n        effective_tax_rate: computed(() => {\r\n            return ((this.tax.tax_amount.value / this.tax.taxable_income.value) * 100).toFixed(2)\r\n        }),\r\n        due: computed(() => {\r\n            return (this.tax.tax_amount.value - this.taxcredit.total_tax_credit.value).toFixed(0)\r\n        })\r\n    }\r\n    \r\n}\r\n","import { h } from 'preact';\r\n\r\nconst ReadonlyIncomeInput = (props: any) => {\r\n\r\n    return (\r\n        <div class=\"mb-3 border rounded\" style=\"width:450px;padding:5px;\">\r\n            <div class=\"input-group mb-3\">\r\n                <span class=\"input-group-text\" style=\"width:180px;font-size:10pt;\">{props.title}</span>\r\n                <div class=\"input-group-text\">&nbsp;&nbsp;\r\n                </div>\r\n                <span class=\"input-group-text\">$</span>\r\n                <input type=\"number\" id=\"txt_amt\" value={props.store.amt.value} aria-label=\"Amount\" class=\"form-control text-end\" disabled={true}></input>\r\n                <span class=\"input-group-text\">.00</span>\r\n            </div>\r\n            <label style=\"font-size:11px;padding-left:4px;\">{props.description}</label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ReadonlyIncomeInput;","import { h } from 'preact';\r\nimport { route } from 'preact-router';\r\nimport { useEffect, useState } from 'preact/hooks';\r\nimport IncomeInput from '../../components/IncomeInput';\r\nimport ReadonlyIncomeInput from '../../components/ReadonlyIncomeInput';\r\nimport Total from '../../components/Total';\r\nimport { Stores } from '../../stores/stores';\r\nimport { Chart } from \"react-google-charts\";\r\n\r\nconst TaxCredit = () => {\r\n\tconst [taxCreditData, setTaxCreditData] = useState([['income', 'amount']]);\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet inputs = document.querySelectorAll('input')\r\n\t\tif(inputs.length > 0) {\r\n\t\t\tinputs[0].focus()\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet temp: any = []\r\n\t\ttemp.push(['income', 'amount'])\r\n\t\t\r\n\t\tif(Stores.taxcredit.eic.amt.value > 0) {\r\n\t\t\ttemp.push(['EIC', parseInt(Stores.taxcredit.eic.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.child_tax_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['Child Tax Credit', parseInt(Stores.taxcredit.child_tax_credit.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.dependent_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['Dependent Tax Credit', parseInt(Stores.taxcredit.dependent_credit.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.child_dependent_care_expense.amt.value > 0) {\r\n\t\t\ttemp.push(['Dependent Care Expense', parseInt(Stores.taxcredit.child_dependent_care_expense.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.premium_tax_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['Premium Tax Credit', parseInt(Stores.taxcredit.premium_tax_credit.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.residential_energy_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['Residential Energy Credit', parseInt(Stores.taxcredit.residential_energy_credit.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.ev_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['EV Tax Credit', parseInt(Stores.taxcredit.ev_credit.amt.value)])\r\n\t\t}\r\n\t\tif(Stores.taxcredit.foreign_tax_credit.amt.value > 0) {\r\n\t\t\ttemp.push(['Foreign Tax Credit', parseInt(Stores.taxcredit.foreign_tax_credit.amt.value)])\r\n\t\t}\r\n\t\tsetTaxCreditData(temp)\r\n\r\n\t}, [Stores.taxcredit.total_tax_credit.value]);\r\n\r\n\tconst taxcredit_options = {\r\n\t\ttitle: \"Estimated Tax Credit\",\r\n\t\tpieHole: 0.5,\r\n\t\tis3D: false,\r\n\t\ttitleTextStyle: {\r\n\t\t\tfontName: 'Helvetica',\r\n\t\t\tfontSize: 14,\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleDependentCount = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLInputElement\r\n\t\tStores.about.dependent_count.value = parseInt(element.value)\r\n\t};\r\n\r\n\tconst handleTaxFiling = (e: Event) => {\r\n\t\tconst element = e.currentTarget as HTMLSelectElement\r\n\t\tStores.about.filing_status.value = parseInt(element.value)\r\n\t};\r\n\r\n\tconst renderChildElements = () => {\r\n\t\tlet element= <div>\r\n\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-people\" viewBox=\"0 0 16 16\">\r\n\t\t\t\t\t\t\t\t<path d=\"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z\"/>\r\n\t\t\t\t\t\t\t</svg>&nbsp;                    \r\n\t\t\t\t\t\t\t<i>child related deduction</i>\r\n\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t\t<IncomeInput store={Stores.taxcredit.eic} title=\"Earned income credit\" min_value=\"0\" max_value=\"7500\"\r\n\t\t\t\t\t\t\t\t\tdescription=\"The Earned Income Tax Credit (EITC) helps low- to moderate-income workers and families get a tax break. You cannot get EITC if you file jointly. To qualify for the EITC, you must: Have worked and earned income under $57,414. Have investment income below $10,000 in the tax year. The credit will be worth $600 to $7,430. People without children can qualify.\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t\t<ReadonlyIncomeInput store={Stores.taxcredit.child_tax_credit} title=\"Child tax credit\" \r\n\t\t\t\t\t\t\t\t\tdescription=\"This tax credit helps offset the costs of raising kids. For the 2022 tax year, people with kids under the age of 17 may be eligible to claim a tax credit of up to $2,000 per qualifying dependent.\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t\t<ReadonlyIncomeInput store={Stores.taxcredit.dependent_credit} title=\"Other dependent credit\" \r\n\t\t\t\t\t\t\t\t\tdescription=\"This credit has been calculated for you: it is for dependents who do not qualify for the Child Tax Credit and is worth up to $500 per person. Generally, these dependents are other relatives, such as a grandchild or niece/nephew.\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t\t<IncomeInput store={Stores.taxcredit.child_dependent_care_expense} title=\"Dependent care expense\" min_value=\"0\" max_value=\"8000\"\r\n\t\t\t\t\t\t\t\t\tdescription=\"The Child and Dependent Care Credit provides a tax break for many parents who are responsible for the cost of childcare. Your actual Child and Dependent Expense Amount is used and e-Filed via Form 2441 to determine the Child and Dependent Care Tax Credit Amount. The maximum amount of your credit for 2022 will be $8k. Child and Dependent Care Tax Credit is different from the regular Child Tax Credit.\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\tif(Stores.about.has_child.value) {\r\n\t\t\treturn element\r\n\t\t}\r\n\t}\r\n\r\n    return (\r\n\t\t<div style=\"padding:10px;\">\r\n\t\t\t<p style=\"height:50px;\"/> \r\n\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<hr/>\r\n\t\t\t\t{renderChildElements()}\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<h6>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-currency-dollar\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z\"/>\r\n                  </svg>&nbsp;                    \r\n                    <i>other tax credit</i></h6>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<IncomeInput store={Stores.taxcredit.premium_tax_credit} title=\"Premium tax credit\" min_value=\"0\" max_value=\"500000\"\r\n\t\t\t\t\t\t\tdescription=\"Health Exchange will send you a Health Insurance statement via Form 1095-A following the year of coverage. Your tax credit is based on the income estimate and household information you put on your Marketplace application.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.taxcredit.foreign_tax_credit} title=\"Foreign tax credit\" min_value=\"0\" max_value=\"500000\"\r\n\t\t\t\t\t\t\tdescription=\"If you are paying tax abroad, those tax are credit to you so that you don't get double tax.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.taxcredit.ev_credit} title=\"EV tax credit\" min_value=\"0\" max_value=\"7500\"\r\n                                description=\"All electric and plug-in hybrid vehicles that were purchased new in or after 2010 may be eligible for a federal income tax credit of up to $7.5k. There are specific rules about how much can be credited based on your income, the EV maker and much more.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n                        <IncomeInput store={Stores.taxcredit.residential_energy_credit} title=\"Residential Energy credit\" min_value=\"0\" max_value=\"500000\"\r\n                                description=\"Worth up to 26% of the total cost of installing qualified renewable energy sources in your home.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n                <hr/>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() =>route('/deduction')}>Back: Deduction</button>&nbsp;\r\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-lg btn-success\" onClick={() =>route('/analysis')}>Next: Summary & Analysis</button>\t\t\t\t\r\n\r\n\t\t\t\t<hr/>\r\n\t\t\t\t<div class=\"row align-items-start\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<Total store={Stores.taxcredit.total_tax_credit} title=\"Estimated Tax Credit\" \r\n\t\t\t\t\t\t\tdescription=\"Tax credits reduce the amount of income tax you owe to the federal. Credits are generally designed to encourage or reward certain types of behavior that are considered beneficial to the economy, the environment or to further any other purpose the government deems important. This is for modeling purpose only.\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<Chart\r\n\t\t\t\t\t\t\tchartType=\"PieChart\"\r\n\t\t\t\t\t\t\tdata={taxCreditData}\r\n\t\t\t\t\t\t\toptions={taxcredit_options}\r\n\t\t\t\t\t\t\twidth={\"450px\"}\r\n\t\t\t\t\t\t\theight={\"350px\"}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\r\n\t\t\t</div>\r\n\t\t\t<br/>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t\r\n\t);\r\n};\r\n\r\nexport default TaxCredit;\r\n"],"sourceRoot":""}