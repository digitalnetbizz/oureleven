{"version":3,"sources":["webpack:///../src/index.ts","webpack:///../src/index.js","webpack:///../src/util.js","webpack:///../src/PureComponent.js","webpack:///../src/suspense.js","webpack:///../src/suspense-list.js","webpack:///../src/render.js","webpack:///../src/hooks/useLoadGoogleCharts.ts","webpack:///../src/hooks/useLoadScript.ts","webpack:///../src/forwardRef.js","webpack:///../src/default-props.ts","webpack:///../src/generate-unique-id.ts","webpack:///../src/constants.ts","webpack:///../src/Context.tsx","webpack:///../src/components/GoogleChartDataTable.tsx","webpack:///../src/load-data-table-from-spreadsheet.ts","webpack:///../src/components/GoogleChartEvents.tsx","webpack:///../src/components/GoogleChart.tsx","webpack:///../src/ReactGoogleCharts.tsx","webpack:///../src/types.ts"],"names":["cycleDetected","batchDepth","error","hasError","batchedEffect","effect","batchIteration","next","_nextBatchedEffect","_flags","needsToRecompute","_callback","err","callback","endBatch","signal","evalContext","node","_node","_target","_sources","_version","_source","_prevSource","_nextSource","_prevTarget","_nextTarget","_rollbackNode","_subscribe","value","this","_value","_targets","Signal","target","_refresh","rollbackNode","sources","_unsubscribe","compute","call","_compute","_globalVersion","globalVersion","Computed","cleanupEffect","cleanup","_cleanup","prevContext","disposeEffect","endEffect","cleanupSources","Effect","_dispose","bind","hook","hookName","hookFn","options","updater","finishUpdate","_start","_ref","data","currentSignal","useMemo","useSignal","s","v","_this","__v","__","__c","_updateFlags","_updater","base","peek","computed","createPropUpdater","dom","prop","propSignal","props","setAsProperty","ownerSVGElement","changeSignal","_update","newSignal","newProps","setAttribute","removeAttribute","currentComponent","prototype","prev","subscribe","fn","flag","valueOf","toString","Object","defineProperty","get","addDependency","set","_notify","prepareSources","OUTDATED","finish","Text","displayName","defineProperties","constructor","configurable","type","__b","old","vnode","i","signalProps","__np","setCurrentUpdater","component","setState","oldVNode","__e","renderedProps","updaters","_updaters","index","Component","shouldComponentUpdate","state","HAS_PENDING_UPDATE","getHookState","__h","currentHook","hooks","__H","length","push","__V","EMPTY","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","currentIndex","_reducer","currentValue","__N","nextValue","action","_hasScuFromHooks","prevScu","p","c","stateHooks","filter","x","every","shouldUpdate","forEach","hookItem","useEffect","args","__s","argsChanged","_pendingArgs","useLayoutEffect","useRef","initialValue","current","useImperativeHandle","ref","createHandle","concat","factory","useCallback","useContext","context","provider","sub","useDebugValue","formatter","useId","root","__m","mask","flushAfterPaintEffects","afterPaintEffects","shift","invokeCleanup","invokeEffect","e","afterNextFrame","raf","done","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","setTimeout","requestAnimationFrame","comp","oldArgs","newArgs","some","arg","f","previousComponent","prevRaf","oldBeforeDiff","oldBeforeRender","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","commitQueue","cb","hasErrored","assign","obj","shallowDiffers","a","b","PureComponent","detachedClone","detachedParent","parentDom","__k","map","child","removeOriginal","originalParent","insertBefore","__d","Suspense","_suspenders","suspended","__a","SuspenseList","_next","_map","empty","isPropagationStopped","cancelBubble","isDefaultPrevented","defaultPrevented","useLoadGoogleCharts","param","chartVersion","chartPackages","chartLanguage","mapsApiKey","googleCharts","setGoogleCharts","failed","setFailed","src","onLoad","onError","google","window","charts","load","packages","language","setOnLoadCallback","document","foundScript","querySelector","dataset","loaded","script","createElement","onLoadWithMarker","addEventListener","head","append","removeEventListener","LoadGoogleCharts","params","isPureReactComponent","oldDiffHook","__f","Symbol","for","REACT_FORWARD_SYMBOL","oldCatchError","newVNode","errorInfo","then","oldUnmount","__R","promise","suspendingVNode","suspendingComponent","resolve","resolved","onResolved","onSuspensionComplete","__u","suspendedVNode","pop","forceUpdate","wasHydrating","componentWillUnmount","render","detachedComponent","__P","fallback","Fragment","children","list","delete","revealOrder","size","delegated","unsuspend","wrappedUnsuspend","Map","toChildArray","reverse","componentDidUpdate","componentDidMount","REACT_ELEMENT_TYPE","CAMEL_PROPS","IS_DOM","onChangeInputType","test","isReactComponent","key","writable","oldEventHook","event","persist","nativeEvent","classNameDescriptor","class","oldVNodeHook","normalizedProps","nonCustomElement","indexOf","toLowerCase","replace","multiple","Array","isArray","selected","defaultValue","className","enumerable","$$typeof","__r","chartDefaultProps","legend_toggle","legendToggle","getChartWrapper","spreadSheetQueryParameters","headers","gid","rootProps","chartWrapperParams","uniqueID","DEFAULT_CHART_COLORS","Provider","Consumer","React","ContextProvider","ContextConsumer","GoogleChartDataTableInner","draw","onResize","listenToLegendToggle","googleChartWrapper","visualization","events","removeAllListeners","getChartType","getChart","clearChart","hiddenColumns","addListener","selection","getSelection","dataTable","getDataTable","row","columnID","getColumnID","column","includes","colID","applyFormatters","formatters","ArrowFormat","format","BarFormat","vizFormatter","ColorFormat","ranges","range","addRange","DateFormat","NumberFormat","PatternFormat","columnIndex","getColumnId","getColumnLabel","async","diffdata","rows","columns","chartType","spreadSheetUrl","chartDiff","oldData","arrayToDataTable","newData","new","computeDiff","DataTable","googleViz","urlParams","Promise","reject","queryString","query","encodeURIComponent","sheet","access_token","urlQueryString","urlToSpreadSheet","Query","send","response","isError","getMessage","getDetailedMessage","loadDataTableFromSpreadSheet","columnCount","getNumberOfColumns","previousColumnLabel","previousColumnID","previousColumnType","getColumnType","removeColumn","addColumn","label","id","chart","setChartType","setOptions","setDataTable","googleChartDashboard","grayOutHiddenColumns","colors","from","dontcare","GoogleChartDataTable","GoogleChartEvents","listenToEvents","chartEvents","eventName","chartWrapper","eventArgs","propsFromContext","controlCounter","GoogleChart","toolbarItems","getChartEditor","chartConfig","containerId","getGraphID","ChartWrapper","Dashboard","dashboard_ref","googleChartControls","addControls","drawToolbar","toolbar_ref","googleChartEditor","ChartEditor","chartEditor","isReady","controls","controlType","controlWrapperParams","control","setControlType","nextProps","nextState","width","height","style","divStyle","div","renderChart","renderControl","renderToolbar","renderToolBar","controlProp","controlPosition","graphID","graph_id","instanceGraphID","getControlID","controlID","controlIDMaybe","controlOptions","ControlWrapper","chartControl","controlEvents","removeListener","controlWrapper","getContainerId","Chart","loader","errorElement","loadingStatus","_isMounted","isFullyLoaded","onSuccess","setInterval","clearInterval","defaultProps","GoogleDataTableColumnRoleType","annotation","annotationText","certainty","emphasis","interval","scope","tooltip","domain"],"mappings":"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","file":"vendors~route-analysis~route-deduction~route-income~route-taxcredit.chunk.a8cc0.esm.js","sourcesContent":["import { options, Component } from \"preact\";\nimport { useRef, useMemo, useEffect } from \"preact/hooks\";\nimport {\n\tsignal,\n\tcomputed,\n\tbatch,\n\teffect,\n\tSignal,\n\ttype ReadonlySignal,\n} from \"@preact/signals-core\";\nimport {\n\tVNode,\n\tOptionsTypes,\n\tHookFn,\n\tEffect,\n\tPropertyUpdater,\n\tAugmentedComponent,\n\tAugmentedElement as Element,\n} from \"./internal\";\n\nexport { signal, computed, batch, effect, Signal, type ReadonlySignal };\n\nconst HAS_PENDING_UPDATE = 1 << 0;\nconst HAS_HOOK_STATE = 1 << 1;\nconst HAS_COMPUTEDS = 1 << 2;\n\n// Install a Preact options hook\nfunction hook<T extends OptionsTypes>(hookName: T, hookFn: HookFn<T>) {\n\t// @ts-ignore-next-line private options hooks usage\n\toptions[hookName] = hookFn.bind(null, options[hookName] || (() => {}));\n}\n\nlet currentComponent: AugmentedComponent | undefined;\nlet finishUpdate: (() => void) | undefined;\n\nfunction setCurrentUpdater(updater?: Effect) {\n\t// end tracking for the current update:\n\tif (finishUpdate) finishUpdate();\n\t// start tracking the new update:\n\tfinishUpdate = updater && updater._start();\n}\n\nfunction createUpdater(update: () => void) {\n\tlet updater!: Effect;\n\teffect(function (this: Effect) {\n\t\tupdater = this;\n\t});\n\tupdater._callback = update;\n\treturn updater;\n}\n\n/** @todo This may be needed for complex prop value detection. */\n// function isSignalValue(value: any): value is Signal {\n// \tif (typeof value !== \"object\" || value == null) return false;\n// \tif (value instanceof Signal) return true;\n// \t// @TODO: uncomment this when we land Reactive (ideally behind a brand check)\n// \t// for (let i in value) if (value[i] instanceof Signal) return true;\n// \treturn false;\n// }\n\n/**\n * A wrapper component that renders a Signal directly as a Text node.\n * @todo: in Preact 11, just decorate Signal with `type:null`\n */\nfunction Text(this: AugmentedComponent, { data }: { data: Signal }) {\n\t// hasComputeds.add(this);\n\n\t// Store the props.data signal in another signal so that\n\t// passing a new signal reference re-runs the text computed:\n\tconst currentSignal = useSignal(data);\n\tcurrentSignal.value = data;\n\n\tconst s = useMemo(() => {\n\t\t// mark the parent component as having computeds so it gets optimized\n\t\tlet v = this.__v;\n\t\twhile ((v = v.__!)) {\n\t\t\tif (v.__c) {\n\t\t\t\tv.__c._updateFlags |= HAS_COMPUTEDS;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Replace this component's vdom updater with a direct text one:\n\t\tthis._updater!._callback = () => {\n\t\t\t(this.base as Text).data = s.peek();\n\t\t};\n\n\t\treturn computed(() => {\n\t\t\tlet data = currentSignal.value;\n\t\t\tlet s = data.value;\n\t\t\treturn s === 0 ? 0 : s === true ? \"\" : s || \"\";\n\t\t});\n\t}, []);\n\n\treturn s.value;\n}\nText.displayName = \"_st\";\n\nObject.defineProperties(Signal.prototype, {\n\tconstructor: { configurable: true },\n\ttype: { configurable: true, value: Text },\n\tprops: {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn { data: this };\n\t\t},\n\t},\n\t// Setting a VNode's _depth to 1 forces Preact to clone it before modifying:\n\t// https://github.com/preactjs/preact/blob/d7a433ee8463a7dc23a05111bb47de9ec729ad4d/src/diff/children.js#L77\n\t// @todo remove this for Preact 11\n\t__b: { configurable: true, value: 1 },\n});\n\n/** Inject low-level property/attribute bindings for Signals into Preact's diff */\nhook(OptionsTypes.DIFF, (old, vnode) => {\n\tif (typeof vnode.type === \"string\") {\n\t\tlet signalProps: Record<string, any> | undefined;\n\n\t\tlet props = vnode.props;\n\t\tfor (let i in props) {\n\t\t\tif (i === \"children\") continue;\n\n\t\t\tlet value = props[i];\n\t\t\tif (value instanceof Signal) {\n\t\t\t\tif (!signalProps) vnode.__np = signalProps = {};\n\t\t\t\tsignalProps[i] = value;\n\t\t\t\tprops[i] = value.peek();\n\t\t\t}\n\t\t}\n\t}\n\n\told(vnode);\n});\n\n/** Set up Updater before rendering a component */\nhook(OptionsTypes.RENDER, (old, vnode) => {\n\tsetCurrentUpdater();\n\n\tlet updater;\n\n\tlet component = vnode.__c;\n\tif (component) {\n\t\tcomponent._updateFlags &= ~HAS_PENDING_UPDATE;\n\n\t\tupdater = component._updater;\n\t\tif (updater === undefined) {\n\t\t\tcomponent._updater = updater = createUpdater(() => {\n\t\t\t\tcomponent._updateFlags |= HAS_PENDING_UPDATE;\n\t\t\t\tcomponent.setState({});\n\t\t\t});\n\t\t}\n\t}\n\n\tcurrentComponent = component;\n\tsetCurrentUpdater(updater);\n\told(vnode);\n});\n\n/** Finish current updater if a component errors */\nhook(OptionsTypes.CATCH_ERROR, (old, error, vnode, oldVNode) => {\n\tsetCurrentUpdater();\n\tcurrentComponent = undefined;\n\told(error, vnode, oldVNode);\n});\n\n/** Finish current updater after rendering any VNode */\nhook(OptionsTypes.DIFFED, (old, vnode) => {\n\tsetCurrentUpdater();\n\tcurrentComponent = undefined;\n\n\tlet dom: Element;\n\n\t// vnode._dom is undefined during string rendering,\n\t// so we use this to skip prop subscriptions during SSR.\n\tif (typeof vnode.type === \"string\" && (dom = vnode.__e as Element)) {\n\t\tlet props = vnode.__np;\n\t\tlet renderedProps = vnode.props;\n\t\tif (props) {\n\t\t\tlet updaters = dom._updaters;\n\t\t\tif (updaters) {\n\t\t\t\tfor (let prop in updaters) {\n\t\t\t\t\tlet updater = updaters[prop];\n\t\t\t\t\tif (updater !== undefined && !(prop in props)) {\n\t\t\t\t\t\tupdater._dispose();\n\t\t\t\t\t\t// @todo we could just always invoke _dispose() here\n\t\t\t\t\t\tupdaters[prop] = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tupdaters = {};\n\t\t\t\tdom._updaters = updaters;\n\t\t\t}\n\t\t\tfor (let prop in props) {\n\t\t\t\tlet updater = updaters[prop];\n\t\t\t\tlet signal = props[prop];\n\t\t\t\tif (updater === undefined) {\n\t\t\t\t\tupdater = createPropUpdater(dom, prop, signal, renderedProps);\n\t\t\t\t\tupdaters[prop] = updater;\n\t\t\t\t} else {\n\t\t\t\t\tupdater._update(signal, renderedProps);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\told(vnode);\n});\n\nfunction createPropUpdater(\n\tdom: Element,\n\tprop: string,\n\tpropSignal: Signal,\n\tprops: Record<string, any>\n): PropertyUpdater {\n\tconst setAsProperty =\n\t\tprop in dom &&\n\t\t// SVG elements need to go through `setAttribute` because they\n\t\t// expect things like SVGAnimatedTransformList instead of strings.\n\t\t// @ts-ignore\n\t\tdom.ownerSVGElement === undefined;\n\n\tconst changeSignal = signal(propSignal);\n\treturn {\n\t\t_update: (newSignal: Signal, newProps: typeof props) => {\n\t\t\tchangeSignal.value = newSignal;\n\t\t\tprops = newProps;\n\t\t},\n\t\t_dispose: effect(() => {\n\t\t\tconst value = changeSignal.value.value;\n\t\t\t// If Preact just rendered this value, don't render it again:\n\t\t\tif (props[prop] === value) return;\n\t\t\tprops[prop] = value;\n\t\t\tif (setAsProperty) {\n\t\t\t\t// @ts-ignore-next-line silly\n\t\t\t\tdom[prop] = value;\n\t\t\t} else if (value) {\n\t\t\t\tdom.setAttribute(prop, value);\n\t\t\t} else {\n\t\t\t\tdom.removeAttribute(prop);\n\t\t\t}\n\t\t}),\n\t};\n}\n\n/** Unsubscribe from Signals when unmounting components/vnodes */\nhook(OptionsTypes.UNMOUNT, (old, vnode: VNode) => {\n\tif (typeof vnode.type === \"string\") {\n\t\tlet dom = vnode.__e as Element | undefined;\n\t\t// vnode._dom is undefined during string rendering\n\t\tif (dom) {\n\t\t\tconst updaters = dom._updaters;\n\t\t\tif (updaters) {\n\t\t\t\tdom._updaters = undefined;\n\t\t\t\tfor (let prop in updaters) {\n\t\t\t\t\tlet updater = updaters[prop];\n\t\t\t\t\tif (updater) updater._dispose();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tlet component = vnode.__c;\n\t\tif (component) {\n\t\t\tconst updater = component._updater;\n\t\t\tif (updater) {\n\t\t\t\tcomponent._updater = undefined;\n\t\t\t\tupdater._dispose();\n\t\t\t}\n\t\t}\n\t}\n\told(vnode);\n});\n\n/** Mark components that use hook state so we can skip sCU optimization. */\nhook(OptionsTypes.HOOK, (old, component, index, type) => {\n\tif (type < 3)\n\t\t(component as AugmentedComponent)._updateFlags |= HAS_HOOK_STATE;\n\told(component, index, type);\n});\n\n/**\n * Auto-memoize components that use Signals/Computeds.\n * Note: Does _not_ optimize components that use hook/class state.\n */\nComponent.prototype.shouldComponentUpdate = function (\n\tthis: AugmentedComponent,\n\tprops,\n\tstate\n) {\n\t// @todo: Once preactjs/preact#3671 lands, this could just use `currentUpdater`:\n\tconst updater = this._updater;\n\tconst hasSignals = updater && updater._sources !== undefined;\n\n\t// let reason;\n\t// if (!hasSignals && !hasComputeds.has(this)) {\n\t// \treason = \"no signals or computeds\";\n\t// } else if (hasPendingUpdate.has(this)) {\n\t// \treason = \"has pending update\";\n\t// } else if (hasHookState.has(this)) {\n\t// \treason = \"has hook state\";\n\t// }\n\t// if (reason) {\n\t// \tif (!this) reason += \" (`this` bug)\";\n\t// \tconsole.log(\"not optimizing\", this?.constructor?.name, \": \", reason, {\n\t// \t\tdetails: {\n\t// \t\t\thasSignals,\n\t// \t\t\thasComputeds: hasComputeds.has(this),\n\t// \t\t\thasPendingUpdate: hasPendingUpdate.has(this),\n\t// \t\t\thasHookState: hasHookState.has(this),\n\t// \t\t\tdeps: Array.from(updater._deps),\n\t// \t\t\tupdater,\n\t// \t\t},\n\t// \t});\n\t// }\n\n\t// if this component used no signals or computeds, update:\n\tif (!hasSignals && !(this._updateFlags & HAS_COMPUTEDS)) return true;\n\n\t// if there is a pending re-render triggered from Signals,\n\t// or if there is hook or class state, update:\n\tif (this._updateFlags & (HAS_PENDING_UPDATE | HAS_HOOK_STATE)) return true;\n\n\t// @ts-ignore\n\tfor (let i in state) return true;\n\n\t// if any non-Signal props changed, update:\n\tfor (let i in props) {\n\t\tif (i !== \"__source\" && props[i] !== this.props[i]) return true;\n\t}\n\tfor (let i in this.props) if (!(i in props)) return true;\n\n\t// this is a purely Signal-driven component, don't update:\n\treturn false;\n};\n\nexport function useSignal<T>(value: T) {\n\treturn useMemo(() => signal<T>(value), []);\n}\n\nexport function useComputed<T>(compute: () => T) {\n\tconst $compute = useRef(compute);\n\t$compute.current = compute;\n\t(currentComponent as AugmentedComponent)._updateFlags |= HAS_COMPUTEDS;\n\treturn useMemo(() => computed<T>(() => $compute.current()), []);\n}\n\nexport function useSignalEffect(cb: () => void | (() => void)) {\n\tconst callback = useRef(cb);\n\tcallback.current = cb;\n\n\tuseEffect(() => {\n\t\treturn effect(() => {\n\t\t\tcallback.current();\n\t\t});\n\t}, []);\n}\n\n/**\n * @todo Determine which Reactive implementation we'll be using.\n * @internal\n */\n// export function useReactive<T extends object>(value: T): Reactive<T> {\n// \treturn useMemo(() => reactive<T>(value), []);\n// }\n\n/**\n * @internal\n * Update a Reactive's using the properties of an object or other Reactive.\n * Also works for Signals.\n * @example\n *   // Update a Reactive with Object.assign()-like syntax:\n *   const r = reactive({ name: \"Alice\" });\n *   update(r, { name: \"Bob\" });\n *   update(r, { age: 42 }); // property 'age' does not exist in type '{ name?: string }'\n *   update(r, 2); // '2' has no properties in common with '{ name?: string }'\n *   console.log(r.name.value); // \"Bob\"\n *\n * @example\n *   // Update a Reactive with the properties of another Reactive:\n *   const A = reactive({ name: \"Alice\" });\n *   const B = reactive({ name: \"Bob\", age: 42 });\n *   update(A, B);\n *   console.log(`${A.name} is ${A.age}`); // \"Bob is 42\"\n *\n * @example\n *   // Update a signal with assign()-like syntax:\n *   const s = signal(42);\n *   update(s, \"hi\"); // Argument type 'string' not assignable to type 'number'\n *   update(s, {}); // Argument type '{}' not assignable to type 'number'\n *   update(s, 43);\n *   console.log(s.value); // 43\n *\n * @param obj The Reactive or Signal to be updated\n * @param update The value, Signal, object or Reactive to update `obj` to match\n * @param overwrite If `true`, any properties `obj` missing from `update` are set to `undefined`\n */\n/*\nexport function update<T extends SignalOrReactive>(\n\tobj: T,\n\tupdate: Partial<Unwrap<T>>,\n\toverwrite = false\n) {\n\tif (obj instanceof Signal) {\n\t\tobj.value = peekValue(update);\n\t} else {\n\t\tfor (let i in update) {\n\t\t\tif (i in obj) {\n\t\t\t\tobj[i].value = peekValue(update[i]);\n\t\t\t} else {\n\t\t\t\tlet sig = signal(peekValue(update[i]));\n\t\t\t\tsig[KEY] = i;\n\t\t\t\tobj[i] = sig;\n\t\t\t}\n\t\t}\n\t\tif (overwrite) {\n\t\t\tfor (let i in obj) {\n\t\t\t\tif (!(i in update)) {\n\t\t\t\t\tobj[i].value = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n*/\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional arugment that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function(error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function(vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function(promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function() {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function(props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function(child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function(props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate = SuspenseList.prototype.componentDidMount = function() {\n\t// Iterate through all children after mounting for two reasons:\n\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t//    The nodes can now be completely consumed from the linked list.\n\t// 2. Handle nodes that might have gotten resolved between render and\n\t//    componentDidMount.\n\tthis._map.forEach((node, child) => {\n\t\tresolve(this, child, node);\n\t});\n};\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/i\n\t\t: /fil|che|ra/i\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nlet classNameDescriptor = {\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\tlet type = vnode.type;\n\tlet props = vnode.props;\n\tlet normalizedProps = props;\n\n\t// only normalize props on Element nodes\n\tif (typeof type === 'string') {\n\t\tconst nonCustomElement = type.indexOf('-') === -1;\n\t\tnormalizedProps = {};\n\n\t\tfor (let i in props) {\n\t\t\tlet value = props[i];\n\n\t\t\tif (IS_DOM && i === 'children' && type === 'noscript') {\n\t\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t\tcontinue;\n\t\t\t} else if (i === 'value' && 'defaultValue' in props && value == null) {\n\t\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t\t// a default value\n\t\t\t\tcontinue;\n\t\t\t} else if (\n\t\t\t\ti === 'defaultValue' &&\n\t\t\t\t'value' in props &&\n\t\t\t\tprops.value == null\n\t\t\t) {\n\t\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\t\ti = 'value';\n\t\t\t} else if (i === 'download' && value === true) {\n\t\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t\t// value will be used as the file name and the file will be called\n\t\t\t\t// \"true\" upon downloading it.\n\t\t\t\tvalue = '';\n\t\t\t} else if (/ondoubleclick/i.test(i)) {\n\t\t\t\ti = 'ondblclick';\n\t\t\t} else if (\n\t\t\t\t/^onchange(textarea|input)/i.test(i + type) &&\n\t\t\t\t!onChangeInputType(props.type)\n\t\t\t) {\n\t\t\t\ti = 'oninput';\n\t\t\t} else if (/^onfocus$/i.test(i)) {\n\t\t\t\ti = 'onfocusin';\n\t\t\t} else if (/^onblur$/i.test(i)) {\n\t\t\t\ti = 'onfocusout';\n\t\t\t} else if (/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)) {\n\t\t\t\ti = i.toLowerCase();\n\t\t\t} else if (nonCustomElement && CAMEL_PROPS.test(i)) {\n\t\t\t\ti = i.replace(/[A-Z0-9]/g, '-$&').toLowerCase();\n\t\t\t} else if (value === null) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\n\t\t\t// Add support for onInput and onChange, see #3561\n\t\t\t// if we have an oninput prop already change it to oninputCapture\n\t\t\tif (/^oninput$/i.test(i)) {\n\t\t\t\ti = i.toLowerCase();\n\t\t\t\tif (normalizedProps[i]) {\n\t\t\t\t\ti = 'oninputCapture';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnormalizedProps[i] = value;\n\t\t}\n\n\t\t// Add support for array select values: <select multiple value={[]} />\n\t\tif (\n\t\t\ttype == 'select' &&\n\t\t\tnormalizedProps.multiple &&\n\t\t\tArray.isArray(normalizedProps.value)\n\t\t) {\n\t\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t\t});\n\t\t}\n\n\t\t// Adding support for defaultValue in select tag\n\t\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tif (normalizedProps.multiple) {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t\t} else {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tvnode.props = normalizedProps;\n\n\t\tif (props.class != props.className) {\n\t\t\tclassNameDescriptor.enumerable = 'className' in props;\n\t\t\tif (props.className != null) normalizedProps.class = props.className;\n\t\t\tObject.defineProperty(normalizedProps, 'className', classNameDescriptor);\n\t\t}\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function(vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import { useState, useEffect } from \"react\";\nimport { GoogleChartVersion, GoogleChartPackages, GoogleViz } from \"../types\";\nimport { useLoadScript } from \"./useLoadScript\";\n\nexport interface IUseLoadGoogleChartsParams {\n  chartVersion?: GoogleChartVersion;\n  chartPackages?: GoogleChartPackages[];\n  chartLanguage?: string;\n  mapsApiKey?: string;\n}\n\n/**\n * Hook to load Google Charts JS API.\n * @param params - Load parameters.\n * @param [params.chartVersion] - Chart version to load.\n * @param [params.chartPackages] - Packages to load.\n * @param [params.chartLanguage] - Languages to load.\n * @param [params.mapsApiKey] - Google Maps api key.\n * @returns\n */\nexport function useLoadGoogleCharts({\n  chartVersion = \"current\",\n  chartPackages = [\"corechart\", \"controls\"],\n  chartLanguage = \"en\",\n  mapsApiKey,\n}: IUseLoadGoogleChartsParams) {\n  const [googleCharts, setGoogleCharts] = useState<GoogleViz | null>(null);\n  const [failed, setFailed] = useState(false);\n\n  useLoadScript(\n    \"https://www.gstatic.com/charts/loader.js\",\n    () => {\n      // @ts-expect-error Getting object from global namespace.\n      const google = window?.google as GoogleViz;\n\n      if (!google) {\n        return;\n      }\n\n      google.charts.load(chartVersion, {\n        packages: chartPackages,\n        language: chartLanguage,\n        mapsApiKey,\n      });\n      google.charts.setOnLoadCallback(() => {\n        setGoogleCharts(google);\n      });\n    },\n    () => {\n      setFailed(true);\n    }\n  );\n\n  return [googleCharts, failed] as const;\n}\n\nexport interface ILoadGoogleChartsProps extends IUseLoadGoogleChartsParams {\n  onLoad?(googleCharts: GoogleViz): void;\n  onError?(): void;\n}\n\n/**\n * Wrapper around useLoadGoogleCharts to use in legacy components.\n */\nexport function LoadGoogleCharts({\n  onLoad,\n  onError,\n  ...params\n}: ILoadGoogleChartsProps) {\n  const [googleCharts, failed] = useLoadGoogleCharts(params);\n\n  useEffect(() => {\n    if (googleCharts && onLoad) {\n      onLoad(googleCharts);\n    }\n  }, [googleCharts]);\n\n  useEffect(() => {\n    if (failed && onError) {\n      onError();\n    }\n  }, [failed]);\n\n  return null;\n}\n","import { useEffect } from \"react\";\n\n/**\n * Hook to load external script.\n * @param src - Source url to load.\n * @param onLoad - Success callback.\n * @param onError - Error callback.\n */\nexport function useLoadScript(\n  src: string,\n  onLoad?: () => void,\n  onError?: () => void\n) {\n  useEffect(() => {\n    if (!document) {\n      return;\n    }\n\n    // Find script tag with same src in DOM.\n    const foundScript = document.querySelector<HTMLScriptElement>(\n      `script[src=\"${src}\"]`\n    );\n\n    // Call onLoad if script marked as loaded.\n    if (foundScript?.dataset.loaded) {\n      onLoad?.();\n      return;\n    }\n\n    // Create or get existed tag.\n    const script = foundScript || document.createElement(\"script\");\n\n    // Set src if no script was found.\n    if (!foundScript) {\n      script.src = src;\n    }\n\n    // Mark script as loaded on load event.\n    const onLoadWithMarker = () => {\n      script.dataset.loaded = \"1\";\n      onLoad?.();\n    };\n\n    script.addEventListener(\"load\", onLoadWithMarker);\n\n    if (onError) {\n      script.addEventListener(\"error\", onError);\n    }\n\n    // Add to DOM if not yet added.\n    if (!foundScript) {\n      document.head.append(script);\n    }\n\n    return () => {\n      script.removeEventListener(\"load\", onLoadWithMarker);\n\n      if (onError) {\n        script.removeEventListener(\"error\", onError);\n      }\n    };\n  }, []);\n}\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { ReactGoogleChartProps } from \"./types\";\n\nexport const chartDefaultProps: Partial<ReactGoogleChartProps> = {\n  // <DEPRECATED_PROPS>\n  legend_toggle: false,\n  // </DEPRECATED_PROPS>\n  options: {},\n  legendToggle: false,\n  getChartWrapper: () => {},\n  spreadSheetQueryParameters: {\n    headers: 1,\n    gid: 1,\n  },\n  rootProps: {},\n  chartWrapperParams: {},\n};\n","let uniqueID = 0;\nexport const generateUniqueID = () => {\n  uniqueID += 1;\n  return `reactgooglegraph-${uniqueID}`;\n};\n","export const DEFAULT_CHART_COLORS = [\n  \"#3366CC\",\n  \"#DC3912\",\n  \"#FF9900\",\n  \"#109618\",\n  \"#990099\",\n  \"#3B3EAC\",\n  \"#0099C6\",\n  \"#DD4477\",\n  \"#66AA00\",\n  \"#B82E2E\",\n  \"#316395\",\n  \"#994499\",\n  \"#22AA99\",\n  \"#AAAA11\",\n  \"#6633CC\",\n  \"#E67300\",\n  \"#8B0707\",\n  \"#329262\",\n  \"#5574A6\",\n  \"#3B3EAC\"\n];\n","import * as React from \"react\";\nimport { chartDefaultProps } from \"./default-props\";\n\nimport { ReactGoogleChartProps } from \"./types\";\nconst { Provider, Consumer } = React.createContext(chartDefaultProps);\n\nexport const ContextProvider = ({\n  children,\n  value,\n}: {\n  children: any;\n  value: ReactGoogleChartProps;\n}) => {\n  return <Provider value={value}>{children}</Provider>;\n};\n\nexport const ContextConsumer = ({\n  render,\n}: {\n  render: (context: ReactGoogleChartProps) => JSX.Element | null;\n}) => {\n  return (\n    <Consumer>\n      {(context) => {\n        return render(context as ReactGoogleChartProps);\n      }}\n    </Consumer>\n  );\n};\n","import * as React from \"react\";\nimport {\n  GoogleViz,\n  GoogleChartWrapper,\n  GoogleDataTable,\n  ReactGoogleChartProps,\n  GoogleChartDashboard,\n} from \"../types\";\nimport { DEFAULT_CHART_COLORS } from \"../constants\";\n\nimport { loadDataTableFromSpreadSheet } from \"../load-data-table-from-spreadsheet\";\nimport { ContextConsumer } from \"../Context\";\n\nconst GRAY_COLOR = \"#CCCCCC\";\nexport type ChartDrawArgs = {\n  data: ReactGoogleChartProps[\"data\"];\n};\n\nexport type GoogleChartDataTableProps = {\n  googleChartWrapper: GoogleChartWrapper;\n  google: GoogleViz;\n  googleChartDashboard: GoogleChartDashboard | null;\n};\ninterface State {\n  hiddenColumns: string[];\n}\nexport class GoogleChartDataTableInner extends React.Component<\n  ReactGoogleChartProps & GoogleChartDataTableProps,\n  State\n> {\n  state = {\n    hiddenColumns: [],\n  } as State;\n\n  private listenToLegendToggle = () => {\n    const { google, googleChartWrapper } = this.props;\n    google.visualization.events.addListener(\n      googleChartWrapper,\n      \"select\",\n      () => {\n        const chart = googleChartWrapper.getChart();\n        const selection = chart.getSelection();\n        const dataTable = googleChartWrapper.getDataTable();\n        if (\n          selection.length === 0 ||\n          // We want to listen to when a whole row is selected. This is the case only when row === null\n          selection[0].row ||\n          !dataTable\n        ) {\n          return;\n        }\n        const columnIndex = selection[0].column;\n        const columnID = this.getColumnID(dataTable, columnIndex);\n        if (this.state.hiddenColumns.includes(columnID)) {\n          this.setState((state) => ({\n            ...state,\n            hiddenColumns: [\n              ...state.hiddenColumns.filter((colID) => colID !== columnID),\n            ],\n          }));\n        } else {\n          this.setState((state) => ({\n            ...state,\n            hiddenColumns: [...state.hiddenColumns, columnID],\n          }));\n        }\n      }\n    );\n  };\n\n  private applyFormatters = (dataTable: GoogleDataTable, formatters: any[]) => {\n    const { google } = this.props;\n    for (let formatter of formatters) {\n      switch (formatter.type) {\n        case \"ArrowFormat\": {\n          const vizFormatter = new google.visualization.ArrowFormat(\n            formatter.options\n          );\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n        case \"BarFormat\": {\n          const vizFormatter = new google.visualization.BarFormat(\n            formatter.options\n          );\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n        case \"ColorFormat\": {\n          const vizFormatter = new google.visualization.ColorFormat(\n            formatter.options\n          );\n          const { ranges } = formatter;\n          for (let range of ranges) {\n            vizFormatter.addRange(...range);\n          }\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n        case \"DateFormat\": {\n          const vizFormatter = new google.visualization.DateFormat(\n            formatter.options\n          );\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n        case \"NumberFormat\": {\n          const vizFormatter = new google.visualization.NumberFormat(\n            formatter.options\n          );\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n        case \"PatternFormat\": {\n          const vizFormatter = new google.visualization.PatternFormat(\n            formatter.options\n          );\n          vizFormatter.format(dataTable, formatter.column);\n          break;\n        }\n      }\n    }\n  };\n  private getColumnID = (dataTable: GoogleDataTable, columnIndex: number) => {\n    return (\n      dataTable.getColumnId(columnIndex) ||\n      dataTable.getColumnLabel(columnIndex)\n    );\n  };\n  private draw = async ({\n    data,\n    diffdata,\n    rows,\n    columns,\n    options,\n    legend_toggle,\n    legendToggle,\n    chartType,\n    formatters,\n    spreadSheetUrl,\n    spreadSheetQueryParameters,\n  }: ReactGoogleChartProps) => {\n    const { google, googleChartWrapper } = this.props;\n    let dataTable: GoogleDataTable;\n    let chartDiff = null;\n    if (diffdata) {\n      const oldData = google.visualization.arrayToDataTable(diffdata.old);\n      const newData = google.visualization.arrayToDataTable(diffdata.new);\n      chartDiff = google.visualization[chartType].prototype.computeDiff(\n        oldData,\n        newData\n      );\n    }\n    if (data !== null) {\n      if (Array.isArray(data)) {\n        dataTable = google.visualization.arrayToDataTable(data);\n      } else {\n        dataTable = new google.visualization.DataTable(data);\n      }\n    } else if (rows && columns) {\n      dataTable = google.visualization.arrayToDataTable([columns, ...rows]);\n    } else if (spreadSheetUrl) {\n      dataTable = (await loadDataTableFromSpreadSheet(\n        google,\n        spreadSheetUrl,\n        spreadSheetQueryParameters\n      )) as GoogleDataTable;\n    } else {\n      dataTable = google.visualization.arrayToDataTable([]);\n    }\n    const columnCount = dataTable.getNumberOfColumns();\n    for (let i = 0; i < columnCount; i += 1) {\n      const columnID = this.getColumnID(dataTable, i);\n      if (this.state.hiddenColumns.includes(columnID)) {\n        const previousColumnLabel = dataTable.getColumnLabel(i);\n        const previousColumnID = dataTable.getColumnId(i);\n        const previousColumnType = dataTable.getColumnType(i);\n        dataTable.removeColumn(i);\n        dataTable.addColumn({\n          label: previousColumnLabel,\n          id: previousColumnID,\n          type: previousColumnType,\n        });\n      }\n    }\n    const chart = googleChartWrapper.getChart();\n    if (googleChartWrapper.getChartType() === \"Timeline\") {\n      chart && chart.clearChart();\n    }\n    googleChartWrapper.setChartType(chartType);\n    googleChartWrapper.setOptions(options || {});\n    googleChartWrapper.setDataTable(dataTable);\n    googleChartWrapper.draw();\n    if (this.props.googleChartDashboard !== null) {\n      this.props.googleChartDashboard.draw(dataTable);\n    }\n\n    if (chartDiff) {\n      googleChartWrapper.setDataTable(chartDiff);\n      googleChartWrapper.draw();\n    }\n    if (formatters) {\n      this.applyFormatters(dataTable, formatters);\n      googleChartWrapper.setDataTable(dataTable);\n      googleChartWrapper.draw();\n    }\n    if (legendToggle === true || legend_toggle === true) {\n      this.grayOutHiddenColumns({ options });\n    }\n    return;\n  };\n  private grayOutHiddenColumns = ({\n    options,\n  }: {\n    options: ReactGoogleChartProps[\"options\"];\n  }) => {\n    const { googleChartWrapper } = this.props;\n    const dataTable = googleChartWrapper.getDataTable();\n    if (!dataTable) return;\n    const columnCount = dataTable.getNumberOfColumns();\n    const hasAHiddenColumn = this.state.hiddenColumns.length > 0;\n    if (hasAHiddenColumn === false) return;\n    const colors = Array.from({ length: columnCount - 1 }).map(\n      (dontcare, i) => {\n        const columnID = this.getColumnID(dataTable, i + 1);\n        if (this.state.hiddenColumns.includes(columnID)) {\n          return GRAY_COLOR;\n        } else if (options && options.colors) {\n          return options.colors[i];\n        } else {\n          return DEFAULT_CHART_COLORS[i];\n        }\n      }\n    );\n    googleChartWrapper.setOptions({\n      ...options,\n      colors,\n    });\n    googleChartWrapper.draw();\n  };\n  private onResize = () => {\n    const { googleChartWrapper } = this.props;\n    googleChartWrapper.draw();\n  };\n  componentDidMount() {\n    this.draw(this.props);\n    window.addEventListener(\"resize\", this.onResize);\n    if (this.props.legend_toggle || this.props.legendToggle) {\n      this.listenToLegendToggle();\n    }\n  }\n\n  componentWillUnmount() {\n    const { google, googleChartWrapper } = this.props;\n    window.removeEventListener(\"resize\", this.onResize);\n    google.visualization.events.removeAllListeners(googleChartWrapper);\n    if (googleChartWrapper.getChartType() === \"Timeline\") {\n      googleChartWrapper.getChart() &&\n        googleChartWrapper.getChart().clearChart();\n    }\n  }\n\n  componentDidUpdate() {\n    this.draw(this.props);\n  }\n  render() {\n    return null;\n  }\n}\n\nexport class GoogleChartDataTable extends React.Component<GoogleChartDataTableProps> {\n  componentDidMount() {}\n\n  componentWillUnmount() {}\n  shouldComponentUpdate() {\n    return false;\n  }\n  render() {\n    const { google, googleChartWrapper, googleChartDashboard } = this.props;\n    return (\n      <ContextConsumer\n        render={(props) => {\n          return (\n            <GoogleChartDataTableInner\n              {...props}\n              google={google}\n              googleChartWrapper={googleChartWrapper}\n              googleChartDashboard={googleChartDashboard}\n            />\n          );\n        }}\n      />\n    );\n  }\n}\n","import { GoogleViz } from \"./types\";\n\nexport const loadDataTableFromSpreadSheet = async (\n  googleViz: GoogleViz,\n  spreadSheetUrl: string,\n  urlParams: {\n    headers?: number;\n    gid?: any;\n    sheet?: string;\n    query?: string;\n    access_token?: string;\n  } = {}\n) => {\n  return new Promise((resolve, reject) => {\n    const headers = `${\n      urlParams.headers ? `headers=${urlParams.headers}` : `headers=0`\n    }`;\n    const queryString = `${\n      urlParams.query ? `&tq=${encodeURIComponent(urlParams.query)}` : ``\n    }`;\n    const gid = `${urlParams.gid ? `&gid=${urlParams.gid}` : \"\"}`;\n    const sheet = `${urlParams.sheet ? `&sheet=${urlParams.sheet}` : \"\"}`;\n    const access_token = `${\n      urlParams.access_token ? `&access_token=${urlParams.access_token}` : \"\"\n    }`;\n    const urlQueryString = `${headers}${gid}${sheet}${queryString}${access_token}`;\n    const urlToSpreadSheet = `${spreadSheetUrl}/gviz/tq?${urlQueryString}`; //&tq=${queryString}`;\n    const query = new googleViz.visualization.Query(urlToSpreadSheet);\n    query.send((response: any) => {\n      if (response.isError()) {\n        reject(\n          `Error in query:  ${response.getMessage()} ${response.getDetailedMessage()}`\n        );\n      } else {\n        resolve(response.getDataTable());\n      }\n    });\n  });\n};\n","import * as React from \"react\";\nimport {\n  GoogleViz,\n  GoogleChartWrapper,\n  ReactGoogleChartProps,\n  ReactGoogleChartEvent,\n} from \"../types\";\n\nimport { ContextConsumer } from \"../Context\";\n\nexport type ChartDrawArgs = {\n  data: ReactGoogleChartProps[\"data\"];\n};\n\nexport interface Props {\n  googleChartWrapper: GoogleChartWrapper;\n  google: GoogleViz;\n}\n\nexport interface ListenToEventsArgs {\n  googleChartWrapper: GoogleChartWrapper;\n  google: GoogleViz;\n  chartEvents: ReactGoogleChartEvent[] | null;\n}\n\nexport class GoogleChartEvents extends React.Component<Props> {\n  shouldComponentUpdate() {\n    return false;\n  }\n  listenToEvents({\n    chartEvents,\n    google,\n    googleChartWrapper,\n  }: ListenToEventsArgs) {\n    if (!chartEvents) {\n      return;\n    }\n    google.visualization.events.removeAllListeners(googleChartWrapper);\n    for (let event of chartEvents) {\n      const { eventName, callback } = event;\n      google.visualization.events.addListener(\n        googleChartWrapper,\n        eventName,\n        (...args: any[]) => {\n          callback({\n            chartWrapper: googleChartWrapper,\n            props: this.props as any,\n            google: google,\n            eventArgs: args,\n          });\n        }\n      );\n    }\n  }\n  render() {\n    const { google, googleChartWrapper } = this.props;\n    return (\n      <ContextConsumer\n        render={(propsFromContext) => {\n          this.listenToEvents({\n            chartEvents: propsFromContext.chartEvents || null,\n            google,\n            googleChartWrapper,\n          });\n          return null;\n        }}\n      />\n    );\n  }\n}\n","import * as React from \"react\";\nimport {\n  GoogleViz,\n  GoogleChartWrapper,\n  ReactGoogleChartProps,\n  GoogleChartControlProp,\n  GoogleChartControl,\n  GoogleChartDashboard,\n  GoogleChartEditor,\n} from \"../types\";\nimport { generateUniqueID } from \"../generate-unique-id\";\nimport { GoogleChartDataTable } from \"./GoogleChartDataTable\";\nimport { GoogleChartEvents } from \"./GoogleChartEvents\";\n\nexport type Props = {\n  google: GoogleViz;\n  graphID?: string | null;\n  graph_id?: string | null;\n  options?: ReactGoogleChartProps[\"options\"];\n  chartWrapperParams?: {};\n  chartType: ReactGoogleChartProps[\"chartType\"];\n  width?: ReactGoogleChartProps[\"width\"];\n  height?: ReactGoogleChartProps[\"height\"];\n  style?: ReactGoogleChartProps[\"style\"];\n  className?: ReactGoogleChartProps[\"className\"];\n  rootProps?: ReactGoogleChartProps[\"rootProps\"];\n} & ReactGoogleChartProps;\n\nexport interface State {\n  googleChartWrapper: GoogleChartWrapper | null;\n  isReady: boolean;\n  googleChartDashboard: GoogleChartDashboard | null;\n  googleChartEditor: GoogleChartEditor | null;\n  googleChartControls:\n    | { control: GoogleChartControl; controlProp: GoogleChartControlProp }[]\n    | null;\n}\n\nlet controlCounter = 0;\n\nexport class GoogleChart extends React.Component<Props, State> {\n  state = {\n    googleChartWrapper: null,\n    googleChartDashboard: null,\n    googleChartControls: null,\n    googleChartEditor: null,\n    isReady: false,\n  } as State;\n  graphID: null | string = null;\n  private dashboard_ref: React.RefObject<HTMLDivElement> = React.createRef();\n  private toolbar_ref: React.RefObject<HTMLDivElement> = React.createRef();\n  private getGraphID = () => {\n    const { graphID, graph_id } = this.props;\n    let instanceGraphID: string;\n    if (!graphID && !graph_id) {\n      if (!this.graphID) {\n        instanceGraphID = generateUniqueID();\n      } else {\n        instanceGraphID = this.graphID;\n      }\n    } else if (graphID && !graph_id) {\n      instanceGraphID = graphID as string;\n    } else if (graph_id && !graphID) {\n      instanceGraphID = graph_id as string;\n    } else {\n      instanceGraphID = graphID as string;\n    }\n    this.graphID = instanceGraphID;\n    return this.graphID as string;\n  };\n  private getControlID = (id: undefined | string, index: number) => {\n    controlCounter += 1;\n    let controlID: string;\n    if (typeof id === \"undefined\") {\n      controlID = `googlechart-control-${index}-${controlCounter}`;\n    } else {\n      controlID = id;\n    }\n    return controlID;\n  };\n\n  addControls = (\n    googleChartWrapper: GoogleChartWrapper,\n    googleChartDashboard: GoogleChartDashboard\n  ) => {\n    const { google, controls } = this.props;\n\n    const googleChartControls = !controls\n      ? null\n      : controls.map((control, i) => {\n          const {\n            controlID: controlIDMaybe,\n            controlType,\n            options: controlOptions,\n            controlWrapperParams,\n          } = control;\n          const controlID = this.getControlID(controlIDMaybe, i);\n          return {\n            controlProp: control,\n            control: new google.visualization.ControlWrapper({\n              containerId: controlID,\n              controlType,\n              options: controlOptions,\n              ...controlWrapperParams,\n            }),\n          };\n        });\n    if (!googleChartControls) {\n      return null;\n    }\n    googleChartDashboard.bind(\n      googleChartControls.map(({ control }) => control),\n      googleChartWrapper\n    );\n    for (let chartControl of googleChartControls) {\n      const { control, controlProp } = chartControl;\n      const { controlEvents = [] } = controlProp;\n      for (let event of controlEvents) {\n        const { callback, eventName } = event;\n        google.visualization.events.removeListener(\n          control,\n          eventName,\n          callback\n        );\n        google.visualization.events.addListener(\n          control,\n          eventName,\n          (...args: any[]) => {\n            callback({\n              chartWrapper: googleChartWrapper,\n              controlWrapper: control,\n              props: this.props as any,\n              google: google,\n              eventArgs: args,\n            });\n          }\n        );\n      }\n    }\n    return googleChartControls;\n  };\n\n  componentDidMount() {\n    const {\n      options,\n      google,\n      chartType,\n      chartWrapperParams,\n      toolbarItems,\n      getChartEditor,\n      getChartWrapper,\n    } = this.props;\n\n    const chartConfig = {\n      chartType,\n      options,\n      containerId: this.getGraphID(),\n      ...chartWrapperParams,\n    };\n    const googleChartWrapper = new google.visualization.ChartWrapper(\n      chartConfig\n    );\n    googleChartWrapper.setOptions(options || {});\n    if (getChartWrapper) {\n      getChartWrapper(googleChartWrapper, google);\n    }\n    const googleChartDashboard = new google.visualization.Dashboard(\n      this.dashboard_ref\n    );\n\n    const googleChartControls = this.addControls(\n      googleChartWrapper,\n      googleChartDashboard\n    );\n    if (toolbarItems) {\n      google.visualization.drawToolbar(\n        this.toolbar_ref.current as HTMLDivElement,\n        toolbarItems\n      );\n    }\n    let googleChartEditor: null | GoogleChartEditor = null;\n    if (getChartEditor) {\n      googleChartEditor = new google.visualization.ChartEditor();\n      getChartEditor({\n        chartEditor: googleChartEditor,\n        chartWrapper: googleChartWrapper,\n        google,\n      });\n    }\n\n    this.setState({\n      googleChartEditor,\n      googleChartControls: googleChartControls,\n      googleChartDashboard: googleChartDashboard,\n      googleChartWrapper,\n      isReady: true,\n    });\n  }\n  componentDidUpdate() {\n    if (!this.state.googleChartWrapper) return;\n    if (!this.state.googleChartDashboard) return;\n    if (!this.state.googleChartControls) return;\n\n    const { controls } = this.props;\n    if (controls) {\n      for (let i = 0; i < controls.length; i += 1) {\n        const { controlType, options, controlWrapperParams } = controls[i];\n        if (controlWrapperParams && \"state\" in controlWrapperParams) {\n          this.state.googleChartControls[i].control.setState(\n            controlWrapperParams[\"state\"]\n          );\n        }\n        this.state.googleChartControls[i].control.setOptions(options);\n        this.state.googleChartControls[i].control.setControlType(controlType);\n      }\n    }\n  }\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    return (\n      this.state.isReady !== nextState.isReady ||\n      nextProps.controls !== this.props.controls\n    );\n  }\n  renderChart = () => {\n    const { width, height, options, style, className, rootProps, google } =\n      this.props;\n\n    const divStyle = {\n      height: height || (options && options.height),\n      width: width || (options && options.width),\n      ...style,\n    };\n    return (\n      <div\n        id={this.getGraphID()}\n        style={divStyle}\n        className={className}\n        {...rootProps}\n      >\n        {this.state.isReady && this.state.googleChartWrapper !== null ? (\n          <React.Fragment>\n            <GoogleChartDataTable\n              googleChartWrapper={this.state.googleChartWrapper}\n              google={google}\n              googleChartDashboard={this.state.googleChartDashboard}\n            />\n            <GoogleChartEvents\n              googleChartWrapper={this.state.googleChartWrapper}\n              google={google}\n            />\n          </React.Fragment>\n        ) : null}\n      </div>\n    );\n  };\n  renderControl = (\n    filter = ({\n      control,\n      controlProp,\n    }: {\n      control: GoogleChartControl;\n      controlProp: GoogleChartControlProp;\n    }) => true\n  ) => {\n    return this.state.isReady && this.state.googleChartControls !== null ? (\n      <React.Fragment>\n        {this.state.googleChartControls\n          .filter(({ controlProp, control }) => {\n            return filter({ control, controlProp });\n          })\n          .map(({ control, controlProp }) => {\n            return (\n              <div\n                key={control.getContainerId()}\n                id={control.getContainerId()}\n              />\n            );\n          })}\n      </React.Fragment>\n    ) : null;\n  };\n  renderToolBar = () => {\n    if (!this.props.toolbarItems) return null;\n    return <div ref={this.toolbar_ref} />;\n  };\n  render() {\n    const { width, height, options, style } = this.props;\n\n    const divStyle = {\n      height: height || (options && options.height),\n      width: width || (options && options.width),\n      ...style,\n    };\n    if (this.props.render) {\n      return (\n        <div ref={this.dashboard_ref} style={divStyle}>\n          <div ref={this.toolbar_ref} id=\"toolbar\" />\n          {this.props.render({\n            renderChart: this.renderChart,\n            renderControl: this.renderControl,\n            renderToolbar: this.renderToolBar,\n          })}\n        </div>\n      );\n    } else {\n      return (\n        <div ref={this.dashboard_ref} style={divStyle}>\n          {this.renderControl(({ controlProp }) => {\n            return controlProp.controlPosition !== \"bottom\";\n          })}\n          {this.renderChart()}\n          {this.renderControl(({ controlProp }) => {\n            return controlProp.controlPosition === \"bottom\";\n          })}\n          {this.renderToolBar()}\n        </div>\n      );\n    }\n  }\n}\n","import * as React from \"react\";\n\nimport {\n  GoogleViz,\n  ReactGoogleChartProps,\n  ReactGoogleChartState,\n} from \"./types\";\nimport { LoadGoogleCharts } from \"./hooks\";\nimport { chartDefaultProps } from \"./default-props\";\nimport { GoogleChart } from \"./components/GoogleChart\";\nimport { ContextProvider } from \"./Context\";\n\nexport class Chart extends React.Component<\n  ReactGoogleChartProps,\n  ReactGoogleChartState\n> {\n  _isMounted = false;\n\n  state = {\n    loadingStatus: \"loading\" as ReactGoogleChartState[\"loadingStatus\"],\n    google: null as ReactGoogleChartState[\"google\"],\n  };\n\n  static defaultProps = chartDefaultProps;\n\n  render() {\n    const {\n      chartLanguage,\n      chartPackages,\n      chartVersion,\n      mapsApiKey,\n      loader,\n      errorElement,\n    } = this.props;\n    return (\n      <ContextProvider value={this.props as ReactGoogleChartProps}>\n        {this.state.loadingStatus === \"ready\" && this.state.google !== null ? (\n          <GoogleChart\n            {...(this.props as ReactGoogleChartProps)}\n            google={this.state.google}\n          />\n        ) : this.state.loadingStatus === \"errored\" && errorElement ? (\n          errorElement\n        ) : (\n          loader\n        )}\n        <LoadGoogleCharts\n          chartLanguage={chartLanguage}\n          chartPackages={chartPackages}\n          chartVersion={chartVersion}\n          mapsApiKey={mapsApiKey}\n          onLoad={this.onLoad}\n          onError={this.onError}\n        />\n      </ContextProvider>\n    );\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  onLoad = (google: GoogleViz) => {\n    if (this.props.onLoad) {\n      this.props.onLoad(google);\n    }\n    if (this.isFullyLoaded(google)) {\n      this.onSuccess(google);\n    } else {\n      // IE11: window.google is not fully set, we have to wait\n      const id = setInterval(() => {\n        const google = (\n          window as Window & {\n            google?: GoogleViz;\n          }\n        ).google;\n\n        if (this._isMounted) {\n          if (google && this.isFullyLoaded(google)) {\n            clearInterval(id);\n            this.onSuccess(google);\n          }\n        } else {\n          clearInterval(id);\n        }\n      }, 1000);\n    }\n  };\n\n  onSuccess = (google: GoogleViz) => {\n    this.setState({\n      loadingStatus: \"ready\",\n      google,\n    });\n  };\n\n  onError = () => {\n    this.setState({\n      loadingStatus: \"errored\",\n    });\n  };\n\n  isFullyLoaded(google: GoogleViz) {\n    const { controls, toolbarItems, getChartEditor } = this.props;\n\n    return (\n      google &&\n      google.visualization &&\n      google.visualization.ChartWrapper &&\n      google.visualization.Dashboard &&\n      (!controls || google.visualization.ChartWrapper) &&\n      (!getChartEditor || google.visualization.ChartEditor) &&\n      (!toolbarItems || google.visualization.drawToolbar)\n    );\n  }\n}\n\nexport default Chart;\n","// Complete Google Charts Type Definition : https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/google.visualization/index.d.ts\n\nexport type GoogleVizDrawToolbar = (\n  toolbarContainer: HTMLDivElement,\n  components: GoogleChartToolbarItem[]\n) => any;\n\nexport type GoogleViz = {\n  charts: GoogleChartLoader;\n  visualization: {\n    ChartWrapper: GoogleChartWrapper;\n    ChartEditor: GoogleChartEditor;\n    DataTable: GoogleDataTable;\n    events: GoogleVizEvents;\n    arrayToDataTable: GoogleArrayToDataTable;\n    drawToolbar: GoogleVizDrawToolbar;\n    [otherKeys: string]: any;\n  };\n};\n\nexport type GoogleChartTicks = (number | Date)[];\n\nexport type GoogleChartEditor = {\n  new (): GoogleChartEditor;\n  openDialog: (\n    chartWrapper: GoogleChartWrapper,\n    chartEditorOptions?: { dataSourceInput?: any; [otherKeyMaybe: string]: any }\n  ) => null;\n  getChartWrapper: () => GoogleChartWrapper;\n  setChartWrapper: (chartWrapper: GoogleChartWrapper) => GoogleChartWrapper;\n  closeDialog: () => null;\n};\n\nexport type GoogleChartLoaderOptions = {\n  packages?: GoogleChartPackages[];\n  language?: string;\n  mapsApiKey?: string;\n};\nexport type GoogleChartLoader = {\n  load: (\n    version: GoogleChartVersion,\n    googleChartOptions: GoogleChartLoaderOptions\n  ) => void;\n  setOnLoadCallback: (callback: () => void) => void;\n};\nexport interface ChartWrapperProps {\n  chartType: GoogleChartWrapperChartType;\n  containerId?: string;\n  options?: {\n    width?: number;\n    height?: number;\n    is3D?: boolean;\n    title?: string;\n    backgroundColor: string;\n  };\n  dataTable?: {};\n  dataSourceUrl?: string;\n  query?: string;\n  refreshInterval?: number;\n  view?: any[] | {};\n  render?: (props: ChartWrapperProps, chartWrapper: GoogleChartWrapper) => any;\n  children?: (\n    props: ChartWrapperProps,\n    chartWrapper: GoogleChartWrapper\n  ) => any;\n}\n\nexport type VizEventsProps = {\n  chartWrapper: GoogleChartWrapper;\n  onReady?: (chartWrapper: GoogleChartWrapper) => any;\n  onError?: (chartWrapper: GoogleChartWrapper) => any;\n  onSelect?: (selection: Array<{ row?: any; column?: any }>) => any;\n  render?: (props: VizEventsProps, chartWrapper: GoogleChartWrapper) => any;\n  children?: (props: VizEventsProps, chartWrapper: GoogleChartWrapper) => any;\n};\n\n/*\n *\n * <GoogleChartsTypes>\n *\n */\n\n/*\n *\n * Reference + Docs:\n * https://developers.google.com/chart/interactive/docs/reference#constructor_3\n * https://developers.google.com/chart/interactive/docs/reference#google.visualization.drawchart\n *\n */\nexport type GoogleChartWrapperChartType =\n  | \"AnnotationChart\"\n  | \"AreaChart\"\n  | \"BarChart\"\n  | \"BubbleChart\"\n  | \"Calendar\"\n  | \"CandlestickChart\"\n  | \"ColumnChart\"\n  | \"ComboChart\"\n  | \"DiffChart\"\n  | \"DonutChart\"\n  | \"Gantt\"\n  | \"Gauge\"\n  | \"GeoChart\"\n  | \"Histogram\"\n  | \"LineChart\"\n  | \"Line\"\n  | \"Bar\"\n  | \"Map\"\n  | \"OrgChart\"\n  | \"PieChart\"\n  | \"Sankey\"\n  | \"ScatterChart\"\n  | \"Scatter\"\n  | \"SteppedAreaChart\"\n  | \"Table\"\n  | \"Timeline\"\n  | \"TreeMap\"\n  | \"WaterfallChart\"\n  | \"WordTree\";\n\n// https://developers.google.com/chart/interactive/docs/reference#google.visualization.drawchart\nexport interface ChartWrapperOptions {\n  chartType: string;\n  containerId: string;\n  options: Partial<{\n    width: number;\n    height: number;\n    is3D: boolean;\n    title: string;\n    backgroundColor: string;\n    hAxis?: {\n      minValue?: any;\n      maxValue?: any;\n      ticks?: GoogleChartTicks;\n      title?: string;\n      viewWindow?: { max?: any; min?: any };\n      [otherOptionKey: string]: any;\n    };\n    vAxis?: {\n      minValue?: any;\n      maxValue?: any;\n      ticks?: GoogleChartTicks;\n      title?: string;\n      viewWindow?: { max?: any; min?: any };\n      [otherOptionKey: string]: any;\n    };\n    legend: any;\n    colors: string[];\n    [otherOptionKey: string]: any;\n  }>;\n  dataTable?: GoogleDataTable;\n  dataSourceUrl?: string;\n  query?: string;\n  refreshInterval?: number;\n  view: any[] | {};\n  [otherOptionKey: string]: any;\n}\n\nexport type GoogleChartAction = {\n  id: string;\n  text: string;\n  action: (chartWrapper: GoogleChartWrapper) => void;\n};\n\nexport type GoogleChartControlProp = {\n  controlType:\n    | \"CategoryFilter\"\n    | \"ChartRangeFilter\"\n    | \"DateRangeFilter\"\n    | \"NumberRangeFilter\"\n    | \"StringFilter\";\n  options: {};\n  controlWrapperParams?: {};\n  controlID?: string;\n  controlPosition?: \"top\" | \"bottom\";\n  controlEvents?: ReactGoogleChartEvent[];\n};\n\nexport type GoogleChartWrapper = {\n  new (chartWrapperOptions: Partial<ChartWrapperOptions>): GoogleChartWrapper;\n  draw: (chartArgs?: ChartWrapperProps) => any;\n  toJSON: () => string;\n  clone: () => GoogleChartWrapper;\n  getDataSourceUrl: () => string;\n  getDataTable: () => GoogleDataTable | null; // null if datasourceurl set or ref to DataTable\n  getChartType: () => GoogleChartWrapperChartType;\n  getChartName: () => string;\n  getChart: () => {\n    removeAction: (actionID: string) => void;\n    getSelection: () => { row?: any; column?: any }[];\n    setAction: (ChartAction: GoogleChartAction) => void;\n    getImageURI: () => void;\n    clearChart: () => void; // Clears the chart, and releases all of its allocated resources.\n  }; // ref to chart\n  getContainerId: () => string;\n  getQuery: () => string;\n  getRefreshInterval: () => number;\n  getOption: (key: string, opt_default_value?: any) => any; // returns opt_default_value if key not found\n  getOptions: () => {};\n  getSelection: () => { row?: any; column?: any }[];\n  getView: () => {} | any[]; // Same format as toJSON\n\n  setDataSourceUrl: (url: string) => void;\n  setDataTable: (table: any) => void;\n  setChartType: (chartType: GoogleChartWrapperChartType) => void;\n  setChartName: (name: string) => void; // Sets an arbitrary name for the chart. This is not shown anywhere on the chart, unless a custom chart is explicitly designed to use it.\n  setContainerId: (id: string) => void; // Sets the ID of the containing DOM element for the chart.\n  setQuery: (query_string: string) => void; // Sets a query string, if this chart queries a data source. You must also set the data source URL if specifying this value.\n  setRefreshInterval: (interval: number) => void; // Sets the refresh interval for this chart, if it queries a data source. You must also set a data source URL if specifying this value. Zero indicates no refresh.\n  setOption: (key: string, value: any) => void; // \tSets a single chart option value, where key is the option name and value is the value. To unset an option, pass in null for the value. Note that key may be a qualified name, such as 'vAxis.title'.\n  setOptions: (options_obj: Partial<ChartWrapperOptions[\"options\"]>) => void; //\n};\n\nexport type GoogleVizEventName =\n  | \"ready\"\n  | \"error\"\n  | \"select\"\n  | \"animationfinish\"\n  | \"statechange\"\n  | \"ok\"\n  | \"cancel\"\n  | \"animationstart\";\n\nexport type GoogleVizEvents = {\n  addListener: (\n    chartWrapper: GoogleChartWrapper | GoogleChartControl | GoogleChartEditor,\n    name: GoogleVizEventName,\n    onEvent: (chartWrapper: GoogleChartWrapper) => any\n  ) => any;\n  removeListener: (\n    chartWrapper: GoogleChartWrapper,\n    name: GoogleVizEventName,\n    callback: Function\n  ) => any;\n  removeAllListeners: (chartWrapper: GoogleChartWrapper) => any;\n};\n\nexport type GoogleChartPackages =\n  | \"corechart\"\n  | \"charteditor\"\n  | \"controls\"\n  | \"calendar\"\n  | \"gantt\"\n  | \"gauge\"\n  | \"geochart\"\n  | \"map\"\n  | \"orgchart\"\n  | \"sankey\"\n  | \"table\"\n  | \"timeline\"\n  | \"treemap\"\n  | \"wordtree\";\n\nexport type GoogleChartVersion = \"current\" | \"upcoming\";\n\nexport type GoogleDataTableColumnType =\n  | \"string\"\n  | \"number\"\n  | \"boolean\"\n  | \"date\"\n  | \"datetime\"\n  | \"timeofday\";\n\n// export type GoogleDataTable = {\n//   addColumn: (type: GoogleDataTableColumnType) => number;\n// };\n\n// Reference https://developers.google.com/chart/interactive/docs/roles\nexport enum GoogleDataTableColumnRoleType {\n  annotation = \"annotation\",\n  annotationText = \"annotationText\",\n  certainty = \"certainty\",\n  emphasis = \"emphasis\",\n  interval = \"interval\",\n  scope = \"scope\",\n  style = \"style\",\n  tooltip = \"tooltip\",\n  domain = \"domain\",\n}\n\nexport type GoogleDataTableColumn =\n  | {\n      type: GoogleDataTableColumnType;\n      label?: string; //  A label for the column.\n      role?: GoogleDataTableColumnRoleType;\n      pattern?: string;\n      p?: {};\n      id?: string;\n    }\n  | string;\n\n// Ref : https://developers.google.com/chart/interactive/docs/reference#dataparam\n\nexport type GoogleDataTableCell =\n  | {\n      v?: any; // The cell value. Type should match DataTableColumn type field\n      f?: string; // A string version of the v value, formatted for display.\n      p?: {};\n    }\n  | string\n  | number\n  | boolean\n  | Date;\n\nexport type GoogleDataTableRow = GoogleDataTableCell[];\n\nexport type GoogleDataTableJS = {\n  cols: GoogleDataTableColumn[];\n  rows: {\n    c: GoogleDataTableRow;\n  }[];\n  p?: {};\n};\n\n// Reference : https://developers.google.com/chart/interactive/docs/reference#DataTable\n\nexport type GoogleDataTableRowFilter = {\n  column: number;\n  value: any;\n  minValue?: any;\n  maxValue?: any;\n};\n\nexport type GoogleDataTableSortColumns =\n  | number\n  | {\n      column: number;\n      desc: boolean;\n    }\n  | number[]\n  | {\n      column: number;\n      desc: boolean;\n    }[];\n\nexport type GoogleDataTable = {\n  // https://developers.google.com/chart/interactive/docs/reference#dataparam\n  new (dataParam: any): GoogleDataTable;\n  addColumn: (column: GoogleDataTableColumn) => number;\n  addRow: (row?: GoogleDataTableRow) => number;\n  addRows: (rows?: GoogleDataTableRow[] | number[] | any[]) => number;\n  clone: () => GoogleDataTable;\n\n  getColumnId: (columnIndex: number) => string;\n  getColumnLabel: (columnIndex: number) => string;\n  getColumnPattern: (columnIndex: number) => string;\n  getColumnProperties: (columnIndex: number) => {};\n  getColumnProperty: (columnIndex: number, name: string) => any;\n  getColumnRange: (columnIndex: number) => {\n    min: number | null;\n    max: number | null;\n  };\n  getColumnRole: (columnIndex: number) => GoogleDataTableColumnRoleType;\n  getColumnType: (columnIndex: number) => GoogleDataTableColumnType;\n  getDistinctValues: (columnIndex: number) => any[];\n  getFilteredRows: (filters: GoogleDataTableRowFilter[]) => number[];\n  getFormattedValue: (rowIndex: number, columnIndex: number) => string;\n  getNumberOfColumns: () => number;\n  getNumberOfRows: () => number;\n  getProperties: (rowIndex: number, columnIndex: number) => {};\n  getProperty: (rowIndex: number, columnIndex: number, name: string) => any;\n  getRowProperties: (rowIndex: number) => {};\n  getRowProperty: (rowIndex: number, name: string) => any;\n  getSortedRows: (sortColumns: GoogleDataTableSortColumns) => number[];\n  getTableProperties: () => {};\n  getTableProperty: (name: string) => any;\n  getValue: (\n    rowIndex: number,\n    columnIndex: number\n  ) => boolean | string | number | Date | number[] | null;\n  insertColumn: (\n    columnIndex: number,\n    type: GoogleDataTableColumnType,\n    label?: string,\n    id?: string\n  ) => void;\n  insertRows: (\n    rowIndex: number,\n    numberOrArray: GoogleDataTableRow[] | number\n  ) => void;\n  removeColumn: (columnIndex: number) => void;\n  removeColumns: (columnIndex: number, numberOfColumns: number) => void;\n  removeRow: (rowIndex: number) => void;\n  removeRows: (rowIndex: number, numberOfColumns: number) => void;\n  setCell: (\n    rowIndex: number,\n    columnIndex: number,\n    value?: any,\n    formattedValue?: string,\n    properties?: {}\n  ) => {};\n  setColumnLabel: (columnIndex: number, label: string) => void;\n  setColumnProperty: (columnIndex: number, name: string, value: any) => void;\n  setColumnProperties: (columnIndex: number, properties: {} | null) => void;\n  setFormattedValue: (\n    rowIndex: number,\n    columnIndex: number,\n    formattedValue: string\n  ) => void;\n  setProperty: (\n    rowIndex: number,\n    columnIndex: number,\n    name: string,\n    value: any\n  ) => void;\n  setProperties: (\n    rowIndex: number,\n    columnIndex: number,\n    properties: {} | null\n  ) => void;\n\n  setRowProperty: (rowIndex: number, name: string, value: any) => void;\n  setRowProperties: (rowIndex: number, properties: {} | null) => void;\n  setTableProperties: (properties: {} | null) => void;\n  setValue: (rowIndex: number, columnIndex: number, value: string) => void;\n  sort: (sortColumns: GoogleDataTableSortColumns) => void;\n  toJSON: () => string; // GoogleDataTableJS\n};\n\nexport type GoogleArrayToDataTable = (\n  data: any[][],\n  isFirstRowLabels?: boolean\n) => GoogleDataTable;\n\nexport type GoogleChartOptions = {\n  width?: number;\n  height?: number;\n  is3D?: boolean;\n  backgroundColor: string;\n\n  title?: string;\n  hAxis?: {\n    minValue?: any;\n    maxValue?: any;\n    ticks?: GoogleChartTicks;\n    title?: string;\n    viewWindow?: { max?: any; min?: any; [otherOptionKey: string]: any };\n    [otherOptionKey: string]: any;\n  };\n  vAxis?: {\n    minValue?: any;\n    maxValue?: any;\n    ticks?: GoogleChartTicks;\n    title?: string;\n    viewWindow?: { max?: any; min?: any; [otherOptionKey: string]: any };\n    [otherOptionKey: string]: any;\n  };\n  bubble?: {};\n  pieHole?: number;\n  redFrom?: number;\n  redTo?: number;\n  yellowFrom?: number;\n  yellowTo?: number;\n  minorTicks?: number;\n  legend?:\n    | string\n    | {\n        position?: string;\n        maxLines?: number;\n        [otherOptionKey: string]: any;\n      };\n  curveType?: string;\n  showTooltip?: boolean;\n  showInfoWindow?: boolean;\n  allowHtml?: boolean;\n  isStacked?: string | boolean;\n  minColor?: string;\n  midColor?: string;\n  maxColor?: string;\n  headerHeight?: number;\n  fontColor?: string;\n  showScale?: boolean;\n  bar?: { groupWidth?: string }; // Remove space between bars.\n  candlestick?: {\n    fallingColor?: { strokeWidth?: number; fill?: string }; // red\n    risingColor?: { strokeWidth?: number; fill?: string }; // green\n    [otherOptionKey: string]: any;\n  };\n  wordtree?: {\n    format?: string;\n    word?: string;\n    [otherOptionKey: string]: any;\n  };\n  [otherOptionKey: string]: any;\n};\n\n/*\n *\n * </GoogleChartsTypes>\n *\n */\n\nexport type WindowWithMaybeGoogle = Window & { google?: any };\n\nexport type ReactGoogleChartEvent = {\n  eventName: GoogleVizEventName;\n  callback: (eventCallbackArgs: {\n    chartWrapper: GoogleChartWrapper;\n    controlWrapper?: GoogleChartControl;\n    props: ReactGoogleChartProps;\n    google: GoogleViz;\n    eventArgs: any;\n  }) => void;\n};\n\nexport type GoogleChartToolbarItem = {\n  type: \"igoogle\" | \"html\" | \"csv\" | \"htmlcode\";\n  datasource: string;\n  gadget?: string;\n  userPrefs?: {\n    \"3d\": number;\n    [otherKeyMaybe: string]: any;\n  };\n};\n\nexport type ReactGoogleChartProps = {\n  height?: string | number;\n  width?: string | number;\n  graphID?: string;\n  chartType: GoogleChartWrapperChartType;\n  diffdata?: {\n    old: any;\n    new: any;\n  };\n  options?: ChartWrapperOptions[\"options\"];\n  loader?: JSX.Element;\n  errorElement?: JSX.Element;\n  data?: any[] | {};\n  rows?: GoogleDataTableRow[];\n  columns?: GoogleDataTableColumn[];\n  chartActions?: GoogleChartAction[];\n  chartEvents?: ReactGoogleChartEvent[];\n  chartVersion?: GoogleChartVersion;\n  chartPackages?: GoogleChartPackages[];\n  chartLanguage?: string;\n  mapsApiKey?: string;\n  graph_id?: string;\n  legendToggle?: boolean;\n  legend_toggle?: boolean;\n  onLoad?: (google: GoogleViz) => void;\n  getChartWrapper?: (\n    chartWrapper: GoogleChartWrapper,\n    google: GoogleViz\n  ) => void;\n  getChartEditor?: (args: {\n    chartEditor: GoogleChartEditor;\n    chartWrapper: GoogleChartWrapper;\n    google: GoogleViz;\n  }) => void;\n  className?: string;\n  style?: React.CSSProperties;\n  formatters?: {\n    column: number | number[];\n    type:\n      | \"ArrowFormat\"\n      | \"BarFormat\"\n      | \"ColorFormat\"\n      | \"DateFormat\"\n      | \"NumberFormat\"\n      | \"PatternFormat\";\n    options?: {};\n  }[];\n  spreadSheetUrl?: string;\n  spreadSheetQueryParameters?: {\n    headers: number;\n    gid?: number | string;\n    sheet?: string;\n    query?: string;\n    access_token?: string;\n  };\n  rootProps?: any;\n  controls?: GoogleChartControlProp[];\n  render?: ReactGoogleChartDashboardRender;\n  //https://developers.google.com/chart/interactive/docs/gallery/toolbar#example_1\n  toolbarItems?: GoogleChartToolbarItem[];\n  toolbarID?: string;\n  chartWrapperParams?: any;\n};\n\nexport type GoogleChartDashboard = {\n  draw: (data: GoogleDataTable) => void;\n  bind: (\n    controlWrapperOrWrappers: GoogleChartControl | GoogleChartControl[],\n    chartWrapper: GoogleChartWrapper\n  ) => void;\n};\n\nexport type ReactGoogleChartDashboardRender = ({\n  renderControl,\n  renderChart,\n  renderToolbar,\n}: {\n  renderControl: (\n    filter: ({\n      control,\n      controlProp,\n    }: {\n      control: GoogleChartControl;\n      controlProp: GoogleChartControlProp;\n    }) => boolean\n  ) => any;\n  renderChart: () => any;\n  renderToolbar: () => any;\n}) => any;\nexport type GoogleChartControlOptions = any;\nexport type GoogleChartControl = {\n  getContainerId: () => string;\n  getOptions: () => GoogleChartControlOptions;\n  getState: () => any;\n  setState: (state: any) => void;\n  setOptions: (options: GoogleChartControlOptions) => void;\n  setControlType: (controlType: string) => void;\n};\n\nexport type ReactGoogleChartState = {\n  loadingStatus: \"loading\" | \"errored\" | \"ready\";\n  google: null | GoogleViz;\n  // hiddenColumns: string[];\n};\n\nexport type ReactGoogleChartContext = {\n  data: ReactGoogleChartProps[\"data\"];\n  rows: ReactGoogleChartProps[\"rows\"] | null;\n  columns: ReactGoogleChartProps[\"columns\"] | null;\n  diffdata: ReactGoogleChartProps[\"diffdata\"] | null;\n  options: ReactGoogleChartProps[\"options\"] | null;\n  legend_toggle: ReactGoogleChartProps[\"legend_toggle\"] | null;\n  legendToggle: ReactGoogleChartProps[\"legendToggle\"] | null;\n  chartType: ReactGoogleChartProps[\"chartType\"] | null;\n  formatters: ReactGoogleChartProps[\"formatters\"] | null;\n  spreadSheetUrl: ReactGoogleChartProps[\"spreadSheetUrl\"] | null;\n  spreadSheetQueryParameters:\n    | ReactGoogleChartProps[\"spreadSheetQueryParameters\"]\n    | null;\n};\n"],"sourceRoot":""}